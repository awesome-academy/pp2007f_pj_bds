/*!
* Note: While Microsoft is not the author of this file, Microsoft is
* offering you a license subject to the terms of the Microsoft Software
* License Terms for Microsoft ASP.NET Model View Controller 3.
* Microsoft reserves all other rights. The notices below are provided
* for informational purposes only and are not the license terms under
* which Microsoft distributed this file.
*
* jQuery UI 1.8.11
*
* Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
*
* http://docs.jquery.com/UI
*/
function showToolTip(n){n.hasClass("tooltip")==!1&&(n.addClass("tooltip"),n.append('<dl class="tooltip-text">Đã sao chép<\/dl>'));$(".tooltip-text").css("display","none");n.hasClass("tooltip")&&n.children(".tooltip-text").css("display","block").animate({opacity:"1"},1e3,"easeInOutQuint").delay(800).animate({opacity:"0"},2e3,"easeInOutQuint",function(){$(this).css("display","none")})}function replaceSpecialRegexChars(n){return n.replace(/\(/ig,"\\(").replace(/\)/ig,"\\)").replace(/\[/ig,"\\[").replace(/\]/ig,"\\]").replace(/\*/ig,"\\*").replace(/\|/ig,"\\|").replace(/\+/ig,"\\+").replace(/\?/ig,"\\?")}function reformatToHideMobileNumber(n){for(var i=n.split("").reverse(),r=[],u=0,t=0;t<i.length;t++){if("0123456789".indexOf(i[t])>=0&&u<3){u++;r.push("*");continue}r.push(i[t])}return r.reverse().join("")}function formatMobileToDisplay(n){return n=$.trim(n),n.substr(0,4)+" "+n.substr(4,3)+" "+n.substr(7,3)}function verifyHeaderFone(n){for(var i,t=0;t<lstHeaderMobile10.length;t++){if(i=lstHeaderMobile10[t],n.indexOf("0"+i)==0)return 10;if(n.indexOf("84"+i)==0)return 11}for(t=0;t<lstHeaderMobile11.length;t++){if(i=lstHeaderMobile11[t],n.indexOf("0"+i)==0)return 11;if(n.indexOf("84"+i)==0)return 12}for(t=0;t<lstHeaderPhone.length;t++){if(i=lstHeaderPhone[t],n.indexOf("0"+i)==0)return 11;if(n.indexOf("84"+i)==0)return 12}for(t=0;t<lstHeaderFone.length;t++){if(i=lstHeaderFone[t],n.indexOf("0"+i)==0)return i.length>=3?11:10;if(n.indexOf("84"+i)==0)return i.length>=3?12:11}return 0}function detectTelNumberNewFromHtml(n,t,i,r){var v,s,f,h,l,y,a,p,o,u,c,w,e,b,k;if(n=n?n:"",v=n.replace(/<[^<>]+>/ig,"#"),v=v.replace(/\/m2/ig,"/m²"),s=[],f=v.trim().match(/\+?([-\.\s\(\)\d])*/g),f!=null&&f.length>0)for(e=0;e<f.length;e++)if((u=f[e],u.length>10&&(u=u.replace(/[^\d]+$/ig,""),u=u.replace(/^[^\d]+/ig,"")),!(u.length<10))&&(h=u.replace(/[^\d]/g,""),!(h.length<10)))try{if(l=verifyHeaderFone(h),l>0){if(h.length>l){for(y=0,a="",h="",o=0;o<u.length;o++)if(a=a+u[o],isFinite(u[o])&&u[o]!=" "&&(y++,h=h+u[o]),y>=l)break;f.push(u.substring(a.length));u=a}if(h.length==l){for(p=!1,u=u.trim(),o=0;o<s.length;o++)if(s[o][0]==u){p=!0;break}p==!1&&s.push([u,h])}}}catch(d){console.log(d)}if(f=n.match(/<a href=\"tel:([^>]+)\">([^>]+)<\/a>/g),f!=null&&f.length>0)for(e=0;e<f.length;e++)u=f[e],c=u.match(/>[^>]+</g),c!=null&&c.length>0&&(c=c[0].replace(">","").replace("<","")),w=RegExp(u,"g"),n=n.replace(w,c);for(s.length>0&&s.sort(function(n,t){return n[0].length<t[0].length?-1:n[0].length>t[0].length?1:0}),e=0;e<s.length;e++){var u=s[e][0],nt=s[e][1],g=RegExp("[>]?[^<>]{0,}"+replaceSpecialRegexChars(u)+"[^<>]{0,}[<]?","g");f=n.match(g);f!=null&&f.length>0?$.each(f,function(f,e){var o=RegExp(replaceSpecialRegexChars(e),"g"),s=RegExp(replaceSpecialRegexChars(u),"g");n=r?n.replace(o,e.replace(s,reformatToHideMobileNumber(u))):t?n.replace(o,e.replace(s,'<span class="hidden-mobile '+i+'">'+u+"<\/span>")):n.replace(o,e.replace(s,'<span class="hidden-phone hidden-mobile '+i+'">'+u+"<\/span>"))}):r?(b=RegExp(replaceSpecialRegexChars(u),"g"),k=RegExp(replaceSpecialRegexChars(u),"g"),n=n.replace(b,u.replace(k,reformatToHideMobileNumber(u)))):n=t?n.replace(u,'<span class="hidden-mobile '+i+'">'+u+"<\/span>"):n.replace(u,'<span class="hidden-phone hidden-mobile'+i+'">'+u+"<\/span>")}return n}function detectTelNumberNew(n,t,i,r,u){var f,w,o,c,v,p,h,g,b,s,y,k,e,a;i===undefined&&(i="");r===undefined&&(r=!1);t===undefined&&(t=!1);try{f=n.html();f=f?f:"";var l=[],p=f.split(/(<br>)/ig),d=/((https:\/\/|http:\/\/|www)[^\s><]+)/ig,h=f.match(d);if(h!=null&&h.length>0)for(s=0;s<h.length;s++){for(w=!1,o=0;o<l.length;o++)if(l[o]==h[s]){w=!0;break}w==!1&&l.push(h[s])}for(o=0;o<l.length;o++)c=RegExp(replaceSpecialRegexChars(l[o]),"ig"),f=f.replace(c,"##URL"+o+"##");for(f=detectTelNumberNewFromHtml(f,t,i,r),o=0;o<l.length;o++)e=l[o],(e.indexOf("sanbatdongsan.info.vn")>0||e.indexOf("nhadatvanminh.com.vn")>0||e.indexOf("nhadatkhachsan24h.com.vn")>0||e.indexOf("phoxanh.vn")>0||e.indexOf("landber.com")>0||e.indexOf("propzy.vn")>0||e.indexOf("enhadat.vn")>0||e.indexOf("homedy.com")>0)&&(e=""),c=RegExp(replaceSpecialRegexChars("##URL"+o+"##"),"ig"),f=f.replace(c,e);if(r)return n.html(f);if(t){n.html(f);return}if(v=null,!n.html().match(/<\/a>/ig))for(p=n.html().split(/(<br>)/ig),s=0;s<p.length;s++)if(h=p[s].match(d),v=h!=null&&h.length>0?h[0]:null,v!=null)break;if(g=/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/g,b=f.match(g),b)for(result=[],$.each(b,function(n,t){for(var r=!1,i=0;i<result.length;i++)if(result[i]==t){r=!0;break}r==!1&&result.push(t)}),s=0;s<result.length;s++)y=result[s],k=RegExp(">[^<>]{0,}"+y+"[^<>]{0,}(<|$)","g"),f.match(k)&&$.each(f.match(k),function(n,t){var i=RegExp(replaceSpecialRegexChars(y),"g"),r=RegExp(replaceSpecialRegexChars(t),"g");f=f.replace(r,t.replace(i,"<a href='mailto:"+y+"'>"+y+"<\/a>"))});return v!=null&&(e=v,a=e,e.toLowerCase().startsWith("https://")==!1&&e.toLowerCase().startsWith("http://")==!1&&(a="http://"+e),(u==undefined||u==!1)&&(a='<a rel="nofollow" target="_blank" href="'+a+'">'+a+"<\/a>"),c="(<([^><]+))"+replaceSpecialRegexChars(e)+"([^><]*)>",c=new RegExp(c,"ig"),f.match(c)||(f=f.replace(new RegExp(replaceSpecialRegexChars(e)),a))),n.html(f)}catch(nt){console.log(nt)}}function copyToClipboard(n){function i(n){var r=navigator.userAgent.match(/ipad|iphone/i),t,i;if(r){var u=n.contentEditable,f=n.readOnly,e=document.scrollingElement.scrollTop;n.contentEditable=!0;n.readOnly=!1;t=document.createRange();t.selectNodeContents(n);i=window.getSelection();i.removeAllRanges();i.addRange(t);n.setSelectionRange(0,999999);n.contentEditable=u;n.readOnly=f;document.scrollingElement.scrollTop=e}else n.select();document.execCommand("copy")}var t=document.createElement("textarea");t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=n;document.body.appendChild(t);i(t);try{return document.execCommand("copy")}catch(r){return console.log("Oops, unable to copy"),!1}finally{document.body.removeChild(t)}}var SearchingHistoriesServices,YourLocationServices,cm,boxProductRight,MarkingProductsServices;(function(n,t){function i(t){return!n(t).parents().andSelf().filter(function(){return n.curCSS(this,"visibility")==="hidden"||n.expr.filters.hidden(this)}).length}n.ui=n.ui||{};n.ui.version||(n.extend(n.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),n.fn.extend({_focus:n.fn.focus,focus:function(t,i){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){n(r).focus();i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.curCSS(this,"position",1))&&/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length){i=n(this[0]);for(var r;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&r!==0))return r;i=i.parent()}}return 0},disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.curCSS(t,"padding"+this,!0))||0;r&&(i-=parseFloat(n.curCSS(t,"border"+this+"Width",!0))||0);u&&(i-=parseFloat(n.curCSS(t,"margin"+this,!0))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return typeof t!="number"?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}}),n.extend(n.expr[":"],{data:function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){var r=t.nodeName.toLowerCase(),u=n.attr(t,"tabindex");return"area"===r?(r=t.parentNode,u=r.name,!t.href||!u||r.nodeName.toLowerCase()!=="map")?!1:(t=n("img[usemap=#"+u+"]")[0],!!t&&i(t)):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||!isNaN(u):!isNaN(u))&&i(t)},tabbable:function(t){var i=n.attr(t,"tabindex");return(isNaN(i)||i>=0)&&n(t).is(":focusable")}}),n(function(){var i=document.body,t=i.appendChild(t=document.createElement("div"));n.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});n.support.minHeight=t.offsetHeight===100;n.support.selectstart="onselectstart"in t;i.removeChild(t).style.display="none"}),n.extend(n.ui,{plugin:{add:function(t,i,r){t=n.ui[t].prototype;for(var u in r)t.plugins[u]=t.plugins[u]||[],t.plugins[u].push([i,r[u]])},call:function(n,t,i){if((t=n.plugins[t])&&n.element[0].parentNode)for(var r=0;r<t.length;r++)n.options[t[r][0]]&&t[r][1].apply(n.element,i)}},contains:function(n,t){return document.compareDocumentPosition?n.compareDocumentPosition(t)&16:n!==t&&n.contains(t)},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;i=i&&i==="left"?"scrollLeft":"scrollTop";var r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(n,t,i){return n>t&&n<t+i},isOver:function(t,i,r,u,f,e){return n.ui.isOverAxis(t,r,f)&&n.ui.isOverAxis(i,u,e)}}))})(jQuery);
/*!
 * Note: While Microsoft is not the author of this file, Microsoft is
 * offering you a license subject to the terms of the Microsoft Software
 * License Terms for Microsoft ASP.NET Model View Controller 3.
 * Microsoft reserves all other rights. The notices below are provided
 * for informational purposes only and are not the license terms under
 * which Microsoft distributed this file.
 *
 * jQuery UI Widget 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)\
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(n,t){var i,r;n.cleanData?(i=n.cleanData,n.cleanData=function(t){for(var r=0,u;(u=t[r])!=null;r++)n(u).triggerHandler("remove");i(t)}):(r=n.fn.remove,n.fn.remove=function(t,i){return this.each(function(){return i||(!t||n.filter(t,[this]).length)&&n("*",this).add([this]).each(function(){n(this).triggerHandler("remove")}),r.call(n(this),t,i)})});n.widget=function(t,i,r){var u=t.split(".")[0],f;t=t.split(".")[1];f=u+"-"+t;r||(r=i,i=n.Widget);n.expr[":"][f]=function(i){return!!n.data(i,t)};n[u]=n[u]||{};n[u][t]=function(n,t){arguments.length&&this._createWidget(n,t)};i=new i;i.options=n.extend(!0,{},i.options);n[u][t].prototype=n.extend(!0,i,{namespace:u,widgetName:t,widgetEventPrefix:n[u][t].prototype.widgetEventPrefix||t,widgetBaseClass:f},r);n.widget.bridge(t,n[u][t])};n.widget.bridge=function(i,r){n.fn[i]=function(u){var f=typeof u=="string",e=Array.prototype.slice.call(arguments,1),o=this;return(u=!f&&e.length?n.extend.apply(null,[!0,u].concat(e)):u,f&&u.charAt(0)==="_")?o:(f?this.each(function(){var r=n.data(this,i),f=r&&n.isFunction(r[u])?r[u].apply(r,e):r;if(f!==r&&f!==t)return o=f,!1}):this.each(function(){var t=n.data(this,i);t?t.option(u||{})._init():n.data(this,i,new r(u,this))}),o)}};n.Widget=function(n,t){arguments.length&&this._createWidget(n,t)};n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){n.data(i,this.widgetName,this);this.element=n(i);this.options=n.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,r){var u=i;if(arguments.length===0)return n.extend({},this.options);if(typeof i=="string"){if(r===t)return this.options[i];u={};u[i]=r}return this._setOptions(u),this},_setOptions:function(t){var i=this;return n.each(t,function(n,t){i._setOption(n,t)}),this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,r){var f=this.options[t],u;if(i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{},i.originalEvent)for(t=n.event.props.length;t;)u=n.event.props[--t],i[u]=i.originalEvent[u];return this.element.trigger(i,r),!(n.isFunction(f)&&f.call(this.element[0],i,r)===!1||i.isDefaultPrevented())}}})(jQuery);
/*!
 * Note: While Microsoft is not the author of this file, Microsoft is
 * offering you a license subject to the terms of the Microsoft Software
 * License Terms for Microsoft ASP.NET Model View Controller 3.
 * Microsoft reserves all other rights. The notices below are provided
 * for informational purposes only and are not the license terms under
 * which Microsoft distributed this file.
 *
 * jQuery UI Mouse 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)\
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(n){n.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,r=t.which==1,u=typeof this.options.cancel=="string"?n(t.target).parents().add(t.target).filter(this.options.cancel).length:!1;return!r||u||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),t.originalEvent.mouseHandled=!0)}},_mouseMove:function(t){return n.browser.msie&&!(document.documentMode>=9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1)?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery),function(n){n.ui=n.ui||{};var t=/left|center|right/,i=/top|center|bottom/,r=n.fn.position,u=n.fn.offset;n.fn.position=function(u){if(!u||!u.of)return r.apply(this,arguments);u=n.extend({},u);var e=n(u.of),l=e[0],c=(u.collision||"flip").split(" "),o=u.offset?u.offset.split(" "):[0,0],s,h,f;return l.nodeType===9?(s=e.width(),h=e.height(),f={top:0,left:0}):l.setTimeout?(s=e.width(),h=e.height(),f={top:e.scrollTop(),left:e.scrollLeft()}):l.preventDefault?(u.at="left top",s=h=0,f={top:u.of.pageY,left:u.of.pageX}):(s=e.outerWidth(),h=e.outerHeight(),f=e.offset()),n.each(["my","at"],function(){var n=(u[this]||"").split(" ");n.length===1&&(n=t.test(n[0])?n.concat(["center"]):i.test(n[0])?["center"].concat(n):["center","center"]);n[0]=t.test(n[0])?n[0]:"center";n[1]=i.test(n[1])?n[1]:"center";u[this]=n}),c.length===1&&(c[1]=c[0]),o[0]=parseInt(o[0],10)||0,o.length===1&&(o[1]=o[0]),o[1]=parseInt(o[1],10)||0,u.at[0]==="right"?f.left+=s:u.at[0]==="center"&&(f.left+=s/2),u.at[1]==="bottom"?f.top+=h:u.at[1]==="center"&&(f.top+=h/2),f.left+=o[0],f.top+=o[1],this.each(function(){var i=n(this),r=i.outerWidth(),e=i.outerHeight(),l=parseInt(n.curCSS(this,"marginLeft",!0))||0,a=parseInt(n.curCSS(this,"marginTop",!0))||0,y=r+l+(parseInt(n.curCSS(this,"marginRight",!0))||0),p=e+a+(parseInt(n.curCSS(this,"marginBottom",!0))||0),t=n.extend({},f),v;u.my[0]==="right"?t.left-=r:u.my[0]==="center"&&(t.left-=r/2);u.my[1]==="bottom"?t.top-=e:u.my[1]==="center"&&(t.top-=e/2);t.left=Math.round(t.left);t.top=Math.round(t.top);v={left:t.left-l,top:t.top-a};n.each(["left","top"],function(i,f){n.ui.position[c[i]]&&n.ui.position[c[i]][f](t,{targetWidth:s,targetHeight:h,elemWidth:r,elemHeight:e,collisionPosition:v,collisionWidth:y,collisionHeight:p,offset:o,my:u.my,at:u.at})});n.fn.bgiframe&&i.bgiframe();i.offset(n.extend(t,{using:u.using}))})};n.ui.position={fit:{left:function(t,i){var r=n(window);r=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft();t.left=r>0?t.left-r:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var r=n(window);r=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop();t.top=r>0?t.top-r:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(t,i){var r;if(i.at[0]!=="center"){r=n(window);r=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft();var u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:-i.targetWidth,e=-2*i.offset[0];t.left+=i.collisionPosition.left<0?u+f+e:r>0?u+f+e:0}},top:function(t,i){var r;if(i.at[1]!=="center"){r=n(window);r=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop();var u=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:-i.targetHeight,e=-2*i.offset[1];t.top+=i.collisionPosition.top<0?u+f+e:r>0?u+f+e:0}}}};n.offset.setOffset||(n.offset.setOffset=function(t,i){/static/.test(n.curCSS(t,"position"))&&(t.style.position="relative");var u=n(t),r=u.offset(),f=parseInt(n.curCSS(t,"top",!0),10)||0,e=parseInt(n.curCSS(t,"left",!0),10)||0;r={top:i.top-r.top+f,left:i.left-r.left+e};"using"in i?i.using.call(t,r):u.css(r)},n.fn.offset=function(t){var i=this[0];return!i||!i.ownerDocument?null:t?this.each(function(){n.offset.setOffset(this,t)}):u.call(this)})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper!="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),!this.handle)?!1:!0},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1,r;return(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),(!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")?!1:(this.options.revert=="invalid"&&!i||this.options.revert=="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?(r=this,n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()})):this._trigger("stop",t)!==!1&&this._clear(),!1)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!n(this.options.handle,this.element).length?!0:!1;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options;return t=n.isFunction(i.helper)?n(i.helper.apply(this.element[0],[t])):i.helper=="clone"?this.element.clone():this.element,t.parents("body").length||t.appendTo(i.appendTo=="parent"?this.element[0].parentNode:i.appendTo),t[0]==this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options,i,r;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);(t.containment=="document"||t.containment=="window")&&(this.containment=[(t.containment=="document"?0:n(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(t.containment=="document"?0:n(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:n(window).scrollLeft())+n(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:n(window).scrollTop())+(n(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array?t.containment.constructor==Array&&(this.containment=t.containment):(i=n(t.containment)[0],i&&(t=n(t.containment).offset(),r=n(i).css("overflow")!="hidden",this.containment=[t.left+(parseInt(n(i).css("borderLeftWidth"),10)||0)+(parseInt(n(i).css("paddingLeft"),10)||0),t.top+(parseInt(n(i).css("borderTopWidth"),10)||0)+(parseInt(n(i).css("paddingTop"),10)||0),t.left+(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n(i).css("borderLeftWidth"),10)||0)-(parseInt(n(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,t.top+(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n(i).css("borderTopWidth"),10)||0)-(parseInt(n(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]))},_convertPositionTo:function(t,i){i||(i=this.position);t=t=="absolute"?1:-1;var r=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():u?0:r.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():u?0:r.scrollLeft())*t)}},_generatePosition:function(t){var u=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),i=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),u.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/u.grid[1])*u.grid[1],r=this.containment?(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?(r-this.offset.click.top<this.containment[1])?r+u.grid[1]:r-u.grid[1]:r:r,i=this.originalPageX+Math.round((i-this.originalPageX)/u.grid[0])*u.grid[0],i=this.containment?(i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2])?(i-this.offset.click.left<this.containment[0])?i+u.grid[0]:i-u.grid[0]:i:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.extend(n.ui.draggable,{version:"1.8.11"});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("draggable"),u=this;n.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","iframeFix",{start:function(){var t=n(this).data("draggable").options;n(t.iframeFix===!0?"iframe":t.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"><\/div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")})},stop:function(){n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){t=n(i.helper);i=n(this).data("draggable").options;t.css("opacity")&&(i._opacity=t.css("opacity"));t.css("opacity",i.opacity)},stop:function(t,i){t=n(this).data("draggable").options;t._opacity&&n(i.helper).css("opacity",t._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("draggable");t.scrollParent[0]!=document&&t.scrollParent[0].tagName!="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("draggable"),i=r.options,u=!1;r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"?(i.axis&&i.axis=="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis=="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis=="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis=="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var d,r=n(this).data("draggable"),k=r.options,u=k.snapTolerance,c=i.offset.left,a=c+r.helperProportions.width,l=i.offset.top,v=l+r.helperProportions.height,f=r.snapElements.length-1;f>=0;f--){var e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height;if(e-u<c&&c<s+u&&o-u<l&&l<h+u||e-u<c&&c<s+u&&o-u<v&&v<h+u||e-u<a&&a<s+u&&o-u<l&&l<h+u||e-u<a&&a<s+u&&o-u<v&&v<h+u){if(k.snapMode!="inner"){var y=Math.abs(o-v)<=u,p=Math.abs(h-l)<=u,w=Math.abs(e-a)<=u,b=Math.abs(s-c)<=u;y&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top);p&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top);w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left);b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)}d=y||p||w||b;k.snapMode!="outer"&&(y=Math.abs(o-l)<=u,p=Math.abs(h-v)<=u,w=Math.abs(e-c)<=u,b=Math.abs(s-a)<=u,y&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top),p&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left),b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left));!r.snapElements[f].snapping&&(y||p||w||b||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item}));r.snapElements[f].snapping=y||p||w||b||d}else r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1}}});n.ui.plugin.add("draggable","stack",{start:function(){var t=n(this).data("draggable").options,i;t=n.makeArray(n(t.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(t[0].style.zIndex)||0,n(t).each(function(n){this.style.zIndex=i+n}),this[0].style.zIndex=i+t.length)}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){t=n(i.helper);i=n(this).data("draggable").options;t.css("zIndex")&&(i._zIndex=t.css("zIndex"));t.css("zIndex",i.zIndex)},stop:function(t,i){t=n(this).data("draggable").options;t._zIndex&&n(i.helper).css("zIndex",t._zIndex)}})}(jQuery),function(n){n.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0;this.isout=1;this.accept=n.isFunction(i)?i:function(n){return n.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[];n.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var i=n.ui.ddmanager.droppables[this.options.scope],t=0;t<i.length;t++)i[t]==this&&i.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){t=="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)});n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]==this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]==this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u;return!r||(r.currentItem||r.element)[0]==this.element[0]?!1:(u=!1,this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.extend(n.ui.droppable,{version:"1.8.11"});n.ui.intersect=function(t,i,r){if(!i.offset)return!1;var e=(t.positionAbs||t.position.absolute).left,s=e+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,h=o+t.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,f=i.offset.top,l=f+i.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+t.helperProportions.width/2&&s-t.helperProportions.width/2<c&&f<o+t.helperProportions.height/2&&h-t.helperProportions.height/2<l;case"pointer":return n.ui.isOver((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f,u,i.proportions.height,i.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}};n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r=0,f;n:for(;r<u.length;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]==u[r].element[0]){u[r].proportions.height=0;continue n}u[r].visible=u[r].element.css("display")!="none";u[r].visible&&(o=="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=r||this._drop.call(this,i)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),r},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var u,r,f;this.options.disabled||this.greedyChild||!this.visible||(u=n.ui.intersect(t,this,this.options.tolerance),(u=!u&&this.isover==1?"isout":u&&this.isover==0?"isover":null)&&(this.options.greedy&&(f=this.element.parents(":data(droppable):eq(0)"),f.length&&(r=n.data(f[0],"droppable"),r.greedyChild=u=="isover"?1:0)),r&&u=="isover"&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[u]=1,this[u=="isout"?"isover":"isout"]=0,this[u=="isover"?"_over":"_out"].call(this,i),r&&u=="isout"&&(r.isout=0,r.isover=1,r._over.call(r,i))))})}}}(jQuery),function(n){n.widget("ui.resizable",n.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var r=this,t=this.options,e,u,i,f;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&n.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(n('<div class="ui-wrapper" style="overflow: hidden;"><\/div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String)for(this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},u=0;u<e.length;u++)i=n.trim(e[u]),f=n('<div class="ui-resizable-handle ui-resizable-'+i+'"><\/div>'),/sw|se|ne|nw/.test(i)&&f.css({zIndex:++t.zIndex}),"se"==i&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(f);this._renderAxis=function(t){var i,r,u;t=t||this.element;for(i in this.handles)this.handles[i].constructor==String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),u=0,u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,u),this._proportionallyResize()),n(this.handles[i])};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!r.resizing){if(this.className)var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);r.axis=n&&n[1]?n[1]:"se"}});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").hover(function(){n(this).removeClass("ui-resizable-autohide");r._handles.show()},function(){r.resizing||(n(this).addClass("ui-resizable-autohide"),r._handles.hide())}));this._mouseInit()},destroy:function(){var i,t;return this._mouseDestroy(),i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()},this.elementIsWrapper&&(i(this.element),t=this.element,t.after(this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")})).remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var r in this.handles)n(this.handles[r])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var u=this.options,f=this.element.position(),r=this.element,e;return this.resizing=!0,this.documentScroll={top:n(document).scrollTop(),left:n(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:f.top,left:f.left}),n.browser.opera&&/relative/.test(r.css("position"))&&r.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,u=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",u=="auto"?this.axis+"-resize":u),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(n){var r=this.helper,t=this.originalMousePosition,i=this._change[this.axis];return i?(t=i.apply(this,[n,n.pageX-t.left||0,n.pageY-t.top||0]),(this._aspectRatio||n.shiftKey)&&(t=this._updateRatio(t,n)),t=this._respectSize(t,n),this._propagate("resize",n),r.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(t),this._trigger("resize",n,this.ui()),!1):!1},_mouseStop:function(t){var f,i,r,u,e;return this.resizing=!1,f=this.options,i=this,this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),r=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,u=u?0:i.sizeDiff.width,u={width:i.helper.width()-u,height:i.helper.height()-r},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,e=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,f.animate||this.element.css(n.extend(u,{top:e,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!f.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(n){this.offset=this.helper.offset();t(n.left)&&(this.position.left=n.left);t(n.top)&&(this.position.top=n.top);t(n.height)&&(this.size.height=n.height);t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,t=this.size,r=this.axis;return n.height?n.width=t.height*this.aspectRatio:n.width&&(n.height=t.width/this.aspectRatio),r=="sw"&&(n.left=i.left+(t.width-n.width),n.top=null),r=="nw"&&(n.top=i.top+(t.height-n.height),n.left=i.left+(t.width-n.width)),n},_respectSize:function(n){var i=this.options,r=this.axis,u=t(n.width)&&i.maxWidth&&i.maxWidth<n.width,f=t(n.height)&&i.maxHeight&&i.maxHeight<n.height,e=t(n.width)&&i.minWidth&&i.minWidth>n.width,o=t(n.height)&&i.minHeight&&i.minHeight>n.height;e&&(n.width=i.minWidth);o&&(n.height=i.minHeight);u&&(n.width=i.maxWidth);f&&(n.height=i.maxHeight);var s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r);return r=/nw|ne|n/.test(r),e&&c&&(n.left=s-i.minWidth),u&&c&&(n.left=s-i.maxWidth),o&&r&&(n.top=h-i.minHeight),f&&r&&(n.top=h-i.maxHeight),(i=!n.width&&!n.height)&&!n.left&&n.top?n.top=null:i&&!n.top&&n.left&&(n.left=null),n},_proportionallyResize:function(){var i,r,t,u,f;if(this._proportionallyResizeElements.length)for(i=this.helper||this.element,r=0;r<this._proportionallyResizeElements.length;r++)t=this._proportionallyResizeElements[r],this.borderDif||(u=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],f=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")],this.borderDif=n.map(u,function(n,t){return n=parseInt(n,10)||0,t=parseInt(f[t],10)||0,n+t})),n.browser.msie&&(n(i).is(":hidden")||n(i).parents(":hidden").length)||t.css({height:i.height()-this.borderDif[0]-this.borderDif[2]||0,width:i.width()-this.borderDif[1]-this.borderDif[3]||0})},_renderProxy:function(){var r=this.options,t,i;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||n('<div style="overflow:hidden;"><\/div>'),t=n.browser.msie&&n.browser.version<7,i=t?1:0,t=t?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+t,height:this.element.outerHeight()+t,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++r.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(n,t,i){return{top:this.originalPosition.top+i,height:this.originalSize.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);t!="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.extend(n.ui.resizable,{version:"1.8.11"});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).data("resizable").options,i=function(t){n(t).each(function(){var t=n(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};typeof t.alsoResize!="object"||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("resizable");t=r.options;var u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0},e=function(t,u){n(t).each(function(){var t=n(this),e=n(this).data("resizable-alsoresize"),f={},s=u&&u.length?u:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(s,function(n,t){(n=(e[t]||0)+(o[t]||0))&&n>=0&&(f[t]=n||null)});n.browser.opera&&/relative/.test(t.css("position"))&&(r._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"}));t.css(f)})};typeof t.alsoResize=="object"&&!t.alsoResize.nodeType?n.each(t.alsoResize,function(n,t){e(n,t)}):e(t.alsoResize)},stop:function(){var i=n(this).data("resizable"),t=i.options,r=function(t){n(t).each(function(){var t=n(this);t.css({position:t.data("resizable-alsoresize").position})})};i._revertToRelativePosition&&(i._revertToRelativePosition=!1,typeof t.alsoResize=="object"&&!t.alsoResize.nodeType?n.each(t.alsoResize,function(n){r(n)}):r(t.alsoResize));n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("resizable"),o=i.options,r=i._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e;u={width:i.size.width-(u?0:i.sizeDiff.width),height:i.size.height-f};f=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null;e=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(u,e&&f?{top:e,left:f}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var t=n(this).data("resizable"),r=t.element,u=t.options.containment,f,e,o,s;(r=u instanceof n?u.get(0):/parent/.test(u)?r.parent().get(0):u)&&(t.containerElement=n(r),/document/.test(u)||u==document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(f=n(r),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=i(f.css("padding"+t))}),t.containerOffset=f.offset(),t.containerPosition=f.position(),t.containerSize={height:f.innerHeight()-e[3],width:f.innerWidth()-e[1]},u=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,s=n.ui.hasScroll(r,"left")?r.scrollWidth:s,o=n.ui.hasScroll(r)?r.scrollHeight:o,t.parentData={element:r,left:u.left,top:u.top,width:s,height:o}))},resize:function(t){var i=n(this).data("resizable"),f=i.options,r=i.containerOffset,e=i.position,u,o;t=i._aspectRatio||t.shiftKey;u={top:0,left:0};o=i.containerElement;o[0]!=document&&/static/.test(o.css("position"))&&(u=r);e.left<(i._helper?r.left:0)&&(i.size.width+=i._helper?i.position.left-r.left:i.position.left-u.left,t&&(i.size.height=i.size.width/f.aspectRatio),i.position.left=f.helper?r.left:0);e.top<(i._helper?r.top:0)&&(i.size.height+=i._helper?i.position.top-r.top:i.position.top,t&&(i.size.width=i.size.height*f.aspectRatio),i.position.top=i._helper?r.top:0);i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width);r=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height);e=i.containerElement.get(0)==i.element.parent().get(0);u=/relative|absolute/.test(i.containerElement.css("position"));e&&u&&(f-=i.parentData.left);f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,t&&(i.size.height=i.size.width/i.aspectRatio));r+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-r,t&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width;i=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:i});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:i})}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("resizable"),i=t.options,o=t.size,r=t.originalSize,f=t.originalPosition,e=t.axis,u;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;u=Math.round((o.width-r.width)/(i.grid[0]||1))*(i.grid[0]||1);i=Math.round((o.height-r.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(e)?(t.size.width=r.width+u,t.size.height=r.height+i):/^(ne)$/.test(e)?(t.size.width=r.width+u,t.size.height=r.height+i,t.position.top=f.top-i):(/^(sw)$/.test(e)?(t.size.width=r.width+u,t.size.height=r.height+i):(t.size.width=r.width+u,t.size.height=r.height+i,t.position.top=f.top-i),t.position.left=f.left-u)}});var i=function(n){return parseInt(n,10)||0},t=function(n){return!isNaN(parseInt(n,10))}}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var i=this,t;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var r=this,i;this.opos=[t.pageX,t.pageY];this.options.disabled||(i=this.options,this.selectees=n(i.filter,this.element[0]),this._trigger("start",t),n(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=n.data(this,"selectable-item");i.startselected=!0;t.metaKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element}))}),n(t.target).parents().andSelf().each(function(){var i=n.data(this,"selectable-item"),u;if(i)return u=!t.metaKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),i.unselecting=!u,i.selecting=u,(i.selected=u)?r._trigger("selecting",t,{selecting:i.element}):r._trigger("unselecting",t,{unselecting:i.element}),!1}))},_mouseDrag:function(t){var e=this,o;if(this.dragged=!0,!this.options.disabled){var s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(o=u,u=i,i=o),r>f&&(o=f,f=r,r=o),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),h;!o||o.element==e.element[0]||(h=!1,s.tolerance=="touch"?h=!(o.left>u||o.right<i||o.top>f||o.bottom<r):s.tolerance=="fit"&&(h=o.left>i&&o.right<u&&o.top>r&&o.bottom<f),h?(o.selected&&(o.$element.removeClass("ui-selected"),o.selected=!1),o.unselecting&&(o.$element.removeClass("ui-unselecting"),o.unselecting=!1),o.selecting||(o.$element.addClass("ui-selecting"),o.selecting=!0,e._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&(t.metaKey&&o.startselected?(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.$element.addClass("ui-selected"),o.selected=!0):(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.startselected&&(o.$element.addClass("ui-unselecting"),o.unselecting=!0),e._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||o.startselected||(o.$element.removeClass("ui-selected"),o.selected=!1,o.$element.addClass("ui-unselecting"),o.unselecting=!0,e._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.extend(n.ui.selectable,{version:"1.8.11"})}(jQuery),function(n){n.widget("ui.sortable",n.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData("sortable-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r,u,f;return this.reverting?!1:this.options.disabled||this.options.type=="static"?!1:(this._refreshItems(t),r=null,u=this,n(t.target).parents().each(function(){if(n.data(this,"sortable-item")==u)return r=n(this),!1}),n.data(t.target,"sortable-item")==u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(f=!1,n(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){i=this.options;var u=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,u._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,u,f;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(i=this.options,r=!1,this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=this.items[i],u=r.item[0],f=this._intersectsWithPointer(r),f&&u!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=u&&!n.ui.contains(this.placeholder[0],u)&&(this.options.type=="semi-dynamic"?!n.ui.contains(this.element[0],u):!0)){if(this.direction=f==1?"down":"up",this.options.tolerance=="pointer"||this._intersectsWithSides(r))this._rearrange(t,r);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var r=this;i=r.placeholder.offset();r.reverting=!0;n(this.helper).animate({left:i.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var i=this,t;if(this.dragging)for(this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show(),t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,i._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,i._uiHash(this)),this.containers[t].containerCache.over=0);return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,u=n.left,e=u+n.width,f=n.top,o=f+n.height,r=this.offset.click.top,s=this.offset.click.left;return r=i+r>f&&i+r<o&&t+s>u&&t+s<e,this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?r:u<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<e&&f<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<o},_intersectsWithPointer:function(t){var i=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r;return(t=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=i&&t,t=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection(),!i)?!1:this.floating?r&&r=="right"||t=="down"?2:1:t&&(t=="down"?2:1)},_intersectsWithSides:function(t){var u=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i,r;return t=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection(),this.floating&&r?r=="right"&&t||r=="left"&&!t:i&&(i=="down"&&u||i=="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!=0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!=0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor==String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var o=[],r=[],f=this._connectWith(),e,u,i;if(f&&t)for(t=f.length-1;t>=0;t--)for(e=n(f[t]),u=e.length-1;u>=0;u--)i=n.data(e[u],"sortable"),i&&i!=this&&!i.options.disabled&&r.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(r.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=r.length-1;t>=0;t--)r[t][0].each(function(){o.push(this)});return n(o)},_removeCurrentsFromItems:function(){for(var t,i=this.currentItem.find(":data(sortable-item)"),n=0;n<this.items.length;n++)for(t=0;t<i.length;t++)i[t]==this.items[n].item[0]&&this.items.splice(n,1)},_refreshItems:function(t){var r,e,u,i;this.items=[];this.containers=[this];var s=this.items,o=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],f=this._connectWith();if(f)for(r=f.length-1;r>=0;r--)for(e=n(f[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],"sortable"),i&&i!=this&&!i.options.disabled&&(o.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=o.length-1;r>=0;r--)for(t=o[r][1],f=o[r][0],u=0,e=f.length;u<e;u++)i=n(f[u]),i.data("sortable-item",t),s.push({item:i,instance:t,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,u,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)u=this.items[i],r=this.options.toleranceElement?n(this.options.toleranceElement,u.item):u.item,t||(u.width=r.outerWidth(),u.height=r.outerHeight()),r=r.offset(),u.left=r.left,u.top=r.top;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i=t||this,r=i.options,u;r.placeholder&&r.placeholder.constructor!=String||(u=r.placeholder,r.placeholder={element:function(){var t=n(document.createElement(i.currentItem[0].nodeName)).addClass(u||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return u||(t.style.visibility="hidden"),t},update:function(n,t){u&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}});i.placeholder=n(r.placeholder.element.call(i.element,i.currentItem));i.currentItem.after(i.placeholder);r.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var e,f,o,u=null,r=null,i=this.containers.length-1;i>=0;i--)n.ui.contains(this.currentItem[0],this.containers[i].element[0])||(this._intersectsWith(this.containers[i].containerCache)?u&&n.ui.contains(this.containers[i].element[0],u.element[0])||(u=this.containers[i],r=i):this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0));if(u)if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){for(u=1e4,i=null,e=this.positionAbs[this.containers[r].floating?"left":"top"],f=this.items.length-1;f>=0;f--)n.ui.contains(this.containers[r].element[0],this.items[f].item[0])&&(o=this.items[f][this.containers[r].floating?"left":"top"],Math.abs(o-e)<u&&(u=Math.abs(o-e),i=this.items[f]));(i||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[r],i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1)}},_createHelper:function(t){var i=this.options;return t=n.isFunction(i.helper)?n(i.helper.apply(this.element[0],[t,this.currentItem])):i.helper=="clone"?this.currentItem.clone():this.currentItem,t.parents("body").length||n(i.appendTo!="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(t[0].style.width==""||i.forceHelperSize)&&t.width(this.currentItem.width()),(t[0].style.height==""||i.forceHelperSize)&&t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,t,r;i.containment=="parent"&&(i.containment=this.helper[0].parentNode);(i.containment=="document"||i.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],i=n(i.containment).offset(),r=n(t).css("overflow")!="hidden",this.containment=[i.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);t=t=="absolute"?1:-1;var r=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,u=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():u?0:r.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():u?0:r.scrollLeft())*t)}},_generatePosition:function(t){var u=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),i,r;return this.cssPosition!="relative"||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),i=t.pageX,r=t.pageY,this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),u.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/u.grid[1])*u.grid[1],r=this.containment?(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?(r-this.offset.click.top<this.containment[1])?r+u.grid[1]:r-u.grid[1]:r:r,i=this.originalPageX+Math.round((i-this.originalPageX)/u.grid[0])*u.grid[0],i=this.containment?(i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2])?(i-this.offset.click.left<this.containment[0])?i+u.grid[0]:i-u.grid[0]:i:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this,f=this.counter;window.setTimeout(function(){f==u.counter&&u.refreshPositions(!r)},0)},_clear:function(t,i){var u,r;if(this.reverting=!1,u=[],!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]=="auto"||this._storedCSS[r]=="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&u.push(function(n){this._trigger("update",n,this._uiHash())}),!n.ui.contains(this.element[0],this.currentItem[0]))for(i||u.push(function(n){this._trigger("remove",n,this._uiHash())}),r=this.containers.length-1;r>=0;r--)n.ui.contains(this.containers[r].element[0],this.currentItem[0])&&!i&&(u.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[r])),u.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[r])));for(r=this.containers.length-1;r>=0;r--)i||u.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(u.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.extend(n.ui.sortable,{version:"1.8.11"})}(jQuery),function(n){n.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options,r,u;t.running=0;t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||n(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||n(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||n(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||n(this).removeClass("ui-state-focus")});t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");i.navigation&&(r=t.element.find("a").filter(i.navigationFilter).eq(0),r.length&&(u=r.closest(".ui-accordion-header"),t.active=u.length?u:r.closest(".ui-accordion-content").prev()));t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");t.active.next().addClass("ui-accordion-content-active");t._createIcons();t.resize();t.element.attr("role","tablist");t.headers.attr("role","tab").bind("keydown.accordion",function(n){return t._keydown(n)}).next().attr("role","tabpanel");t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0);n.browser.safari||t.headers.find("a").attr("tabIndex",-1);i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(n){t._clickHandler.call(t,n,this);n.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(n("<span><\/span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options,i;return this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons(),i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled"),(t.autoHeight||t.fillHeight)&&i.css("height",""),n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t=="active"&&this.activate(i);t=="icons"&&(this._destroyIcons(),i&&this._createIcons());t=="disabled"&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target);t.preventDefault()}return r?(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),!1):!0}},resize:function(){var i=this.options,t,r;return i.fillSpace?(n.browser.msie&&(r=this.element.parent().css("overflow"),this.element.parent().css("overflow","hidden")),t=this.element.parent().height(),n.browser.msie&&this.element.parent().css("overflow",r),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).height("").height())}).height(t)),this},activate:function(n){return this.options.active=n,n=this._findActive(n)[0],this._clickHandler({target:n},n),this},_findActive:function(t){return t?typeof t=="number"?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?n([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var r=this.options,o,s;if(!r.disabled)if(t.target)t=n(t.currentTarget||i),i=t[0]===this.active[0],r.active=r.collapsible&&i?!1:this.headers.index(t),this.running||!r.collapsible&&i||(o=this.active,f=t.next(),u=this.active.next(),e={options:r,newHeader:i&&r.collapsible?n([]):t,oldHeader:this.active,newContent:i&&r.collapsible?n([]):f,oldContent:u},s=this.headers.index(this.active[0])>this.headers.index(t[0]),this.active=i?n([]):t,this._toggle(f,u,e,i,s),o.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),i||(t.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),t.next().addClass("ui-accordion-content-active")));else if(r.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header);this.active.next().addClass("ui-accordion-content-active");var u=this.active.next(),e={options:r,newHeader:n([]),oldHeader:r.active,newContent:n([]),oldContent:u},f=this.active=n([]);this._toggle(f,u,e)}},_toggle:function(t,i,r,u,f){var o=this,e=o.options,h,c,s;o.toShow=t;o.toHide=i;o.data=r;h=function(){if(o)return o._completed.apply(o,arguments)};o._trigger("changestart",null,o.data);o.running=i.size()===0?t.size():i.size();e.animated?(r={},r=e.collapsible&&u?{toShow:n([]),toHide:i,complete:h,down:f,autoHeight:e.autoHeight||e.fillSpace}:{toShow:t,toHide:i,complete:h,down:f,autoHeight:e.autoHeight||e.fillSpace},e.proxied||(e.proxied=e.animated),e.proxiedDuration||(e.proxiedDuration=e.duration),e.animated=n.isFunction(e.proxied)?e.proxied(r):e.proxied,e.duration=n.isFunction(e.proxiedDuration)?e.proxiedDuration(r):e.proxiedDuration,u=n.ui.accordion.animations,c=e.duration,s=e.animated,!s||u[s]||n.easing[s]||(s="slide"),u[s]||(u[s]=function(n){this.slide(n,{easing:s,duration:c||700})}),u[s](r)):(e.collapsible&&u?t.toggle():(i.hide(),t.show()),h(!0));i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(n){this.running=n?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});n.extend(n.ui.accordion,{version:"1.8.11",animations:{slide:function(t,i){if(t=n.extend({easing:"swing",duration:300},t,i),t.toHide.size())if(t.toShow.size()){var o=t.toShow.css("overflow"),u=0,r={},f={},e;i=t.toShow;e=i[0].style.width;i.width(parseInt(i.parent().width(),10)-parseInt(i.css("paddingLeft"),10)-parseInt(i.css("paddingRight"),10)-(parseInt(i.css("borderLeftWidth"),10)||0)-(parseInt(i.css("borderRightWidth"),10)||0));n.each(["height","paddingTop","paddingBottom"],function(i,u){f[u]="hide";i=(""+n.css(t.toShow[0],u)).match(/^([\d+-.]+)(.*)$/);r[u]={value:i[1],unit:i[2]||"px"}});t.toShow.css({height:0,overflow:"hidden"}).show();t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(f,{step:function(n,i){i.prop=="height"&&(u=i.end-i.start==0?0:(i.now-i.start)/(i.end-i.start));t.toShow[0].style[i.prop]=u*r[i.prop].value+r[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height","");t.toShow.css({width:e,overflow:o});t.complete()}})}else t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);else t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t)},bounceslide:function(n){this.slide(n,{easing:n.down?"easeOutBounce":"swing",duration:n.down?1e3:200})}}})}(jQuery),function(n){var t=0;n.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t=this,r=this.element[0].ownerDocument,i;this.element.addClass("ui-autocomplete-input").attr("autocomplete","nope").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(r){if(!(t.options.disabled||t.element.attr("readonly"))){i=!1;var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:t._move("previousPage",r);break;case u.PAGE_DOWN:t._move("nextPage",r);break;case u.UP:t._move("previous",r);r.preventDefault();break;case u.DOWN:t._move("next",r);r.preventDefault();break;case u.ENTER:case u.NUMPAD_ENTER:t.menu.active&&(i=!0,r.preventDefault());case u.TAB:if(!t.menu.active)return;t.menu.select(r);break;case u.ESCAPE:t.element.val(t.term);t.close(r);break;default:clearTimeout(t.searching);t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,r))},t.options.delay)}}}).bind("keypress.autocomplete",function(n){i&&(i=!1,n.preventDefault())}).bind("focus.autocomplete",function(){t.options.disabled||(t.selectedItem=null,t.previous=t.element.val())}).bind("blur.autocomplete",function(n){t.options.disabled||(clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(n);t._change(n)},150))});this._initSource();this.response=function(){return t._response.apply(t,arguments)};this.menu=n("<ul><\/ul>").addClass("ui-autocomplete").appendTo(n(this.options.appendTo||"body",r)[0]).mousedown(function(i){var r=t.menu.element[0];n(i.target).closest(".ui-menu-item").length||setTimeout(function(){n(document).one("mousedown",function(i){i.target===t.element[0]||i.target===r||n.ui.contains(r,i.target)||t.close()})},1);setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(n,i){i=i.item.data("item.autocomplete");!1!==t._trigger("focus",n,{item:i})&&/^key/.test(n.originalEvent.type)&&t.element.val(i.value)},selected:function(n,i){var u=i.item.data("item.autocomplete"),f=t.previous;t.element[0]!==r.activeElement&&(t.element.focus(),t.previous=f,setTimeout(function(){t.previous=f;t.selectedItem=u},1));!1!==t._trigger("select",n,{item:u})&&t.element.val(u.value);t.term=t.element.val();t.close(n);t.selectedItem=u},blur:function(){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");n.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t==="source"&&this._initSource();t==="appendTo"&&this.menu.element.appendTo(n(i||"body",this.element[0].ownerDocument)[0]);t==="disabled"&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var i=this,r,u;n.isArray(this.options.source)?(r=this.options.source,this.source=function(t,i){i(n.ui.autocomplete.filter(r,t.term))}):typeof this.options.source=="string"?(u=this.options.source,this.source=function(r,f){i.xhr&&i.xhr.abort();i.xhr=n.ajax({url:u,data:r,dataType:"json",autocompleteRequest:++t,success:function(n){this.autocompleteRequest===t&&f(n)},error:function(){this.autocompleteRequest===t&&f([])}})}):this.source=this.options.source},search:function(n,t){return(n=n!=null?n:this.element.val(),this.term=this.element.val(),n.length<this.options.minLength)?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)!==!1?this._search(n):void 0)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:n},this.response)},_response:function(n){!this.options.disabled&&n&&n.length?(n=this._normalize(n),this._suggest(n),this._trigger("open")):this.close();this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(n){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",n))},_change:function(n){this.previous!==this.element.val()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t);this.menu.deactivate();this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new n.Event("mouseover"))},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItem(t,i)})},_renderItem:function(t,i){return n("<li><\/li>").data("item.autocomplete",i).append(n("<a><\/a>").text(i.label)).appendTo(t)},_move:function(n,t){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(n)||this.menu.last()&&/^next/.test(n)?(this.element.val(this.term),this.menu.deactivate()):this.menu[n](t):this.search(null,t)},widget:function(){return this.menu.element}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}})}(jQuery),function(n){n.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){n(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))});this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,n(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(n,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,r=this.element.attr("scrollTop"),u=this.element.height();i<0?this.element.attr("scrollTop",r+i):i>=u&&this.element.attr("scrollTop",r+i-u+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",n,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(n){this.move("next",".ui-menu-item:first",n)},previous:function(n){this.move("prev",".ui-menu-item:last",n)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(n,t,i){this.active?(n=this.active[n+"All"](".ui-menu-item").eq(0),n.length?this.activate(i,n):this.activate(i,this.element.children(t))):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll())if(!this.active||this.last())this.activate(t,this.element.children(".ui-menu-item:first"));else{var r=this.active.offset().top,u=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=n(this).offset().top-r-u+n(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last"));this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll())if(!this.active||this.first())this.activate(t,this.element.children(".ui-menu-item:last"));else{var i=this.active.offset().top,r=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=n(this).offset().top-i+r-n(this).height();return t<10&&t>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(n){this._trigger("selected",n,{item:this.active})}})}(jQuery),function(n){var t,r=function(t){n(":ui-button",t.target.form).each(function(){var t=n(this).data("button");setTimeout(function(){t.refresh()},1)})},i=function(t){var i=t.name,r=t.form,u=n([]);return i&&(u=r?n(r).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",r);typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.attr("disabled"));this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var f=this,u=this.options,e=this.type==="checkbox"||this.type==="radio",o="ui-state-hover"+(e?"":" ui-state-active");u.label===null&&(u.label=this.buttonElement.html());this.element.is(":disabled")&&(u.disabled=!0);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){u.disabled||(n(this).addClass("ui-state-hover"),this===t&&n(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){u.disabled||n(this).removeClass(o)}).bind("focus.button",function(){n(this).addClass("ui-state-focus")}).bind("blur.button",function(){n(this).removeClass("ui-state-focus")});e&&this.element.bind("change.button",function(){f.refresh()});this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(u.disabled)return!1;n(this).toggleClass("ui-state-active");f.buttonElement.attr("aria-pressed",f.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(u.disabled)return!1;n(this).addClass("ui-state-active");f.buttonElement.attr("aria-pressed",!0);var t=f.element[0];i(t).not(t).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(u.disabled)return!1;n(this).addClass("ui-state-active");t=this;n(document).one("mouseup",function(){t=null})}).bind("mouseup.button",function(){if(u.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(u.disabled)return!1;(t.keyCode==n.ui.keyCode.SPACE||t.keyCode==n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup.button",function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",u.disabled)},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"){var n=this.element.parents().filter(":last"),t="label[for="+this.element.attr("id")+"]";this.buttonElement=n.find(t);this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t)));this.element.addClass("ui-helper-hidden-accessible");(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t==="disabled"&&(i?this.element.attr("disabled",!0):this.element.removeAttr("disabled"));this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t);this.type==="radio"?i(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var i=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),f=n("<span><\/span>").addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",f))):r.push("ui-button-text-only");i.addClass(r.join(" "))}}});n.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,i){t==="disabled"&&this.buttons.button("option",t,i);n.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");n.Widget.prototype.destroy.call(this)}})}(jQuery),function(n,t){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){var u,r;this.originalTitle=this.element.attr("title");typeof this.originalTitle!="string"&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,o=i.title||"&#160;",e=n.ui.dialog.getTitleId(t.element),f=(t.uiDialog=n("<div><\/div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){i.closeOnEscape&&r.keyCode&&r.keyCode===n.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(n){t.moveToTop(!1,n)});t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);u=(t.uiDialogTitlebar=n("<div><\/div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f);r=n('<a href="#"><\/a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).focus(function(){r.addClass("ui-state-focus")}).blur(function(){r.removeClass("ui-state-focus")}).click(function(n){return t.close(n),!1}).appendTo(u);(t.uiDialogTitlebarCloseText=n("<span><\/span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(r);n("<span><\/span>").addClass("ui-dialog-title").attr("id",e).html(o).prependTo(u);n.isFunction(i.beforeclose)&&!n.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose);u.find("*").add(u).disableSelection();i.draggable&&n.fn.draggable&&t._makeDraggable();i.resizable&&n.fn.resizable&&t._makeResizable();t._createButtons(i.buttons);t._isOpen=!1;n.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var n=this;return n.overlay&&n.overlay.destroy(),n.uiDialog.hide(),n.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),n.uiDialog.remove(),n.originalTitle&&n.element.attr("title",n.originalTitle),n},widget:function(){return this.uiDialog},close:function(t){var i=this,r,u;if(!1!==i._trigger("beforeClose",t))return i.overlay&&i.overlay.destroy(),i.uiDialog.unbind("keypress.ui-dialog"),i._isOpen=!1,i.options.hide?i.uiDialog.hide(i.options.hide,function(){i._trigger("close",t)}):(i.uiDialog.hide(),i._trigger("close",t)),n.ui.dialog.overlay.resize(),i.options.modal&&(r=0,n(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(u=n(this).css("z-index"),isNaN(u)||(r=Math.max(r,u)))}),n.ui.dialog.maxZ=r),i},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var r=this,u=r.options;return u.modal&&!t||!u.stack&&!u.modal?r._trigger("focus",i):(u.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=u.zIndex),r.overlay&&(n.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",n.ui.dialog.overlay.maxZ=n.ui.dialog.maxZ)),t={scrollTop:r.element.attr("scrollTop"),scrollLeft:r.element.attr("scrollLeft")},n.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",n.ui.dialog.maxZ),r.element.attr(t),r._trigger("focus",i),r)},open:function(){if(!this._isOpen){var t=this,i=t.options,r=t.uiDialog;return t.overlay=i.modal?new n.ui.dialog.overlay(t):null,t._size(),t._position(i.position),r.show(i.show),t.moveToTop(!0),i.modal&&r.bind("keypress.ui-dialog",function(t){if(t.keyCode===n.ui.keyCode.TAB){var i=n(":tabbable",this),r=i.filter(":first");if(i=i.filter(":last"),t.target!==i[0]||t.shiftKey){if(t.target===r[0]&&t.shiftKey)return i.focus(1),!1}else return r.focus(1),!1}}),n(t.element.find(":tabbable").get().concat(r.find(".ui-dialog-buttonpane :tabbable").get().concat(r.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,r=!1,u=n("<div><\/div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=n("<div><\/div>").addClass("ui-dialog-buttonset").appendTo(u);i.uiDialog.find(".ui-dialog-buttonpane").remove();typeof t=="object"&&t!==null&&n.each(t,function(){return!(r=!0)});r&&(n.each(t,function(t,r){r=n.isFunction(r)?{click:r,text:t}:r;t=n('<button type="button"><\/button>').attr(r,!0).unbind("click").click(function(){r.click.apply(i.element[0],arguments)}).appendTo(f);n.fn.button&&t.button()}),u.appendTo(i.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=t.options,u=n(document),f;t.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(u,e){f=r.height==="auto"?"auto":n(this).height();n(this).height(n(this).height()).addClass("ui-dialog-dragging");t._trigger("dragStart",u,i(e))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(e,o){r.position=[o.position.left-u.scrollLeft(),o.position.top-u.scrollTop()];n(this).removeClass("ui-dialog-dragging").height(f);t._trigger("dragStop",e,i(o));n.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function f(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}i=i===t?this.options.resizable:i;var r=this,u=r.options,e=r.uiDialog.css("position");i=typeof i=="string"?i:"n,e,s,w,se,sw,ne,nw";r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:u.maxWidth,maxHeight:u.maxHeight,minWidth:u.minWidth,minHeight:r._minHeight(),handles:i,start:function(t,i){n(this).addClass("ui-dialog-resizing");r._trigger("resizeStart",t,f(i))},resize:function(n,t){r._trigger("resize",n,f(t))},stop:function(t,i){n(this).removeClass("ui-dialog-resizing");u.height=n(this).height();u.width=n(this).width();r._trigger("resizeStop",t,f(i));n.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(t){var i=[],r=[0,0],u;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i.join(" "),at:i.join(" "),offset:r.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position;(u=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(n.extend({of:window},t));u||this.uiDialog.hide()},_setOptions:function(t){var e=this,u={},f=!1;n.each(t,function(n,t){e._setOption(n,t);n in i&&(f=!0);n in r&&(u[n]=t)});f&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(t,i){var r=this,u=r.uiDialog,f;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":r._createButtons(i);break;case"closeText":r.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":u.removeClass(r.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i);break;case"disabled":i?u.addClass("ui-dialog-disabled"):u.removeClass("ui-dialog-disabled");break;case"draggable":f=u.is(":data(draggable)");f&&!i&&u.draggable("destroy");!f&&i&&r._makeDraggable();break;case"position":r._position(i);break;case"resizable":(f=u.is(":data(resizable)"))&&!i&&u.resizable("destroy");f&&typeof i=="string"&&u.resizable("option","handles",i);f||i===!1||r._makeResizable(i);break;case"title":n(".ui-dialog-title",r.uiDialogTitlebar).html(""+(i||"&#160;"))}n.Widget.prototype._setOption.apply(r,arguments)},_size:function(){var t=this.options,i,r,u=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});t.minWidth>t.width&&(t.width=t.minWidth);i=this.uiDialog.css({height:"auto",width:t.width}).height();r=Math.max(0,t.minHeight-i);t.height==="auto"?n.support.minHeight?this.element.css({minHeight:r,height:"auto"}):(this.uiDialog.show(),t=this.element.css("height","auto").height(),u||this.uiDialog.hide(),this.element.height(Math.max(t,r))):this.element.height(Math.max(t.height-i,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});n.extend(n.ui.dialog,{version:"1.8.11",uuid:0,maxZ:0,getTitleId:function(n){return n=n.attr("id"),n||(this.uuid+=1,n=this.uuid),"ui-dialog-title-"+n},overlay:function(t){this.$el=n.ui.dialog.overlay.create(t)}});n.extend(n.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:n.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(n){return n+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(t){if(n(t.target).zIndex()<n.ui.dialog.overlay.maxZ)return!1})},1),n(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&i.keyCode&&i.keyCode===n.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||n("<div><\/div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return n.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var r=n.inArray(t,this.instances),i;r!=-1&&this.oldInstances.push(this.instances.splice(r,1)[0]);this.instances.length===0&&n([document,window]).unbind(".dialog-overlay");t.remove();i=0;n.each(this.instances,function(){i=Math.max(i,this.css("z-index"))});this.maxZ=i},height:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?n(window).height()+"px":t+"px"):n(document).height()+"px"},width:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?n(window).width()+"px":t+"px"):n(document).width()+"px"},resize:function(){var t=n([]);n.each(n.ui.dialog.overlay.instances,function(){t=t.add(this)});t.css({width:0,height:0}).css({width:n.ui.dialog.overlay.width(),height:n.ui.dialog.overlay.height()})}});n.extend(n.ui.dialog.overlay.prototype,{destroy:function(){n.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(n){n.widget("ui.slider",n.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,i=this.options;if(this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),i.disabled&&this.element.addClass("ui-slider-disabled ui-disabled"),this.range=n([]),i.range&&(i.range===!0?(this.range=n("<div><\/div>"),i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&i.values.length!==2&&(i.values=[i.values[0],i.values[0]])):this.range=n("<div><\/div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),(i.range==="min"||i.range==="max")&&this.range.addClass("ui-slider-range-"+i.range),this.range.addClass("ui-widget-header")),n(".ui-slider-handle",this.element).length===0&&n("<a href='#'><\/a>").appendTo(this.element).addClass("ui-slider-handle"),i.values&&i.values.length)for(;n(".ui-slider-handle",this.element).length<i.values.length;)n("<a href='#'><\/a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=n(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(n){n.preventDefault()}).hover(function(){i.disabled||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")});this.handles.each(function(t){n(this).data("index.ui-slider-handle",t)});this.handles.keydown(function(i){var o=!0,f=n(this).data("index.ui-slider-handle"),r,u,e;if(!t.options.disabled){switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(o=!1,!t._keySliding&&(t._keySliding=!0,n(this).addClass("ui-state-active"),r=t._start(i,f),r===!1))return}e=t.options.step;r=u=t.options.values&&t.options.values.length?t.values(f):t.value();switch(i.keyCode){case n.ui.keyCode.HOME:u=t._valueMin();break;case n.ui.keyCode.END:u=t._valueMax();break;case n.ui.keyCode.PAGE_UP:u=t._trimAlignValue(r+(t._valueMax()-t._valueMin())/5);break;case n.ui.keyCode.PAGE_DOWN:u=t._trimAlignValue(r-(t._valueMax()-t._valueMin())/5);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===t._valueMax())return;u=t._trimAlignValue(r+e);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===t._valueMin())return;u=t._trimAlignValue(r-e)}return t._slide(i,f,u),o}}).keyup(function(i){var r=n(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(i,r),t._change(i,r),n(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var r=this.options,f,e,i,o,u;return r.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),f=this._normValueFromMouse({x:t.pageX,y:t.pageY}),e=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(t){var r=Math.abs(f-o.values(t));e>r&&(e=r,i=n(this),u=t)}),r.range===!0&&this.values(1)===r.min&&(u+=1,i=n(this.handles[u])),this._start(t,u)===!1)?!1:(this._mouseSliding=!0,o._handleIndex=u,i.addClass("ui-state-active").focus(),r=i.offset(),this._clickOffset=n(t.target).parents().andSelf().is(".ui-slider-handle")?{left:t.pageX-r.left-i.width()/2,top:t.pageY-r.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t=this._normValueFromMouse({x:n.pageX,y:n.pageY});return this._slide(n,this._handleIndex,t),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var t;return this.orientation==="horizontal"?(t=this.elementSize.width,n=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=n/t,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),n=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+t*n)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(r=this.values(),r[t]=i,n=this._trigger("slide",n,{handle:this.handles[t],value:i,values:r}),this.values(t?0:1),n!==!1&&this.values(t,i,!0))):i!==this.value()&&(n=this._trigger("slide",n,{handle:this.handles[t],value:i}),n!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("change",n,i)}},value:function(n){return arguments.length&&(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0)),this._value()},values:function(t,i){var u,f,r;if(arguments.length>1&&(this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t)),arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;n.isArray(this.options.values)&&(u=this.options.values.length);n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var t,i;if(arguments.length)return t=this.options.values[n],this._trimAlignValue(t);for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t;return alignValue=n-i,Math.abs(i)*2>=t&&(alignValue+=i>0?t:-t),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var f=this.options.range,r=this.options,i=this,u=this._animateOff?!1:r.animate,t,e={},s,c,o,h;this.options.values&&this.options.values.length?this.handles.each(function(f){t=(i.values(f)-i._valueMin())/(i._valueMax()-i._valueMin())*100;e[i.orientation==="horizontal"?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](e,r.animate);i.options.range===!0&&(i.orientation==="horizontal"?(f===0&&i.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:r.animate})):(f===0&&i.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:r.animate})));s=t}):(c=this.value(),o=this._valueMin(),h=this._valueMax(),t=h!==o?(c-o)/(h-o)*100:0,e[i.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](e,r.animate),f==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},r.animate),f==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:r.animate}),f==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},r.animate),f==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:r.animate}))}});n.extend(n.ui.slider,{version:"1.8.11"})}(jQuery),function(n,i){function r(){return++f}function u(){return++e}var f=0,e=0;n.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div><\/div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;<\/em>",tabTemplate:"<li><a href='#{href}'><span>#{label}<\/span><\/a><\/li>"},_create:function(){this._tabify(!0)},_setOption:function(n,t){n=="selected"?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[n]=t,this._tabify())},_tabId:function(n){return n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+r()},_sanitizeSelector:function(n){return n.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+u());return n.cookie.apply(null,[t].concat(n.makeArray(arguments)))},_ui:function(n,t){return{tab:n,panel:t,index:this.anchors.index(n)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=n(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function a(t,i){t.css("display","");!n.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var u=this,r=this.options,v=/^#.+/,o,s,h,f,e,c,l;for(this.list=this.element.find("ol,ul").eq(0),this.lis=n(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return n("a",this)[0]}),this.panels=n([]),this.anchors.each(function(t,i){var f=n(i).attr("href"),e=f.split("#")[0],o;e&&(e===location.toString().split("#")[0]||(o=n("base")[0])&&e===o.href)&&(f=i.hash,i.href=f);v.test(f)?u.panels=u.panels.add(u.element.find(u._sanitizeSelector(f))):f&&f!=="#"?(n.data(i,"href.tabs",f),n.data(i,"load.tabs",f.replace(/#.*$/,"")),f=u._tabId(i),i.href="#"+f,i=u.element.find("#"+f),i.length||(i=n(r.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(u.panels[t-1]||u.list),i.data("destroy.tabs",!0)),u.panels=u.panels.add(i)):r.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),r.selected===i?(location.hash&&this.anchors.each(function(n,t){if(t.hash==location.hash)return r.selected=n,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(u._cookie(),10)),typeof r.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabled=n.unique(r.disabled.concat(n.map(this.lis.filter(".ui-state-disabled"),function(n){return u.lis.index(n)}))).sort(),n.inArray(r.selected,r.disabled)!=-1&&r.disabled.splice(n.inArray(r.selected,r.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),r.selected>=0&&this.anchors.length&&(u.element.find(u._sanitizeSelector(u.anchors[r.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active"),u.element.queue("tabs",function(){u._trigger("show",null,u._ui(u.anchors[r.selected],u.element.find(u._sanitizeSelector(u.anchors[r.selected].hash))[0]))}),this.load(r.selected)),n(window).bind("unload",function(){u.lis.add(u.anchors).unbind(".tabs");u.lis=u.anchors=u.panels=null})):r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie),t=0;o=this.lis[t];t++)n(o)[n.inArray(t,r.disabled)!=-1&&!n(o).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");r.cache===!1&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");r.event!=="mouseover"&&(s=function(n,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+n)},h=function(n,t){t.removeClass("ui-state-"+n)},this.lis.bind("mouseover.tabs",function(){s("hover",n(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",n(this))}),this.anchors.bind("focus.tabs",function(){s("focus",n(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",n(this).closest("li"))}));r.fx&&(n.isArray(r.fx)?(f=r.fx[0],e=r.fx[1]):f=e=r.fx);c=e?function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active");i.hide().removeClass("ui-tabs-hide").animate(e,e.duration||"normal",function(){a(i,e);u._trigger("show",null,u._ui(t,i[0]))})}:function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active");i.removeClass("ui-tabs-hide");u._trigger("show",null,u._ui(t,i[0]))};l=f?function(n,t){t.animate(f,f.duration||"normal",function(){u.lis.removeClass("ui-tabs-selected ui-state-active");t.addClass("ui-tabs-hide");a(t,f);u.element.dequeue("tabs")})}:function(n,t){u.lis.removeClass("ui-tabs-selected ui-state-active");t.addClass("ui-tabs-hide");u.element.dequeue("tabs")};this.anchors.bind(r.event+".tabs",function(){var t=this,i=n(t).closest("li"),f=u.panels.filter(":not(.ui-tabs-hide)"),e=u.element.find(u._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!r.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||u.panels.filter(":animated").length||u._trigger("select",null,u._ui(this,e[0]))===!1)return this.blur(),!1;if(r.selected=u.anchors.index(this),u.abort(),r.collapsible){if(i.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){l(t,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){c(t,e)}),u.load(u.anchors.index(this)),this.blur(),!1}if(r.cookie&&u._cookie(r.selected,r.cookie),e.length)f.length&&u.element.queue("tabs",function(){l(t,f)}),u.element.queue("tabs",function(){c(t,e)}),u.load(u.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";n.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$="+n+"]"))),n},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=n.data(this,"href.tabs"),i;t&&(this.href=t);i=n(this).unbind(".tabs");n.each(["href","load","cache"],function(n,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){n.data(this,"destroy.tabs")?n(this).remove():n(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,r,u){var e,o,f;return u===i&&(u=this.anchors.length),e=this,o=this.options,r=n(o.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,r)),t=t.indexOf("#")?this._tabId(n("a",r)[0]):t.replace("#",""),r.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0),f=e.element.find("#"+t),f.length||(f=n(o.panelTemplate).attr("id",t).data("destroy.tabs",!0)),f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),u>=this.lis.length?(r.appendTo(this.list),f.appendTo(this.list[0].parentNode)):(r.insertBefore(this.lis[u]),f.insertBefore(this.panels[u])),o.disabled=n.map(o.disabled,function(n){return n>=u?++n:n}),this._tabify(),this.anchors.length==1&&(o.selected=0,r.addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[0],e.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[u],this.panels[u])),this},remove:function(t){t=this._getIndex(t);var i=this.options,r=this.lis.eq(t).remove(),u=this.panels.eq(t).remove();return r.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=n.map(n.grep(i.disabled,function(n){return n!=t}),function(n){return n>=t?--n:n}),this._tabify(),this._trigger("remove",null,this._ui(r.find("a")[0],u[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(n.inArray(t,i.disabled)!=-1)return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=n.grep(i.disabled,function(n){return n!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(n){n=this._getIndex(n);var t=this.options;return n!=t.selected&&(this.lis.eq(n).addClass("ui-state-disabled"),t.disabled.push(n),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[n],this.panels[n]))),this},select:function(n){if(n=this._getIndex(n),n==-1)if(this.options.collapsible&&this.options.selected!=-1)n=this.options.selected;else return this;return this.anchors.eq(n).trigger(this.options.event+".tabs"),this},load:function(t){var f;t=this._getIndex(t);var i=this,r=this.options,u=this.anchors.eq(t)[0],e=n.data(u,"load.tabs");if(this.abort(),!e||this.element.queue("tabs").length!==0&&n.data(u,"cache.tabs"))this.element.dequeue("tabs");else return this.lis.eq(t).addClass("ui-state-processing"),r.spinner&&(f=n("span",u),f.data("label.tabs",f.html()).html(r.spinner)),this.xhr=n.ajax(n.extend({},r.ajaxOptions,{url:e,success:function(f,e){i.element.find(i._sanitizeSelector(u.hash)).html(f);i._cleanup();r.cache&&n.data(u,"cache.tabs",!0);i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{r.ajaxOptions.success(f,e)}catch(o){}},error:function(n,f){i._cleanup();i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{r.ajaxOptions.error(n,f,t,u)}catch(e){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(n,t){return this.anchors.eq(n).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}});n.extend(n.ui.tabs,{version:"1.8.11"});n.extend(n.ui.tabs.prototype,{rotation:null,rotate:function(n,i){var r=this,u=this.options,f=r._rotate||(r._rotate=function(t){clearTimeout(r.rotation);r.rotation=setTimeout(function(){var n=u.selected;r.select(++n<r.anchors.length?n:0)},n);t&&t.stopPropagation()});return i=r._unrotate||(r._unrotate=i?function(){t=u.selected;f()}:function(n){n.clientX&&r.rotate(null)}),n?(this.element.bind("tabsshow",f),this.anchors.bind(u.event+".tabs",i),f()):(clearTimeout(r.rotation),this.element.unbind("tabsshow",f),this.anchors.unbind(u.event+".tabs",i),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(n,t){function u(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1};n.extend(this._defaults,this.regional[""]);this.dpDiv=n('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>')}function r(i,r){n.extend(i,r);for(var u in r)(r[u]==null||r[u]==t)&&(i[u]=r[u]);return i}n.extend(n.ui,{datepicker:{version:"1.8.11"}});var i=(new Date).getTime();n.extend(u.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var f=null,r,u,e;for(r in this._defaults)if(u=t.getAttribute("date:"+r),u){f=f||{};try{f[r]=eval(u)}catch(o){f[r]=u}}r=t.nodeName.toLowerCase();u=r=="div"||r=="span";t.id||(this.uuid+=1,t.id="dp"+this.uuid);e=this._newInst(n(t),u);e.settings=n.extend({},i||{},f||{});r=="input"?this._connectDatepicker(t,e):u&&this._inlineDatepicker(t,e)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>'):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(n,t,r){i.settings[t]=r}).bind("getData.datepicker",function(n,t){return this._get(i,t)}),this._autoSize(i),n.data(t,"datepicker",i))},_attachments:function(t,i){var r=this._get(i,"appendText"),f=this._get(i,"isRTL"),u;i.append&&i.append.remove();r&&(i.append=n('<span class="'+this._appendClass+'">'+r+"<\/span>"),t[f?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();r=this._get(i,"showOn");(r=="focus"||r=="both")&&t.focus(this._showDatepicker);(r=="button"||r=="both")&&(r=this._get(i,"buttonText"),u=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:u,alt:r,title:r}):n('<button type="button"><\/button>').addClass(this._triggerClass).html(u==""?r:n("<img/>").attr({src:u,alt:r,title:r}))),t[f?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput==t[0]?n.datepicker._hideDatepicker():n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){var t,i,r;this._get(n,"autoSize")&&!n.inline&&(t=new Date(2009,11,20),i=this._get(n,"dateFormat"),i.match(/[DM]/)&&(r=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].length>i&&(i=n[t].length,r=t);return r},t.setMonth(r(this._get(n,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(n,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())),n.input.attr("size",this._formatDate(n,t).length))},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(n,t,r){i.settings[t]=r}).bind("getData.datepicker",function(n,t){return this._get(i,t)}),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.dpDiv.show())},_dialogDatepicker:function(t,i,u,f,e){return t=this._dialogInst,t||(this.uuid+=1,this._dialogInput=n('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),t=this._dialogInst=this._newInst(this._dialogInput,!1),t.settings={},n.data(this._dialogInput[0],"datepicker",t)),r(t.settings,f||{}),i=i&&i.constructor==Date?this._formatDate(t,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),t.settings.onSelect=u,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",t),this},_destroyDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),i=="input"?(u.append.remove(),u.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(i=="div"||i=="span")&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i=="input"?(t.disabled=!1,u.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i=="div"||i=="span")&&r.children("."+this._inlineClass).children().removeClass("ui-state-disabled"),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}))},_disableDatepicker:function(t){var r=n(t),u=n.data(t,"datepicker"),i;r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i=="input"?(t.disabled=!0,u.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i=="div"||i=="span")&&r.children("."+this._inlineClass).children().addClass("ui-state-disabled"),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,u,f){var e=this._getInst(i),o;if(arguments.length==2&&typeof u=="string")return u=="defaults"?n.extend({},n.datepicker._defaults):e?u=="all"?n.extend({},e.settings):this._get(e,u):null;if(o=u||{},typeof u=="string"&&(o={},o[u]=f),e){this._curInst==e&&this._hideDatepicker();var c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max");r(e.settings,o);s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s));h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h));this._attachments(n(i),e);this._autoSize(e);this._setDateDatepicker(i,c);this._updateDatepicker(e)}},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){(n=this._getInst(n))&&this._updateDatepicker(n)},_setDateDatepicker:function(n,t){(n=this._getInst(n))&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(n,t){return(n=this._getInst(n))&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var i=n.datepicker._getInst(t.target),r=!0,u=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return r=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),r[0]?n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,r[0]):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,u?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,u?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode==36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var r=n.datepicker._getInst(i.target),u;if(n.datepicker._get(r,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(r,"dateFormat")),u=String.fromCharCode(i.charCode==t?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||u<" "||!r||r.indexOf(u)>-1},_doKeyUp:function(t){if(t=n.datepicker._getInst(t.target),t.input.val()!=t.lastVal)try{n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,n.datepicker._getFormatConfig(t))&&(n.datepicker._setDateFromField(t),n.datepicker._updateAlternate(t),n.datepicker._updateDatepicker(t))}catch(i){n.datepicker.log(i)}return!0},_showDatepicker:function(t){var i,u,f,e,o;t=t.target||t;t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]);n.datepicker._isDisabledDatepicker(t)||n.datepicker._lastInput==t||(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!=i&&n.datepicker._curInst.dpDiv.stop(!0,!0),u=n.datepicker._get(i,"beforeShow"),r(i.settings,u?u.apply(t,[t,i]):{}),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return f|=n(this).css("position")=="fixed",!f}),f&&n.browser.opera&&(n.datepicker._pos[0]-=document.documentElement.scrollLeft,n.datepicker._pos[1]-=document.documentElement.scrollTop),u={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),u=n.datepicker._checkOffset(i,u,f),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),i.inline||(u=n.datepicker._get(i,"showAnim"),e=n.datepicker._get(i,"duration"),o=function(){var t,r;n.datepicker._datepickerShowing=!0;t=i.dpDiv.find("iframe.ui-datepicker-cover");t.length&&(r=n.datepicker._getBorders(i.dpDiv),t.css({left:-r[0],top:-r[1],width:i.dpDiv.outerWidth(),height:i.dpDiv.outerHeight()}))},i.dpDiv.zIndex(n(t).zIndex()+1),n.effects&&n.effects[u]?i.dpDiv.show(u,n.datepicker._get(i,"showOptions"),e,o):i.dpDiv[u||"show"](u?e:null,o),u&&e||o(),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),n.datepicker._curInst=i))},_updateDatepicker:function(t){var f=this,r=n.datepicker._getBorders(t.dpDiv),i,u;t.dpDiv.empty().append(this._generateHTML(t));i=t.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-r[0],top:-r[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()});t.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){n(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&n(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){f._isDisabledDatepicker(t.inline?t.dpDiv.parent()[0]:t.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&n(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();r=this._getNumberOfMonths(t);i=r[1];i>1?t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"):t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");t.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t==n.datepicker._curInst&&n.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus();t.yearshtml&&(u=t.yearshtml,setTimeout(function(){u===t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);u=t.yearshtml=null},0))},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+n(document).scrollLeft(),s=document.documentElement.clientHeight+n(document).scrollTop();return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i=this._get(this._getInst(t),"isRTL");t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return t=n(t).offset(),[t.left,t.top]},_hideDatepicker:function(t){var i=this._curInst,u,r;!i||t&&i!=n.data(t,"datepicker")||this._datepickerShowing&&(t=this._get(i,"showAnim"),u=this._get(i,"duration"),r=function(){n.datepicker._tidyDialog(i);this._curInst=null},n.effects&&n.effects[t]?i.dpDiv.hide(t,n.datepicker._get(i,"showOptions"),u,r):i.dpDiv[t=="slideDown"?"slideUp":t=="fadeIn"?"fadeOut":"hide"](t?u:null,r),t||r(),(t=this._get(i,"onClose"))&&t.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){n.datepicker._curInst&&(t=n(t.target),t[0].id==n.datepicker._mainDivId||t.parents("#"+n.datepicker._mainDivId).length!=0||t.hasClass(n.datepicker.markerClassName)||t.hasClass(n.datepicker._triggerClass)||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI||n.datepicker._hideDatepicker())},_adjustDate:function(t,i,r){t=n(t);var u=this._getInst(t[0]);this._isDisabledDatepicker(t[0])||(this._adjustInstDate(u,i+(r=="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var i,r;t=n(t);i=this._getInst(t[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(t)},_selectMonthYear:function(t,i,r){t=n(t);var u=this._getInst(t[0]);u._selectingMonthYear=!1;u["selected"+(r=="M"?"Month":"Year")]=u["draw"+(r=="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(t)},_clickMonthYear:function(t){var i=this._getInst(n(t)[0]);i.input&&i._selectingMonthYear&&setTimeout(function(){i.input.focus()},0);i._selectingMonthYear=!i._selectingMonthYear},_selectDay:function(t,i,r,u){var f=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(f=this._getInst(f[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){t=n(t);this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(t,i){t=this._getInst(n(t)[0]);i=i!=null?i:this._formatDate(t);t.input&&t.input.val(i);this._updateAlternate(t);var r=this._get(t,"onSelect");r?r.apply(t.input?t.input[0]:null,[i,t]):t.input&&t.input.trigger("change");t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],typeof t.input[0]!="object"&&t.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i=this._get(t,"altField");if(i){var r=this._get(t,"altFormat")||this._get(t,"dateFormat"),u=this._getDate(t),f=this.formatDate(r,u,this._getFormatConfig(t));n(i).each(function(){n(this).val(f)})}},noWeekends:function(n){return n=n.getDay(),[n>0&&n<6,""]},iso8601Week:function(n){n=new Date(n.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));var t=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,t,i){var u,r;if(n==null||t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t=="")return null;u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;u=typeof u!="string"?u:(new Date).getFullYear()%100+parseInt(u,10);for(var p=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,w=(i?i.dayNames:null)||this._defaults.dayNames,b=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,k=(i?i.monthNames:null)||this._defaults.monthNames,f=i=-1,o=-1,l=-1,a=!1,c=function(t){return(t=s+1<n.length&&n.charAt(s+1)==t)&&s++,t},h=function(n){var i=c(n);if(n=new RegExp("^\\d{1,"+(n=="@"?14:n=="!"?20:n=="y"&&i?4:n=="o"?3:2)+"}"),n=t.substring(e).match(n),!n)throw"Missing number at position "+e;return e+=n[0].length,parseInt(n[0],10)},y=function(n,i,r){for(n=c(n)?r:i,i=0;i<n.length;i++)if(t.substr(e,n[i].length).toLowerCase()==n[i].toLowerCase())return e+=n[i].length,i+1;throw"Unknown name at position "+e;},v=function(){if(t.charAt(e)!=n.charAt(s))throw"Unexpected literal at position "+e;e++},e=0,s=0;s<n.length;s++)if(a)n.charAt(s)!="'"||c("'")?v():a=!1;else switch(n.charAt(s)){case"d":o=h("d");break;case"D":y("D",p,w);break;case"o":l=h("o");break;case"m":f=h("m");break;case"M":f=y("M",b,k);break;case"y":i=h("y");break;case"@":r=new Date(h("@"));i=r.getFullYear();f=r.getMonth()+1;o=r.getDate();break;case"!":r=new Date((h("!")-this._ticksTo1970)/1e4);i=r.getFullYear();f=r.getMonth()+1;o=r.getDate();break;case"'":c("'")?v():a=!0;break;default:v()}if(i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=u?0:-100)),l>-1){f=1;o=l;do{if(u=this._getDaysInMonth(i,f-1),o<=u)break;f++;o-=u}while(1)}if(r=this._daylightSavingAdjust(new Date(i,f-1,o)),r.getFullYear()!=i||r.getMonth()+1!=f||r.getDate()!=o)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*864e9,formatDate:function(n,t,i){var u;if(!t)return"";var h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort;i=(i?i.monthNames:null)||this._defaults.monthNames;var f=function(t){return(t=u+1<n.length&&n.charAt(u+1)==t)&&u++,t},e=function(n,t,i){if(t=""+t,f(n))for(;t.length<i;)t="0"+t;return t},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)!="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,i);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){return(i=t+1<n.length&&n.charAt(t+1)==i)&&t++,i},t=0;t<n.length;t++)if(r)n.charAt(t)!="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){var u,r,i,f,e;if(n.input.val()!=n.lastVal){u=this._get(n,"dateFormat");r=n.lastVal=n.input?n.input.val():null;i=f=this._getDefaultDate(n);e=this._getFormatConfig(n);try{i=this.parseDate(u,r,e)||f}catch(o){this.log(o);r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var u=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},f=function(i){var o,u;try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(s){}var r=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=r.getFullYear(),e=r.getMonth();for(r=r.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=o.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=o.exec(i)}return new Date(f,e,r)};return(i=(i=i==null||i===""?r:typeof i=="string"?f(i):typeof i=="number"?isNaN(i)?r:u(i):new Date(i.getTime()))&&i.toString()=="Invalid Date"?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var r=!t,u=n.selectedMonth,f=n.selectedYear;t=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=t.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=t.getMonth();n.drawYear=n.selectedYear=n.currentYear=t.getFullYear();u==n.selectedMonth&&f==n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(r?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()==""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_generateHTML:function(t){var p=new Date,e,o,h,ot,k,y,u,st,ht;p=this._daylightSavingAdjust(new Date(p.getFullYear(),p.getMonth(),p.getDate()));var a=this._get(t,"isRTL"),it=this._get(t,"showButtonPanel"),g=this._get(t,"hideIfNoPrevNext"),s=this._get(t,"navigationAsDateFormat"),v=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),c=this._get(t,"stepMonths"),rt=v[0]!=1||v[1]!=1,ut=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),b=this._getMinMaxDate(t,"min"),w=this._getMinMaxDate(t,"max");if(r=t.drawMonth-r,e=t.drawYear,r<0&&(r+=12,e--),w)for(o=this._daylightSavingAdjust(new Date(w.getFullYear(),w.getMonth()-v[0]*v[1]+1,w.getDate())),o=b&&o<b?b:o;this._daylightSavingAdjust(new Date(e,r,1))>o;)r--,r<0&&(r=11,e--);t.drawMonth=r;t.drawYear=e;o=this._get(t,"prevText");o=s?this.formatDate(o,this._daylightSavingAdjust(new Date(e,r-c,1)),this._getFormatConfig(t)):o;o=this._canAdjustMonth(t,-1,e,r)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._adjustDate('#"+t.id+"', -"+c+", 'M');\" title=\""+o+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"e":"w")+'">'+o+"<\/span><\/a>":g?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+o+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"e":"w")+'">'+o+"<\/span><\/a>";h=this._get(t,"nextText");h=s?this.formatDate(h,this._daylightSavingAdjust(new Date(e,r+c,1)),this._getFormatConfig(t)):h;g=this._canAdjustMonth(t,1,e,r)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._adjustDate('#"+t.id+"', +"+c+", 'M');\" title=\""+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"w":"e")+'">'+h+"<\/span><\/a>":g?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(a?"w":"e")+'">'+h+"<\/span><\/a>";c=this._get(t,"currentText");h=this._get(t,"gotoCurrent")&&t.currentDay?ut:p;c=s?this.formatDate(c,h,this._getFormatConfig(t)):c;s=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+i+'.datepicker._hideDatepicker();">'+this._get(t,"closeText")+"<\/button>";it=it?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(a?s:"")+(this._isInRange(t,h)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+i+".datepicker._gotoToday('#"+t.id+"');\">"+c+"<\/button>":"")+(a?"":s)+"<\/div>":"";s=parseInt(this._get(t,"firstDay"),10);s=isNaN(s)?0:s;c=this._get(t,"showWeek");h=this._get(t,"dayNames");this._get(t,"dayNamesShort");var yt=this._get(t,"dayNamesMin"),pt=this._get(t,"monthNames"),wt=this._get(t,"monthNamesShort"),lt=this._get(t,"beforeShowDay"),ft=this._get(t,"showOtherMonths"),bt=this._get(t,"selectOtherMonths");this._get(t,"calculateWeek");for(var at=this._getDefaultDate(t),et="",nt=0;nt<v[0];nt++){for(ot="",k=0;k<v[1];k++){var vt=this._daylightSavingAdjust(new Date(e,r,t.selectedDay)),f=" ui-corner-all",l="";if(rt){if(l+='<div class="ui-datepicker-group',v[1]>1)switch(k){case 0:l+=" ui-datepicker-group-first";f=" ui-corner-"+(a?"right":"left");break;case v[1]-1:l+=" ui-datepicker-group-last";f=" ui-corner-"+(a?"left":"right");break;default:l+=" ui-datepicker-group-middle";f=""}l+='">'}for(l+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+f+'">'+(/all|left/.test(f)&&nt==0?a?g:o:"")+(/all|right/.test(f)&&nt==0?a?o:g:"")+this._generateMonthYearHeader(t,r,e,b,w,nt>0||k>0,pt,wt)+'<\/div><table class="ui-datepicker-calendar"><thead><tr>',y=c?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"<\/th>":"",f=0;f<7;f++)u=(f+s)%7,y+="<th"+((f+s+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+h[u]+'">'+yt[u]+"<\/span><\/th>";for(l+=y+"<\/tr><\/thead><tbody>",y=this._getDaysInMonth(e,r),e==t.selectedYear&&r==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,y)),f=(this._getFirstDayOfMonth(e,r)-s+7)%7,y=rt?6:Math.ceil((f+y)/7),u=this._daylightSavingAdjust(new Date(e,r,1-f)),st=0;st<y;st++){for(l+="<tr>",ht=c?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(u)+"<\/td>":"",f=0;f<7;f++){var tt=lt?lt.apply(t.input?t.input[0]:null,[u]):[!0,""],d=u.getMonth()!=r,ct=d&&!bt||!tt[0]||b&&u<b||w&&u>w;ht+='<td class="'+((f+s+6)%7>=5?" ui-datepicker-week-end":"")+(d?" ui-datepicker-other-month":"")+(u.getTime()==vt.getTime()&&r==t.selectedMonth&&t._keyEvent||at.getTime()==u.getTime()&&at.getTime()==vt.getTime()?" "+this._dayOverClass:"")+(ct?" "+this._unselectableClass+" ui-state-disabled":"")+(d&&!ft?"":" "+tt[1]+(u.getTime()==ut.getTime()?" "+this._currentClass:"")+(u.getTime()==p.getTime()?" ui-datepicker-today":""))+'"'+((!d||ft)&&tt[2]?' title="'+tt[2]+'"':"")+(ct?"":' onclick="DP_jQuery_'+i+".datepicker._selectDay('#"+t.id+"',"+u.getMonth()+","+u.getFullYear()+', this);return false;"')+">"+(d&&!ft?"&#xa0;":ct?'<span class="ui-state-default">'+u.getDate()+"<\/span>":'<a class="ui-state-default'+(u.getTime()==p.getTime()?" ui-state-highlight":"")+(u.getTime()==ut.getTime()?" ui-state-active":"")+(d?" ui-priority-secondary":"")+'" href="#">'+u.getDate()+"<\/a>")+"<\/td>";u.setDate(u.getDate()+1);u=this._daylightSavingAdjust(u)}l+=ht+"<\/tr>"}r++;r>11&&(r=0,e++);l+="<\/tbody><\/table>"+(rt?"<\/div>"+(v[0]>0&&k==v[1]-1?'<div class="ui-datepicker-row-break"><\/div>':""):"");ot+=l}et+=ot}return et+=it+(n.browser.msie&&parseInt(n.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"><\/iframe>':""),t._keyEvent=!1,et},_generateMonthYearHeader:function(t,r,u,f,e,o,s,h){var v=this._get(t,"changeMonth"),y=this._get(t,"changeYear"),w=this._get(t,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',a="",b,c,p;if(o||!v)a+='<span class="ui-datepicker-month">'+s[r]+"<\/span>";else{for(s=f&&f.getFullYear()==u,b=e&&e.getFullYear()==u,a+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+i+".datepicker._selectMonthYear('#"+t.id+"', this, 'M');\" onclick=\"DP_jQuery_"+i+".datepicker._clickMonthYear('#"+t.id+"');\">",c=0;c<12;c++)(!s||c>=f.getMonth())&&(!b||c<=e.getMonth())&&(a+='<option value="'+c+'"'+(c==r?' selected="selected"':"")+">"+h[c]+"<\/option>");a+="<\/select>"}if(w||(l+=a+(o||!(v&&y)?"&#xa0;":"")),t.yearshtml="",o||!y)l+='<span class="ui-datepicker-year">'+u+"<\/span>";else{for(h=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),s=function(n){return n=n.match(/c[+-].*/)?u+parseInt(n.substring(1),10):n.match(/[+-].*/)?p+parseInt(n,10):parseInt(n,10),isNaN(n)?p:n},r=s(h[0]),h=Math.max(r,s(h[1]||"")),r=f?Math.max(r,f.getFullYear()):r,h=e?Math.min(h,e.getFullYear()):h,t.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+i+".datepicker._selectMonthYear('#"+t.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+i+".datepicker._clickMonthYear('#"+t.id+"');\">";r<=h;r++)t.yearshtml+='<option value="'+r+'"'+(r==u?' selected="selected"':"")+">"+r+"<\/option>";t.yearshtml+="<\/select>";n.browser.mozilla?l+='<select class="ui-datepicker-year"><option value="'+u+'" selected="selected">'+u+"<\/option><\/select>":(l+=t.yearshtml,t.yearshtml=null)}return l+=this._get(t,"yearSuffix"),w&&(l+=(o||!(v&&y)?"&#xa0;":"")+a),l+"<\/div>"},_adjustInstDate:function(n,t,i){var r=n.drawYear+(i=="Y"?t:0),u=n.drawMonth+(i=="M"?t:0);t=Math.min(n.selectedDay,this._getDaysInMonth(r,u))+(i=="D"?t:0);r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(r,u,t)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();(i=="M"||i=="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min");return n=this._getMinMaxDate(n,"max"),t=i&&t<i?i:t,n&&t>n?n:t},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){return n=this._get(n,"numberOfMonths"),n==null?[1,1]:typeof n=="number"?[1,n]:n},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var u=this._getNumberOfMonths(n);return i=this._daylightSavingAdjust(new Date(i,r+(t<0?t:u[0]*u[1]),1)),t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(n,i)},_isInRange:function(n,t){var i=this._getMinMaxDate(n,"min");return n=this._getMinMaxDate(n,"max"),(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){return t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear),t=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay)),this.formatDate(this._get(n,"dateFormat"),t,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick).find("body").append(n.datepicker.dpDiv),n.datepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t=="isDisabled"||t=="getDate"||t=="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})};n.datepicker=new u;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.8.11";window["DP_jQuery_"+i]=n}(jQuery),function(n,t){n.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();n.Widget.prototype.destroy.apply(this,arguments)},value:function(n){return n===t?this._value():(this._setOption("value",n),this)},_setOption:function(t,i){t==="value"&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));n.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var n=this.options.value;return typeof n!="number"&&(n=0),Math.min(this.options.max,Math.max(this.min,n))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var n=this.value(),t=this._percentage();this.oldValue!==n&&(this.oldValue=n,this._trigger("change"));this.valueDiv.toggleClass("ui-corner-right",n===this.options.max).width(t.toFixed(0)+"%");this.element.attr("aria-valuenow",n)}});n.extend(n.ui.progressbar,{version:"1.8.11"})}(jQuery);jQuery.effects||function(n,t){function u(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?o.transparent:o[n.trim(t).toLowerCase()]}function h(t,i){var r;do{if(r=n.curCSS(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return u(r)}function f(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={},t,u,r;if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)t=n[r],typeof n[t]=="string"&&(u=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i[u]=n[t]);else for(t in n)typeof n[t]=="string"&&(i[t]=n[t]);return i}function e(t){var i,r;for(i in t)r=t[i],(r==null||n.isFunction(r)||i in l||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(r)))&&delete t[i];return t}function c(n,t){var r={_:0};for(var i in t)n[i]!=t[i]&&(r[i]=t[i]);return r}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}function r(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects[t]?!0:!1}n.effects={};n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(n){n.colorInit||(n.start=h(n.elem,i),n.end=u(n.end),n.colorInit=!0);n.elem.style[i]="rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},s=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.effects.animateClass=function(t,i,r,u){return n.isFunction(r)&&(u=r,r=null),this.queue("fx",function(){var o=n(this),a=o.attr("style")||" ",h=e(f.call(this)),l,v=o.attr("className");n.each(s,function(n,i){t[i]&&o[i+"Class"](t[i])});l=e(f.call(this));o.attr("className",v);o.animate(c(h,l),i,r,function(){n.each(s,function(n,i){t[i]&&o[i+"Class"](t[i])});typeof o.attr("style")=="object"?(o.attr("style").cssText="",o.attr("style").cssText=a):o.attr("style",a);u&&u.apply(this,arguments)});h=n.queue(this);l=h.splice(h.length-1,1)[0];h.splice(1,0,l);n.dequeue(this)})};n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{add:t},i,r,u]):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{remove:t},i,r,u]):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.apply(this,[r?{add:i}:{remove:i},u,f,e]):this._toggleClass(i,r):n.effects.animateClass.apply(this,[{toggle:i},r,u,f])},switchClass:function(t,i,r,u,f){return n.effects.animateClass.apply(this,[{add:i,remove:t},r,u,f])}});n.extend(n.effects,{version:"1.8.11",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=n[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return t.wrap(r),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(i).show()},removeWrapper:function(n){return n.parent().is(".ui-effects-wrapper")?n.parent().replaceWith(n):n},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){unit=t.cssUnit(i);unit[0]>0&&(u[i]=unit[0]*r+unit[1])}),u}});n.fn.extend({effect:function(t){var r=i.apply(this,arguments),u={options:r[1],duration:r[2],callback:r[3]},f;return(r=u.options.mode,f=n.effects[t],n.fx.off||!f)?r?this[r](u.duration,u.callback):this.each(function(){u.callback&&u.callback.call(this)}):f.call(this,u)},_show:n.fn.show,show:function(n){if(r(n))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:n.fn.hide,hide:function(n){if(r(n))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(r(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var u=i.apply(this,arguments);return u[1].mode="toggle",this.effect.apply(this,u)},cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}});n.easing.jswing=n.easing.swing;n.extend(n.easing,{def:"easeOutQuad",swing:function(t,i,r,u,f){return n.easing[n.easing.def](t,i,r,u,f)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-n)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){n=1.70158;var f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-n)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*(i/=f)*i*((e+1)*i-e)+r},easeOutBack:function(n,i,r,u,f,e){return e==t&&(e=1.70158),u*((i=i/f-1)*i*((e+1)*i+e)+1)+r},easeInOutBack:function(n,i,r,u,f,e){return(e==t&&(e=1.70158),(i/=f/2)<1)?u/2*i*i*(((e*=1.525)+1)*i-e)+r:u/2*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)+r},easeInBounce:function(t,i,r,u,f){return u-n.easing.easeOutBounce(t,f-i,0,u,f)+r},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,r,u,f){return i<f/2?n.easing.easeInBounce(t,i*2,0,u,f)*.5+r:n.easing.easeOutBounce(t,i*2-f,0,u,f)*.5+u*.5+r}})}(jQuery),function(n){n.effects.blind=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right"],f=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"vertical",r,e,o;n.effects.save(i,s);i.show();r=n.effects.createWrapper(i).css({overflow:"hidden"});e=u=="vertical"?"height":"width";u=u=="vertical"?r.height():r.width();f=="show"&&r.css(e,0);o={};o[e]=f=="show"?u:0;r.animate(o,t.duration,t.options.easing,function(){f=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.effects.bounce=function(t){return this.queue(function(){var i=n(this),l=["position","top","bottom","left","right"],o=n.effects.setMode(i,t.options.mode||"effect"),u=t.options.direction||"up",r=t.options.distance||20,a=t.options.times||5,s=t.duration||250,f,e,h,c;for(/show|hide/.test(o)&&l.push("opacity"),n.effects.save(i,l),i.show(),n.effects.createWrapper(i),f=u=="up"||u=="down"?"top":"left",u=u=="up"||u=="left"?"pos":"neg",r=t.options.distance||(f=="top"?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3),o=="show"&&i.css("opacity",0).css(f,u=="pos"?-r:r),o=="hide"&&(r/=a*2),o!="hide"&&a--,o=="show"&&(e={opacity:1},e[f]=(u=="pos"?"+=":"-=")+r,i.animate(e,s/2,t.options.easing),r/=2,a--),e=0;e<a;e++)h={},c={},h[f]=(u=="pos"?"-=":"+=")+r,c[f]=(u=="pos"?"+=":"-=")+r,i.animate(h,s/2,t.options.easing).animate(c,s/2,t.options.easing),r=o=="hide"?r*2:r/2;o=="hide"?(e={opacity:0},e[f]=(u=="pos"?"-=":"+=")+r,i.animate(e,s/2,t.options.easing,function(){i.hide();n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)})):(h={},c={},h[f]=(u=="pos"?"-=":"+=")+r,c[f]=(u=="pos"?"+=":"-=")+r,i.animate(h,s/2,t.options.easing).animate(c,s/2,t.options.easing,function(){n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)}));i.queue("fx",function(){i.dequeue()});i.dequeue()})}}(jQuery),function(n){n.effects.clip=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right","height","width"],e=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"vertical",r,f,o;n.effects.save(i,s);i.show();r=n.effects.createWrapper(i).css({overflow:"hidden"});r=i[0].tagName=="IMG"?r:i;f={size:u=="vertical"?"height":"width",position:u=="vertical"?"top":"left"};u=u=="vertical"?r.height():r.width();e=="show"&&(r.css(f.size,0),r.css(f.position,u/2));o={};o[f.size]=e=="show"?u:0;o[f.position]=e=="show"?0:u/2;r.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){e=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.drop=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right","opacity"],u=n.effects.setMode(i,t.options.mode||"hide"),r=t.options.direction||"left",f,e,o;n.effects.save(i,s);i.show();n.effects.createWrapper(i);f=r=="up"||r=="down"?"top":"left";r=r=="up"||r=="left"?"pos":"neg";e=t.options.distance||(f=="top"?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);u=="show"&&i.css("opacity",0).css(f,r=="pos"?-e:e);o={opacity:u=="show"?1:0};o[f]=(u=="show"?r=="pos"?"+=":"-=":r=="pos"?"-=":"+=")+e;i.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){u=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.explode=function(t){return this.queue(function(){var r=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,u=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,i,e,f;t.options.mode=t.options.mode=="toggle"?n(this).is(":visible")?"hide":"show":t.options.mode;i=n(this).show().css("visibility","hidden");e=i.offset();e.top-=parseInt(i.css("marginTop"),10)||0;e.left-=parseInt(i.css("marginLeft"),10)||0;for(var s=i.outerWidth(!0),h=i.outerHeight(!0),o=0;o<r;o++)for(f=0;f<u;f++)i.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-f*(s/u),top:-o*(h/r)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s/u,height:h/r,left:e.left+f*(s/u)+(t.options.mode=="show"?(f-Math.floor(u/2))*(s/u):0),top:e.top+o*(h/r)+(t.options.mode=="show"?(o-Math.floor(r/2))*(h/r):0),opacity:t.options.mode=="show"?0:1}).animate({left:e.left+f*(s/u)+(t.options.mode=="show"?0:(f-Math.floor(u/2))*(s/u)),top:e.top+o*(h/r)+(t.options.mode=="show"?0:(o-Math.floor(r/2))*(h/r)),opacity:t.options.mode=="show"?1:0},t.duration||500);setTimeout(function(){t.options.mode=="show"?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide();t.callback&&t.callback.apply(i[0]);i.dequeue();n("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(n){n.effects.fade=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.fold=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right"],r=n.effects.setMode(i,t.options.mode||"hide"),o=t.options.size||15,s=!!t.options.horizFirst,c=t.duration?t.duration/2:n.fx.speeds._default/2,e;n.effects.save(i,h);i.show();var u=n.effects.createWrapper(i).css({overflow:"hidden"}),f=r=="show"!=s,l=f?["width","height"]:["height","width"];f=f?[u.width(),u.height()]:[u.height(),u.width()];e=/([0-9]+)%/.exec(o);e&&(o=parseInt(e[1],10)/100*f[r=="hide"?0:1]);r=="show"&&u.css(s?{height:0,width:o}:{height:o,width:0});s={};e={};s[l[0]]=r=="show"?f[0]:o;e[l[1]]=r=="show"?f[1]:0;u.animate(s,c,t.options.easing).animate(e,c,t.options.easing,function(){r=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.effects.highlight=function(t){return this.queue(function(){var i=n(this),u=["backgroundImage","backgroundColor","opacity"],r=n.effects.setMode(i,t.options.mode||"show"),f={backgroundColor:i.css("backgroundColor")};r=="hide"&&(f.opacity=0);n.effects.save(i,u);i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(f,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide();n.effects.restore(i,u);r!="show"||n.support.opacity||this.style.removeAttribute("filter");t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.pulsate=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"show");for(times=(t.options.times||5)*2-1,duration=t.duration?t.duration/2:n.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),(r=="hide"&&isVisible||r=="show"&&!isVisible)&&times--,r=0;r<times;r++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){animateTo==0&&i.hide();t.callback&&t.callback.apply(this,arguments)});i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(n){n.effects.puff=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide"),f=parseInt(t.options.percent,10)||150,e=f/100,u={height:i.height(),width:i.width()};n.extend(t.options,{fade:!0,mode:r,percent:r=="hide"?f:100,from:r=="hide"?u:{height:u.height*e,width:u.width*e}});i.effect("scale",t.options,t.duration,t.callback);i.dequeue()})};n.effects.scale=function(t){return this.queue(function(){var i=n(this),r=n.extend(!0,{},t.options),u=n.effects.setMode(i,t.options.mode||"effect"),f=parseInt(t.options.percent,10)||(parseInt(t.options.percent,10)==0?0:u=="hide"?0:100),o=t.options.direction||"both",e=t.options.origin;u!="effect"&&(r.origin=e||["middle","center"],r.restore=!0);e={height:i.height(),width:i.width()};i.from=t.options.from||(u=="show"?{height:0,width:0}:e);f={y:o!="horizontal"?f/100:1,x:o!="vertical"?f/100:1};i.to={height:e.height*f.y,width:e.width*f.x};t.options.fade&&(u=="show"&&(i.from.opacity=0,i.to.opacity=1),u=="hide"&&(i.from.opacity=1,i.to.opacity=0));r.from=i.from;r.to=i.to;r.mode=u;i.effect("size",r,t.duration,t.callback);i.dequeue()})};n.effects.size=function(t){return this.queue(function(){var i=n(this),f=["position","top","bottom","left","right","width","height","overflow","opacity"],v=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],c=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],y=n.effects.setMode(i,t.options.mode||"effect"),l=t.options.restore||!1,h=t.options.scale||"both",s=t.options.origin,u={height:i.height(),width:i.width()},r;i.from=t.options.from||u;i.to=t.options.to||u;s&&(s=n.effects.getBaseline(s,u),i.from.top=(u.height-i.from.height)*s.y,i.from.left=(u.width-i.from.width)*s.x,i.to.top=(u.height-i.to.height)*s.y,i.to.left=(u.width-i.to.width)*s.x);r={from:{y:i.from.height/u.height,x:i.from.width/u.width},to:{y:i.to.height/u.height,x:i.to.width/u.width}};(h=="box"||h=="both")&&(r.from.y!=r.to.y&&(f=f.concat(e),i.from=n.effects.setTransition(i,e,r.from.y,i.from),i.to=n.effects.setTransition(i,e,r.to.y,i.to)),r.from.x!=r.to.x&&(f=f.concat(o),i.from=n.effects.setTransition(i,o,r.from.x,i.from),i.to=n.effects.setTransition(i,o,r.to.x,i.to)));(h=="content"||h=="both")&&r.from.y!=r.to.y&&(f=f.concat(c),i.from=n.effects.setTransition(i,c,r.from.y,i.from),i.to=n.effects.setTransition(i,c,r.to.y,i.to));n.effects.save(i,l?f:v);i.show();n.effects.createWrapper(i);i.css("overflow","hidden").css(i.from);(h=="content"||h=="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(c),o=o.concat(["marginLeft","marginRight"]),a=f.concat(e).concat(o),i.find("*[width]").each(function(){child=n(this);l&&n.effects.save(child,a);var i={height:child.height(),width:child.width()};child.from={height:i.height*r.from.y,width:i.width*r.from.x};child.to={height:i.height*r.to.y,width:i.width*r.to.x};r.from.y!=r.to.y&&(child.from=n.effects.setTransition(child,e,r.from.y,child.from),child.to=n.effects.setTransition(child,e,r.to.y,child.to));r.from.x!=r.to.x&&(child.from=n.effects.setTransition(child,o,r.from.x,child.from),child.to=n.effects.setTransition(child,o,r.to.x,child.to));child.css(child.from);child.animate(child.to,t.duration,t.options.easing,function(){l&&n.effects.restore(child,a)})}));i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i.to.opacity===0&&i.css("opacity",i.from.opacity);y=="hide"&&i.hide();n.effects.restore(i,l?f:v);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.shake=function(t){return this.queue(function(){var i=n(this),c=["position","top","bottom","left","right"],e,o,s,h;n.effects.setMode(i,t.options.mode||"effect");var r=t.options.direction||"left",u=t.options.distance||20,l=t.options.times||3,f=t.duration||t.options.duration||140;for(n.effects.save(i,c),i.show(),n.effects.createWrapper(i),e=r=="up"||r=="down"?"top":"left",o=r=="up"||r=="left"?"pos":"neg",r={},s={},h={},r[e]=(o=="pos"?"-=":"+=")+u,s[e]=(o=="pos"?"+=":"-=")+u*2,h[e]=(o=="pos"?"-=":"+=")+u*2,i.animate(r,f,t.options.easing),u=1;u<l;u++)i.animate(s,f,t.options.easing).animate(h,f,t.options.easing);i.animate(s,f,t.options.easing).animate(r,f/2,t.options.easing,function(){n.effects.restore(i,c);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)});i.queue("fx",function(){i.dequeue()});i.dequeue()})}}(jQuery),function(n){n.effects.slide=function(t){return this.queue(function(){var i=n(this),s=["position","top","bottom","left","right"],e=n.effects.setMode(i,t.options.mode||"show"),r=t.options.direction||"left",f,u,o;n.effects.save(i,s);i.show();n.effects.createWrapper(i).css({overflow:"hidden"});f=r=="up"||r=="down"?"top":"left";r=r=="up"||r=="left"?"pos":"neg";u=t.options.distance||(f=="top"?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));e=="show"&&i.css(f,r=="pos"?isNaN(u)?"-"+u:-u:u);o={};o[f]=(e=="show"?r=="pos"?"+=":"-=":r=="pos"?"-=":"+=")+u;i.animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){e=="hide"&&i.hide();n.effects.restore(i,s);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.transfer=function(t){return this.queue(function(){var i=n(this),r=n(t.options.to),u=r.offset(),f;r={top:u.top,left:u.left,height:r.innerHeight(),width:r.innerWidth()};u=i.offset();f=n('<div class="ui-effects-transfer"><\/div>').appendTo(document.body).addClass(t.options.className).css({top:u.top,left:u.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(r,t.duration,t.options.easing,function(){f.remove();t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery);$.widget("ui.menu",$.extend({},$.ui.menu.prototype,{activate:function(n,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),u=this.element.height();i<0?this.element.scrollTop(r+i):i>=u&&this.element.scrollTop(r+i-u+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",n,{item:t})},hasScroll:function(){return this.element.height()<this.element[$.fn.prop?"prop":"attr"]("scrollHeight")}}));
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(n){function i(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var t=n.ui.mouse.prototype,u=t._mouseInit,f=t._mouseDestroy,r;t._touchStart=function(n){var t=this;!r&&t._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,t._touchMoved=!1,i(n,"mouseover"),i(n,"mousemove"),i(n,"mousedown"))};t._touchMove=function(n){r&&(this._touchMoved=!0,i(n,"mousemove"))};t._touchEnd=function(n){r&&(i(n,"mouseup"),i(n,"mouseout"),this._touchMoved||i(n,"click"),r=!1)};t._mouseInit=function(){var t=this;t.element.bind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});u.call(t)};t._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});f.call(t)}}})(jQuery);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n:n(jQuery,window,document)}(function(n){!function(t){var i="function"==typeof define&&define.amd,r="undefined"!=typeof module&&module.exports,u="https:"==document.location.protocol?"https:":"http:";i||(r?require("jquery-mousewheel")(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+u+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E")));t()}(function(){var h,c="mCustomScrollbar",t="mCS",it=".mCustomScrollbar",ot={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},pt=0,b={},p=window.attachEvent&&!window.addEventListener?1:0,e=!1,i=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],s={init:function(r){var r=n.extend(!0,{},ot,r),e=v.call(this),u,f;if(r.live){if(u=r.liveSelector||this.selector||it,f=n(u),"off"===r.live)return void k(u);b[u]=setTimeout(function(){f.mCustomScrollbar(r);"once"===r.live&&f.length&&k(u)},500)}else k(u);return r.setWidth=r.set_width?r.set_width:r.setWidth,r.setHeight=r.set_height?r.set_height:r.setHeight,r.axis=r.horizontalScroll?"x":wt(r.axis),r.scrollInertia=r.scrollInertia>0&&r.scrollInertia<17?17:r.scrollInertia,"object"!=typeof r.mouseWheel&&1==r.mouseWheel&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels?r.mouseWheelPixels:r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta?r.advanced.normalizeMouseWheelDelta:r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=bt(r.scrollButtons.scrollType),st(r),n(e).each(function(){var u=n(this);if(!u.data(t)){u.data(t,{idx:++pt,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:u.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=u.data(t),f=e.opt,o=u.data("mcs-axis"),h=u.data("mcs-scrollbar-position"),c=u.data("mcs-theme");o&&(f.axis=o);h&&(f.scrollbarPosition=h);c&&(f.theme=c,st(f));kt.call(this);e&&f.callbacks.onCreate&&"function"==typeof f.callbacks.onCreate&&f.callbacks.onCreate.call(this);n("#mCSB_"+e.idx+"_container img:not(."+i[2]+")").addClass(i[2]);s.update.call(null,u)}})},update:function(r,f){var e=r||v.call(this);return n(e).each(function(){var s=n(this),c;if(s.data(t)){var e=s.data(t),r=e.opt,h=n("#mCSB_"+e.idx+"_container"),a=n("#mCSB_"+e.idx),l=[n("#mCSB_"+e.idx+"_dragger_vertical"),n("#mCSB_"+e.idx+"_dragger_horizontal")];if(!h.length)return;e.tweenRunning&&o(s);f&&e&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this);s.hasClass(i[3])&&s.removeClass(i[3]);s.hasClass(i[4])&&s.removeClass(i[4]);a.css("max-height","none");a.height()!==s.height()&&a.css("max-height",s.height());dt.call(this);"y"===r.axis||r.advanced.autoExpandHorizontalScroll||h.css("width",ht(h));e.overflowed=ii.call(this);ct.call(this);r.autoDraggerLength&&ni.call(this);ti.call(this);ri.call(this);c=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)];"x"!==r.axis&&(e.overflowed[0]?l[0].height()>l[0].parent().height()?y.call(this):(u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(y.call(this),"y"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[1]&&u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==r.axis&&(e.overflowed[1]?l[1].width()>l[1].parent().width()?y.call(this):(u(s,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(y.call(this),"x"===r.axis?g.call(this):"yx"===r.axis&&e.overflowed[0]&&u(s,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})));f&&e&&(2===f&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===f&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this));et.call(this)}})},scrollTo:function(i,r){if("undefined"!=typeof i&&null!=i){var f=v.call(this);return n(f).each(function(){var s=n(this);if(s.data(t)){var o=s.data(t),h=o.opt,c={trigger:"external",scrollInertia:h.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=n.extend(!0,{},c,r),e=ft.call(this,i),l=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia;e[0]=at.call(this,e[0],"y");e[1]=at.call(this,e[1],"x");f.moveDragger&&(e[0]*=o.scrollRatio.y,e[1]*=o.scrollRatio.x);f.dur=wi()?0:l;setTimeout(function(){null!==e[0]&&"undefined"!=typeof e[0]&&"x"!==h.axis&&o.overflowed[0]&&(f.dir="y",f.overwrite="all",u(s,e[0].toString(),f));null!==e[1]&&"undefined"!=typeof e[1]&&"y"!==h.axis&&o.overflowed[1]&&(f.dir="x",f.overwrite="none",u(s,e[1].toString(),f))},f.timeout)}})}},stop:function(){var i=v.call(this);return n(i).each(function(){var i=n(this);i.data(t)&&o(i)})},disable:function(r){var u=v.call(this);return n(u).each(function(){var u=n(this);u.data(t)&&(u.data(t),et.call(this,"remove"),g.call(this),r&&y.call(this),ct.call(this,!0),u.addClass(i[3]))})},destroy:function(){var r=v.call(this);return n(r).each(function(){var f=n(this);if(f.data(t)){var u=f.data(t),e=u.opt,s=n("#mCSB_"+u.idx),o=n("#mCSB_"+u.idx+"_container"),h=n(".mCSB_"+u.idx+"_scrollbar");e.live&&k(e.liveSelector||n(r).selector);et.call(this,"remove");g.call(this);y.call(this);f.removeData(t);a(this,"mcs");h.remove();o.find("img."+i[2]).removeClass(i[2]);s.replaceWith(o.contents());f.removeClass(c+" _"+t+"_"+u.idx+" "+i[6]+" "+i[7]+" "+i[5]+" "+i[3]).addClass(i[4])}})}},v=function(){return"object"!=typeof n(this)||n(this).length<1?it:this},st=function(t){t.autoDraggerLength=n.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=n.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=n.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=n.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},k=function(n){b[n]&&(clearTimeout(b[n]),a(b,n))},wt=function(n){return"yx"===n||"xy"===n||"auto"===n?"yx":"x"===n||"horizontal"===n?"x":"y"},bt=function(n){return"stepped"===n||"pixels"===n||"step"===n||"click"===n?"stepped":"stepless"},kt=function(){var f=n(this),u=f.data(t),r=u.opt,l=r.autoExpandScrollbar?" "+i[1]+"_expand":"",o=["<div id='mCSB_"+u.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+u.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+l+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],v="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",a="yx"===r.axis?o[0]+o[1]:"x"===r.axis?o[1]:o[0],y="yx"===r.axis?"<div id='mCSB_"+u.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=r.autoHideScrollbar?" "+i[6]:"",w="x"!==r.axis&&"rtl"===u.langDir?" "+i[7]:"",h,s,e;r.setWidth&&f.css("width",r.setWidth);r.setHeight&&f.css("height",r.setHeight);r.setLeft="y"!==r.axis&&"rtl"===u.langDir?"989999px":r.setLeft;f.addClass(c+" _"+t+"_"+u.idx+p+w).wrapInner("<div id='mCSB_"+u.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+v+"'><div id='mCSB_"+u.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+u.langDir+"' /><\/div>");h=n("#mCSB_"+u.idx);s=n("#mCSB_"+u.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||s.css("width",ht(s));"outside"===r.scrollbarPosition?("static"===f.css("position")&&f.css("position","relative"),f.css("overflow","visible"),h.addClass("mCSB_outside").after(a)):(h.addClass("mCSB_inside").append(a),s.wrap(y));gt.call(this);e=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")];e[0].css("min-height",e[0].height());e[1].css("min-width",e[1].width())},ht=function(t){var i=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return n(this).outerWidth(!0)}).get())],r=t.parent().width();return i[0]>r?i[0]:i[1]>r?i[1]:"100%"},dt=function(){var e=n(this),f=e.data(t),r=f.opt,i=n("#mCSB_"+f.idx+"_container"),u;r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis&&(i.css({width:"auto","min-width":0,"overflow-x":"scroll"}),u=Math.ceil(i[0].scrollWidth),3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&u>i.parent().width()?i.css({width:u,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},gt=function(){var s=n(this),o=s.data(t),u=o.opt,h=n(".mCSB_"+o.idx+"_scrollbar:first"),f=tt(u.scrollButtons.tabindex)?"tabindex='"+u.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+i[13]+"' "+f+" />","<a href='#' class='"+i[14]+"' "+f+" />","<a href='#' class='"+i[15]+"' "+f+" />","<a href='#' class='"+i[16]+"' "+f+" />"],e=["x"===u.axis?r[2]:r[0],"x"===u.axis?r[3]:r[1],r[2],r[3]];u.scrollButtons.enable&&h.prepend(e[0]).append(e[1]).next(".mCSB_scrollTools").prepend(e[2]).append(e[3])},ni=function(){var s=n(this),u=s.data(t),f=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),r=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],o=[f.height()/e.outerHeight(!1),f.width()/e.outerWidth(!1)],i=[parseInt(r[0].css("min-height")),Math.round(o[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(o[1]*r[1].parent().width())],h=p&&i[1]<i[0]?i[0]:i[1],c=p&&i[3]<i[2]?i[2]:i[3];r[0].css({height:h,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"});r[1].css({width:c,"max-width":r[1].parent().width()-10})},ti=function(){var s=n(this),i=s.data(t),u=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),r=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e=[f.outerHeight(!1)-u.height(),f.outerWidth(!1)-u.width()],o=[e[0]/(r[0].parent().height()-r[0].height()),e[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:o[0],x:o[1]}},d=function(n,t,r){var f=r?i[0]+"_expanded":"",u=n.closest(".mCSB_scrollTools");"active"===t?(n.toggleClass(i[0]+" "+f),u.toggleClass(i[1]),n[0]._draggable=n[0]._draggable?0:1):n[0]._draggable||("hide"===t?(n.removeClass(i[0]),u.removeClass(i[1])):(n.addClass(i[0]),u.addClass(i[1])))},ii=function(){var h=n(this),r=h.data(t),e=n("#mCSB_"+r.idx),i=n("#mCSB_"+r.idx+"_container"),u=null==r.overflowed?i.height():i.outerHeight(!1),f=null==r.overflowed?i.width():i.outerWidth(!1),o=i[0].scrollHeight,s=i[0].scrollWidth;return o>u&&(u=o),s>f&&(f=s),[u>e.height(),f>e.width()]},y=function(){var r=n(this),i=r.data(t),f=i.opt,c=n("#mCSB_"+i.idx),s=n("#mCSB_"+i.idx+"_container"),h=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],e;(o(r),("x"!==f.axis&&!i.overflowed[0]||"y"===f.axis&&i.overflowed[0])&&(h[0].add(s).css("top",0),u(r,"_resetY")),"y"!==f.axis&&!i.overflowed[1]||"x"===f.axis&&i.overflowed[1])&&(e=dx=0,"rtl"===i.langDir&&(e=c.width()-s.outerWidth(!1),dx=Math.abs(e/i.scrollRatio.x)),s.css("left",e),h[1].css("left",dx),u(r,"_resetX"))},ri=function(){function u(){e=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(e),oi.call(f[0])):u()},100)}var f=n(this),r=f.data(t),i=r.opt,e;r.bindEvents||((ui.call(this),i.contentTouchScroll&&fi.call(this),ei.call(this),i.mouseWheel.enable)&&u(),hi.call(this),li.call(this),i.advanced.autoScrollOnFocus&&ci.call(this),i.scrollButtons.enable&&ai.call(this),i.keyboard.enable&&vi.call(this),r.bindEvents=!0)},g=function(){var f=n(this),r=f.data(t),u=r.opt,o=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",e=n("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+s+" ."+i[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+s+">a"),h=n("#mCSB_"+r.idx+"_container");u.advanced.releaseDraggableSelectors&&e.add(n(u.advanced.releaseDraggableSelectors));u.advanced.extraDraggableSelectors&&e.add(n(u.advanced.extraDraggableSelectors));r.bindEvents&&(n(document).add(n(!l()||top.document)).unbind("."+o),e.each(function(){n(this).unbind("."+o)}),clearTimeout(f[0]._focusTimeout),a(f[0],"_focusTimeout"),clearTimeout(r.sequential.step),a(r.sequential,"step"),clearTimeout(h[0].onCompleteTimeout),a(h[0],"onCompleteTimeout"),r.bindEvents=!1)},ct=function(r){var h=n(this),u=h.data(t),o=u.opt,c=n("#mCSB_"+u.idx+"_container_wrapper"),f=c.length?c:n("#mCSB_"+u.idx+"_container"),e=[n("#mCSB_"+u.idx+"_scrollbar_vertical"),n("#mCSB_"+u.idx+"_scrollbar_horizontal")],s=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];"x"!==o.axis&&(u.overflowed[0]&&!r?(e[0].add(s[0]).add(e[0].children("a")).css("display","block"),f.removeClass(i[8]+" "+i[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[0].css("display","none"),f.removeClass(i[10])):(e[0].css("display","none"),f.addClass(i[10])),f.addClass(i[8])));"y"!==o.axis&&(u.overflowed[1]&&!r?(e[1].add(s[1]).add(e[1].children("a")).css("display","block"),f.removeClass(i[9]+" "+i[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&s[1].css("display","none"),f.removeClass(i[11])):(e[1].css("display","none"),f.addClass(i[11])),f.addClass(i[9])));u.overflowed[0]||u.overflowed[1]?h.removeClass(i[5]):h.addClass(i[5])},r=function(t){var e=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[n(frameElement).offset().top,n(frameElement).offset().left]:null,u=l()&&t.target.ownerDocument!==top.document&&null!==frameElement?[n(t.view.frameElement).offset().top,n(t.view.frameElement).offset().left]:[0,0],r,f;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+u[0],t.originalEvent.pageX-i[1]+u[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":return r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],f=t.originalEvent.touches.length||t.originalEvent.changedTouches.length,t.target.ownerDocument!==document?[r.screenY,r.screenX,f>1]:[r.pageY,r.pageX,f>1];default:return i?[t.pageY-i[0]+u[0],t.pageX-i[1]+u[1],!1]:[t.pageY,t.pageX,!1]}},ui=function(){function k(n,t,r,f){var e,o;(w[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===y[1])?(e="x",o=(i[0].offsetLeft-t+f)*s.scrollRatio.x):(e="y",o=(i[0].offsetTop-n+r)*s.scrollRatio.y);u(v,o.toString(),{dir:e,drag:!0})}var i,c,a,v=n(this),s=v.data(t),h=s.opt,f=t+"_"+s.idx,y=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],w=n("#mCSB_"+s.idx+"_container"),b=n("#"+y[0]+",#"+y[1]),g=h.advanced.releaseDraggableSelectors?b.add(n(h.advanced.releaseDraggableSelectors)):b,nt=h.advanced.extraDraggableSelectors?n(!l()||top.document).add(n(h.advanced.extraDraggableSelectors)):n(!l()||top.document);b.bind("contextmenu."+f,function(n){n.preventDefault()}).bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),yt(t)){e=!0;p&&(document.onselectstart=function(){return!1});lt.call(w,!1);o(v);i=n(this);var u=i.offset(),f=r(t)[0]-u.top,s=r(t)[1]-u.left,l=i.height()+u.top,y=i.width()+u.left;l>f&&f>0&&y>s&&s>0&&(c=f,a=s);d(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+f,function(n){n.stopImmediatePropagation();n.preventDefault();var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;k(c,a,u,f)});n(document).add(nt).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(n){if(i){var t=i.offset(),u=r(n)[0]-t.top,f=r(n)[1]-t.left;if(c===u&&a===f)return;k(c,a,u,f)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){i&&(d(i,"active",h.autoExpandScrollbar),i=null);e=!1;p&&(document.onselectstart=null);lt.call(w,!0)})},fi=function(){function at(n){if(!nt(n)||e||r(n)[2])return void(h=0);h=1;it=0;rt=0;st=1;g.removeClass("mCS_touch_action");var t=b.offset();k=r(n)[0]-t.top;d=r(n)[1]-t.left;v=[r(n)[0],r(n)[1]]}function vt(n){var c,l,a,y;if(nt(n)&&!e&&!r(n)[2]&&(f.documentTouchScroll||n.preventDefault(),n.stopImmediatePropagation(),(!rt||it)&&st)){gt=w();var o=ut.offset(),t=r(n)[0]-o.top,u=r(n)[1]-o.left,h="mcsLinearOut";(et.push(t),ot.push(u),v[2]=Math.abs(r(n)[0]-v[0]),v[3]=Math.abs(r(n)[1]-v[1]),i.overflowed[0])&&(c=ft[0].parent().height()-ft[0].height(),l=k-t>0&&t-k>-(c*i.scrollRatio.y)&&(2*v[3]<v[2]||"yx"===f.axis));i.overflowed[1]&&(a=ft[1].parent().width()-ft[1].width(),y=d-u>0&&u-d>-(a*i.scrollRatio.x)&&(2*v[2]<v[3]||"yx"===f.axis));l||y?(ii||n.preventDefault(),it=1):(rt=1,g.addClass("mCS_touch_action"));ii&&n.preventDefault();s="yx"===f.axis?[k-t,d-u]:"x"===f.axis?[null,d-u]:[k-t,null];b[0].idleTimer=250;i.overflowed[0]&&tt(s[0],ni,h,"y","all",!0);i.overflowed[1]&&tt(s[1],ni,h,"x",lt,!0)}}function yt(n){if(!nt(n)||e||r(n)[2])return void(h=0);h=1;n.stopImmediatePropagation();o(g);dt=w();var t=ut.offset();bt=r(n)[0]-t.top;kt=r(n)[1]-t.left;et=[];ot=[]}function pt(n){var t,u,h;if(nt(n)&&!e&&!r(n)[2]){st=0;n.stopImmediatePropagation();it=0;rt=0;ht=w();var l=ut.offset(),a=r(n)[0]-l.top,v=r(n)[1]-l.left;if(!(ht-gt>30)){c=1e3/(ht-dt);var p="mcsEaseOut",o=2.5>c,k=o?[et[et.length-2],ot[ot.length-2]]:[0,0];y=o?[a-k[0],v-k[1]]:[a-bt,v-kt];t=[Math.abs(y[0]),Math.abs(y[1])];c=o?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[c,c];u=[Math.abs(b[0].offsetTop)-y[0]*wt(t[0]/c[0],c[0]),Math.abs(b[0].offsetLeft)-y[1]*wt(t[1]/c[1],c[1])];s="yx"===f.axis?[u[0],u[1]]:"x"===f.axis?[null,u[1]]:[u[0],null];ct=[4*t[0]+f.scrollInertia,4*t[1]+f.scrollInertia];h=parseInt(f.contentTouchScroll)||0;s[0]=t[0]>h?s[0]:0;s[1]=t[1]>h?s[1]:0;i.overflowed[0]&&tt(s[0],ct[0],p,"y",lt,!1);i.overflowed[1]&&tt(s[1],ct[1],p,"x",lt,!1)}}}function wt(n,t){var i=[1.5*t,2*t,t/1.5,t/2];return n>90?t>4?i[0]:i[3]:n>60?t>3?i[3]:i[2]:n>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function tt(n,t,i,r,f,e){n&&u(g,n.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:f,drag:e})}var st,k,d,bt,kt,dt,gt,ht,y,c,s,ct,it,rt,g=n(this),i=g.data(t),f=i.opt,a=t+"_"+i.idx,ut=n("#mCSB_"+i.idx),b=n("#mCSB_"+i.idx+"_container"),ft=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],et=[],ot=[],ni=0,lt="yx"===f.axis?"none":"all",v=[],ti=b.find("iframe"),p=["touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,"touchmove."+a+" pointermove."+a+" MSPointerMove."+a,"touchend."+a+" pointerup."+a+" MSPointerUp."+a],ii=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;b.bind(p[0],function(n){at(n)}).bind(p[1],function(n){vt(n)});ut.bind(p[0],function(n){yt(n)}).bind(p[2],function(n){pt(n)});ti.length&&ti.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){at(n);yt(n)}).bind(p[1],function(n){vt(n)}).bind(p[2],function(n){pt(n)})})})},ei=function(){function y(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(n,t,i){l.type=i&&u?"stepped":"stepless";l.scrollAmount=10;ut(a,n,t,"mcsLinearOut",i?60:null)}var u,a=n(this),f=a.data(t),v=f.opt,l=f.sequential,s=t+"_"+f.idx,o=n("#mCSB_"+f.idx+"_container"),c=o.parent();o.bind("mousedown."+s,function(){h||u||(u=1,e=!0)}).add(document).bind("mousemove."+s,function(n){if(!h&&u&&y()){var s=o.offset(),t=r(n)[0]-s.top+o[0].offsetTop,e=r(n)[1]-s.left+o[0].offsetLeft;t>0&&t<c.height()&&e>0&&e<c.width()?l.step&&i("off",null,"stepped"):("x"!==v.axis&&f.overflowed[0]&&(0>t?i("on",38):t>c.height()&&i("on",40)),"y"!==v.axis&&f.overflowed[1]&&(0>e?i("on",37):e>c.width()&&i("on",39)))}}).bind("mouseup."+s+" dragend."+s,function(){h||(u&&(u=0,i("off",null)),e=!1)})},oi=function(){function h(t,h){var a,v;if(o(s),!si(s,t.target)){if(a="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):p&&t.deltaFactor<100?100:t.deltaFactor||100,v=i.scrollInertia,"x"===i.axis||"x"===i.mouseWheel.axis)var y="x",l=[Math.round(a*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.width()?.9*e.width():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetLeft),b=f[1][0].offsetLeft,d=f[1].parent().width()-f[1].width(),c="y"===i.mouseWheel.axis?t.deltaY||h:t.deltaX;else var y="y",l=[Math.round(a*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],w="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=e.height()?.9*e.height():l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetTop),b=f[0][0].offsetTop,d=f[0].parent().height()-f[0].height(),c=t.deltaY||h;("y"!==y||r.overflowed[0])&&("x"!==y||r.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),i.mouseWheel.normalizeDelta&&(c=0>c?-1:1),(c>0&&0!==b||0>c&&b!==d||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(w=t.deltaFactor,v=17),u(s,(k-c*w).toString(),{dir:y,dur:v}))}}if(n(this).data(t)){var s=n(this),r=s.data(t),i=r.opt,c=t+"_"+r.idx,e=n("#mCSB_"+r.idx),f=[n("#mCSB_"+r.idx+"_dragger_vertical"),n("#mCSB_"+r.idx+"_dragger_horizontal")],a=n("#mCSB_"+r.idx+"_container").find("iframe");a.length&&a.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind("mousewheel."+c,function(n,t){h(n,t)})})});e.bind("mousewheel."+c,function(n,t){h(n,t)})}},rt={},l=function(t){var r=!1,i=!1,u=null,f;if(void 0===t?i="#empty":void 0!==n(t).attr("id")&&(i=n(t).attr("id")),i!==!1&&void 0!==rt[i])return rt[i];if(t){try{f=t.contentDocument||t.contentWindow.document;u=f.body.innerHTML}catch(e){}r=null!==u}else{try{f=top.document;u=f.body.innerHTML}catch(e){}r=null!==u}return i!==!1&&(rt[i]=r),r},lt=function(n){var t=this.find("iframe"),i;t.length&&(i=n?"auto":"none",t.css("pointer-events",i))},si=function(i,r){var u=r.nodeName.toLowerCase(),f=i.data(t).opt.mouseWheel.disableOver;return n.inArray(u,f)>-1&&!(n.inArray(u,["select","textarea"])>-1&&!n(r).is(":focus"))},hi=function(){var s,h=n(this),f=h.data(t),r=t+"_"+f.idx,c=n("#mCSB_"+f.idx+"_container"),l=c.parent(),a=n(".mCSB_"+f.idx+"_scrollbar ."+i[12]);a.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){e=!0;n(t.target).hasClass("mCSB_dragger")||(s=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){e=!1}).bind("click."+r,function(t){var r,e;if(s&&(s=0,n(t.target).hasClass(i[12])||n(t.target).hasClass("mCSB_draggerRail"))){if(o(h),r=n(this),e=r.find(".mCSB_dragger"),r.parent(".mCSB_scrollTools_horizontal").length>0){if(!f.overflowed[1])return;var v="x",a=t.pageX>e.offset().left?-1:1,y=Math.abs(c[0].offsetLeft)-a*.9*l.width()}else{if(!f.overflowed[0])return;var v="y",a=t.pageY>e.offset().top?-1:1,y=Math.abs(c[0].offsetTop)-a*.9*l.height()}u(h,y.toString(),{dir:v,scrollEasing:"mcsEaseInOut"})}})},ci=function(){var i=n(this),s=i.data(t),e=s.opt,c=t+"_"+s.idx,r=n("#mCSB_"+s.idx+"_container"),h=r.parent();r.bind("focusin."+c,function(){var t=n(document.activeElement),c=r.find(".mCustomScrollBox").length,s=0;t.is(e.advanced.autoScrollOnFocus)&&(o(i),clearTimeout(i[0]._focusTimeout),i[0]._focusTimer=c?(s+17)*c:0,i[0]._focusTimeout=setTimeout(function(){var n=[f(t)[0],f(t)[1]],o=[r[0].offsetTop,r[0].offsetLeft],c=[o[0]+n[0]>=0&&o[0]+n[0]<h.height()-t.outerHeight(!1),o[1]+n[1]>=0&&o[0]+n[1]<h.width()-t.outerWidth(!1)],l="yx"!==e.axis||c[0]||c[1]?"all":"none";"x"===e.axis||c[0]||u(i,n[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s});"y"===e.axis||c[1]||u(i,n[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s})},i[0]._focusTimer))})},li=function(){var u=n(this),i=u.data(t),f=t+"_"+i.idx,r=n("#mCSB_"+i.idx+"_container").parent();r.bind("scroll."+f,function(){0===r.scrollTop()&&0===r.scrollLeft()||n(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},ai=function(){var f=n(this),r=f.data(t),o=r.opt,u=r.sequential,i=t+"_"+r.idx,s=".mCSB_"+r.idx+"_scrollbar",h=n(s+">a");h.bind("contextmenu."+i,function(n){n.preventDefault()}).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i+" mouseup."+i+" touchend."+i+" pointerup."+i+" MSPointerUp."+i+" mouseout."+i+" pointerout."+i+" MSPointerOut."+i+" click."+i,function(t){function i(n,t){u.scrollAmount=o.scrollButtons.scrollAmount;ut(f,n,t)}if(t.preventDefault(),yt(t)){var s=n(this).attr("class");switch(u.type=o.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===u.type)return;e=!0;r.tweenRunning=!1;i("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===u.type)return;e=!1;u.dir&&i("off",s);break;case"click":if("stepped"!==u.type||r.tweenRunning)return;i("on",s)}}})},vi=function(){function a(t){function w(n,t){s.type=r.keyboard.scrollType;s.scrollAmount=r.keyboard.scrollAmount;"stepped"===s.type&&i.tweenRunning||ut(e,n,t)}var c,y,p,l,a;switch(t.type){case"blur":i.tweenRunning&&s.dir&&w("off",null);break;case"keydown":case"keyup":if(c=t.keyCode?t.keyCode:t.which,y="on","x"!==r.axis&&(38===c||40===c)||"y"!==r.axis&&(37===c||39===c)){if((38===c||40===c)&&!i.overflowed[0]||(37===c||39===c)&&!i.overflowed[1])return;"keyup"===t.type&&(y="off");n(document.activeElement).is(v)||(t.preventDefault(),t.stopImmediatePropagation(),w(y,c))}else 33===c||34===c?((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)&&(o(e),p=34===c?-1:1,"x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=Math.abs(f[0].offsetLeft)-p*.9*h.width()):(l="y",a=Math.abs(f[0].offsetTop)-p*.9*h.height()),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})):35!==c&&36!==c||n(document.activeElement).is(v)||((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=35===c?Math.abs(h.width()-f.outerWidth(!1)):0):(l="y",a=35===c?Math.abs(h.height()-f.outerHeight(!1)):0),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))}}var e=n(this),i=e.data(t),r=i.opt,s=i.sequential,c=t+"_"+i.idx,w=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),h=f.parent(),v="input,textarea,select,datalist,keygen,[contenteditable='true']",y=f.find("iframe"),p=["blur."+c+" keydown."+c+" keyup."+c];y.length&&y.each(function(){n(this).bind("load",function(){l(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){a(n)})})});w.attr("tabindex","0").bind(p[0],function(n){a(n)})},ut=function(r,f,e,s,h){function y(n){l.snapAmount&&(c.scrollAmount=l.snapAmount instanceof Array?"x"===c.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var i="stepped"!==c.type,f=h?h:n?i?k/1.5:d:1e3/60,e=n?i?7.5:40:2.5,t=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],o=[v.scrollRatio.y>10?10:v.scrollRatio.y,v.scrollRatio.x>10?10:v.scrollRatio.x],w="x"===c.dir[0]?t[1]+c.dir[1]*o[1]*e:t[0]+c.dir[1]*o[0]*e,b="x"===c.dir[0]?t[1]+c.dir[1]*parseInt(c.scrollAmount):t[0]+c.dir[1]*parseInt(c.scrollAmount),a="auto"!==c.scrollAmount?b:w,g=s?s:n?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",nt=!!n;return n&&17>f&&(a="x"===c.dir[0]?t[1]:t[0]),u(r,a.toString(),{dir:c.dir[0],scrollEasing:g,dur:f,onComplete:nt}),n?void(c.dir=!1):(clearTimeout(c.step),void(c.step=setTimeout(function(){y()},f)))}function b(){clearTimeout(c.step);a(c,"step");o(r)}var v=r.data(t),l=v.opt,c=v.sequential,p=n("#mCSB_"+v.idx+"_container"),w="stepped"===c.type,k=l.scrollInertia<26?26:l.scrollInertia,d=l.scrollInertia<1?17:l.scrollInertia;switch(f){case"on":if(c.dir=[e===i[16]||e===i[15]||39===e||37===e?"x":"y",e===i[13]||e===i[15]||38===e||37===e?-1:1],o(r),tt(e)&&"stepped"===c.type)return;y(w);break;case"off":b();(w||v.tweenRunning&&c.dir)&&y(!0)}},ft=function(i){var u=n(this).data(t).opt,r=[];return"function"==typeof i&&(i=i()),i instanceof Array?r=i.length>1?[i[0],i[1]]:"x"===u.axis?[null,i[0]]:[i[0],null]:(r[0]=i.y?i.y:i.x||"x"===u.axis?null:i,r[1]=i.x?i.x:i.y||"y"===u.axis?null:i),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},at=function(i,r){var h,e;if(null!=i&&"undefined"!=typeof i){var c=n(this),l=c.data(t),v=l.opt,u=n("#mCSB_"+l.idx+"_container"),o=u.parent(),y=typeof i;r||(r="x"===v.axis?"x":"y");var p="x"===r?u.outerWidth(!1)-o.width():u.outerHeight(!1)-o.height(),a="x"===r?u[0].offsetLeft:u[0].offsetTop,w="x"===r?"left":"top";switch(y){case"function":return i();case"object":return(e=i.jquery?i:n(i),!e.length)?void 0:"x"===r?f(e)[1]:f(e)[0];case"string":case"number":return tt(i)?Math.abs(i):-1!==i.indexOf("%")?Math.abs(p*parseInt(i)/100):-1!==i.indexOf("-=")?Math.abs(a-parseInt(i.split("-=")[1])):-1!==i.indexOf("+=")?(h=a+parseInt(i.split("+=")[1]),h>=0?0:Math.abs(h)):-1!==i.indexOf("px")&&tt(i.split("px")[0])?Math.abs(i.split("px")[0]):"top"===i||"left"===i?0:"bottom"===i?Math.abs(o.height()-u.outerHeight(!1)):"right"===i?Math.abs(o.width()-u.outerWidth(!1)):"first"===i||"last"===i?(e=u.find(":"+i),"x"===r?f(e)[1]:f(e)[0]):n(i).length?"x"===r?f(n(i))[1]:f(n(i))[0]:(u.css(w,i),void s.update.call(null,c[0]))}}},et=function(r){function c(){return clearTimeout(e[0].autoUpdate),0===o.parents("html").length?void(o=null):void(e[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(u.poll.change.n=v(),u.poll.change.n!==u.poll.change.o)?(u.poll.change.o=u.poll.change.n,void h(3)):f.advanced.updateOnContentResize&&(u.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+e[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,u.poll.size.n!==u.poll.size.o)?(u.poll.size.o=u.poll.size.n,void h(1)):!f.advanced.updateOnImageLoad||"auto"===f.advanced.updateOnImageLoad&&"y"===f.axis||(u.poll.img.n=e.find("img").length,u.poll.img.n===u.poll.img.o)?void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&c()):(u.poll.img.o=u.poll.img.n,void e.find("img").each(function(){l(this)}))},f.advanced.autoUpdateTimeout))}function l(t){function u(n,t){return function(){return t.apply(n,arguments)}}function f(){this.onload=null;n(t).addClass(i[2]);h(2)}if(n(t).hasClass(i[2]))return void h();var r=new Image;r.onload=u(r,f);r.src=t.src}function v(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var n=0,t=e.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){n+=this.offsetHeight+this.offsetWidth}),n}function h(n){clearTimeout(e[0].autoUpdate);s.update.call(null,o[0],n)}var o=n(this),u=o.data(t),f=u.opt,e=n("#mCSB_"+u.idx+"_container");return r?(clearTimeout(e[0].autoUpdate),void a(e[0],"autoUpdate")):void c()},yi=function(n,t,i){return Math.round(n/t)*t-i},o=function(i){var r=i.data(t),u=n("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");u.each(function(){pi.call(this)})},u=function(i,r,u){function h(n){return f&&e.callbacks[n]&&"function"==typeof e.callbacks[n]}function rt(){return[e.callbacks.alwaysTriggerOffsets||w>=l[0]+v,e.callbacks.alwaysTriggerOffsets||-y>=w]}function a(){var n=[o[0].offsetTop,o[0].offsetLeft],t=[c[0].offsetTop,c[0].offsetLeft],r=[o.outerHeight(!1),o.outerWidth(!1)],f=[p.height(),p.width()];i[0].mcs={content:o,top:n[0],left:n[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(n[0])/(Math.abs(r[0])-f[0])),leftPct:Math.round(100*Math.abs(n[1])/(Math.abs(r[1])-f[1])),direction:u.dir}}var f=i.data(t),e=f.opt,ut={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:e.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(ut,u),k=[u.dur,u.drag?0:u.dur],p=n("#mCSB_"+f.idx),o=n("#mCSB_"+f.idx+"_container"),b=o.parent(),g=e.callbacks.onTotalScrollOffset?ft.call(i,e.callbacks.onTotalScrollOffset):[0,0],nt=e.callbacks.onTotalScrollBackOffset?ft.call(i,e.callbacks.onTotalScrollBackOffset):[0,0],tt;if(f.trigger=u.trigger,0===b.scrollTop()&&0===b.scrollLeft()||(n(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),b.scrollTop(0).scrollLeft(0)),"_resetY"!==r||f.contentReset.y||(h("onOverflowYNone")&&e.callbacks.onOverflowYNone.call(i[0]),f.contentReset.y=1),"_resetX"!==r||f.contentReset.x||(h("onOverflowXNone")&&e.callbacks.onOverflowXNone.call(i[0]),f.contentReset.x=1),"_resetY"!==r&&"_resetX"!==r){(!f.contentReset.y&&i[0].mcs||!f.overflowed[0]||(h("onOverflowY")&&e.callbacks.onOverflowY.call(i[0]),f.contentReset.x=null),!f.contentReset.x&&i[0].mcs||!f.overflowed[1]||(h("onOverflowX")&&e.callbacks.onOverflowX.call(i[0]),f.contentReset.x=null),e.snapAmount)&&(tt=e.snapAmount instanceof Array?"x"===u.dir?e.snapAmount[1]:e.snapAmount[0]:e.snapAmount,r=yi(r,tt,e.snapOffset));switch(u.dir){case"x":var c=n("#mCSB_"+f.idx+"_dragger_horizontal"),it="left",w=o[0].offsetLeft,l=[p.width()-o.outerWidth(!1),c.parent().width()-c.width()],s=[r,0===r?0:r/f.scrollRatio.x],v=g[1],y=nt[1],et=v>0?v/f.scrollRatio.x:0,ot=y>0?y/f.scrollRatio.x:0;break;case"y":var c=n("#mCSB_"+f.idx+"_dragger_vertical"),it="top",w=o[0].offsetTop,l=[p.height()-o.outerHeight(!1),c.parent().height()-c.height()],s=[r,0===r?0:r/f.scrollRatio.y],v=g[0],y=nt[0],et=v>0?v/f.scrollRatio.y:0,ot=y>0?y/f.scrollRatio.y:0}s[1]<0||0===s[0]&&0===s[1]?s=[0,0]:s[1]>=l[1]?s=[l[0],l[1]]:s[0]=-s[0];i[0].mcs||(a(),h("onInit")&&e.callbacks.onInit.call(i[0]));clearTimeout(o[0].onCompleteTimeout);vt(c[0],it,Math.round(s[1]),k[1],u.scrollEasing);!f.tweenRunning&&(0===w&&s[0]>=0||w===l[0]&&s[0]<=l[0])||vt(o[0],it,Math.round(s[0]),k[0],u.scrollEasing,u.overwrite,{onStart:function(){u.callbacks&&u.onStart&&!f.tweenRunning&&(h("onScrollStart")&&(a(),e.callbacks.onScrollStart.call(i[0])),f.tweenRunning=!0,d(c),f.cbOffsets=rt())},onUpdate:function(){u.callbacks&&u.onUpdate&&h("whileScrolling")&&(a(),e.callbacks.whileScrolling.call(i[0]))},onComplete:function(){if(u.callbacks&&u.onComplete){"yx"===e.axis&&clearTimeout(o[0].onCompleteTimeout);var n=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(a(),e.callbacks.onScroll.call(i[0]));h("onTotalScroll")&&s[1]>=l[1]-et&&f.cbOffsets[0]&&(a(),e.callbacks.onTotalScroll.call(i[0]));h("onTotalScrollBack")&&s[1]<=ot&&f.cbOffsets[1]&&(a(),e.callbacks.onTotalScrollBack.call(i[0]));f.tweenRunning=!1;o[0].idleTimer=0;d(c,"hide")},n)}}})}},vt=function(n,t,i,r,u,f,e){function a(){o.stop||(s||g.call(),s=w()-it,v(),s>=o.time&&(o.time=s>o.time?s+h-(s-o.time):s+h-1,o.time<s+1&&(o.time=s+1)),o.time<r?o.id=c(a):tt.call())}function v(){r>0?(o.currVal=d(o.time,l,p,r,u),y[t]=Math.round(o.currVal)+"px"):y[t]=i+"px";nt.call()}function b(){h=1e3/60;o.time=s+h;c=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)};o.id=c(a)}function k(){null!=o.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(o.id):clearTimeout(o.id),o.id=null)}function d(n,t,i,r,u){switch(u){case"linear":case"mcsLinear":return i*n/r+t;case"mcsLinearOut":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeInOutSmooth":return n/=r/2,1>n?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeInOutStrong":return n/=r/2,1>n?i/2*Math.pow(2,10*(n-1))+t:(n--,i/2*(-Math.pow(2,-10*n)+2)+t);case"easeInOut":case"mcsEaseInOut":return n/=r/2,1>n?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t);case"easeOutSmooth":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*n/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n)}}var p;n._mTween||(n._mTween={top:{},left:{}});var h,c,e=e||{},g=e.onStart||function(){},nt=e.onUpdate||function(){},tt=e.onComplete||function(){},it=w(),s=0,l=n.offsetTop,y=n.style,o=n._mTween[t];"left"===t&&(l=n.offsetLeft);p=i-l;o.stop=0;"none"!==f&&k();b()},w=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},pi=function(){var n=this,r,i,t;for(n._mTween||(n._mTween={top:{},left:{}}),r=["top","left"],i=0;i<r.length;i++)t=r[i],n._mTween[t].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._mTween[t].id):clearTimeout(n._mTween[t].id),n._mTween[t].id=null,n._mTween[t].stop=1)},a=function(n,t){try{delete n[t]}catch(i){n[t]=null}},yt=function(n){return!(n.which&&1!==n.which)},nt=function(n){var t=n.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},tt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},f=function(n){var t=n.parents(".mCSB_container");return[n.offset().top-t.offset().top,n.offset().left-t.offset().left]},wi=function(){function t(){var t=["webkit","moz","ms","o"],n;if("hidden"in document)return"hidden";for(n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null}var n=t();return n?document[n]:!1};n.fn[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c]=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist"):s.init.apply(this,arguments)};n[c].defaults=ot;window[c]=!0;n(window).bind("load",function(){n(it)[c]();n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(t){var e,r,i=n(t),u=i.parents(".mCSB_container");if(u.length)return e=u.parent(),r=[u[0].offsetTop,u[0].offsetLeft],r[0]+f(i)[0]>=0&&r[0]+f(i)[0]<e.height()-i.outerHeight(!1)&&r[1]+f(i)[1]>=0&&r[1]+f(i)[1]<e.width()-i.outerWidth(!1)},mcsInSight:n.expr[":"].mcsInSight||function(t,i,r){var e,u,o,s,h=n(t),c=h.parents(".mCSB_container"),l="exact"===r[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return e=[h.outerHeight(!1),h.outerWidth(!1)],o=[c[0].offsetTop+f(h)[0],c[0].offsetLeft+f(h)[1]],u=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],s=[e[0]<u[0]?l[0]:l[1],e[1]<u[1]?l[0]:l[1]],o[0]-u[0]*s[0][0]<0&&o[0]+e[0]-u[0]*s[0][1]>=0&&o[1]-u[1]*s[1][0]<0&&o[1]+e[1]-u[1]*s[1][1]>=0},mcsOverflow:n.expr[":"].mcsOverflow||function(i){var r=n(i).data(t);if(r)return r.overflowed[0]||r.overflowed[1]}})})})}),function(n){function t(t){this.options=t;this.currLevel=t.currLevel?parseInt(t.currLevel):1;this.maxLevel=1;this.isFilter=t.isFilter;this.defaultText=t.defaultText;Array.isArray(t.hddValue)?(this.maxLevel=t.hddValue.length,this.Value=n("#"+t.hddValue[this.currLevel-1])):this.Value=n("#"+t.hddValue);this.divOptions=n("#"+t.id);for(var i in t)this.divOptions.attr(i,t[i]);return this.divOptions.attr("currLevel",this.currLevel),this.txtMinValue=t.minValue!==undefined?n("#"+t.minValue):null,this.txtMaxValue=t.maxValue!==undefined?n("#"+t.maxValue):null,this.lstValue=this.divOptions.children("ul").children(),this.selectText=n("#"+t.ddlId),this.labelText=this.divOptions.parents().children(".select-control-label"),t.siblingId!=undefined&&(this.siblingId=n("#"+t.siblingId)),t.siblingText!=undefined&&(this.siblingText=n("."+t.siblingText)),this.displayText=this.isFilter?this.selectText.children(".filter-label").find("span"):this.selectText.parent().find(".custom-value"),this.textDefault=n(this.lstValue[0]).text(),this.valueDefault=n(this.lstValue[0]).attr("vl"),this.unitPrice=t.unit!==undefined?t.unit:null,this.lblMin=n("#"+t.lblMin),this.lblMax=n("#"+t.lblMax),this}t.prototype.CheckToClose=function(t){var i,r,u;if(this.txtMaxValue!=null&&this.txtMinValue!=null&&(this.txtMaxValue.val().length>0||this.txtMinValue.val().length>0)?(i=parseFloat(this.txtMinValue.val()),r=parseFloat(this.txtMaxValue.val()),r<i&&(u=this.txtMaxValue.val(),this.txtMaxValue.val(this.txtMinValue.val()),this.txtMinValue.val(u)),this.UpdateTextValue()):this.SetValue(null,this),this.divOptions.closest(".select-control").hasClass("active")&&(this.divOptions.closest(".select-control").removeClass("active"),this.divOptions.closest(".advance-select-options").hide()),n(".select-filter-dropbox").hide(),n("body").unbind("click"),this.selectText.removeClass("select-text-content-focus"),this.selectText.parent().removeClass("select-text-focus"),(t===undefined||t==!1)&&this.options.onClose!==undefined&&this.options.onClose!=null)this.options.onClose(1);return!0};t.prototype.UpdateTextValue=function(){var i,t,n,r,u;this.txtMaxValue!=null&&this.txtMinValue!=null&&(this.txtMinValue.val().length==0&&this.txtMaxValue.val().length==0?(this.SetValue(null),this.displayText.html("Tất cả"),t=!1):(i="",t=!1,this.unitPrice=="money"?(this.txtMinValue.val().length>0?(n=GetMoneyText2(parseFloat(this.txtMinValue.val())*1e6),i+=this.txtMaxValue.val().length>0?n:">= "+n,this.lblMin.text(n),t=!0):this.lblMin.text(""),this.txtMaxValue.val().length>0?(n=GetMoneyText2(parseFloat(this.txtMaxValue.val())*1e6),i+=this.txtMinValue.val().length>0?" - "+n:"< "+n,this.lblMax.text(n),t=!0):this.lblMax.text("")):this.unitPrice=="area"&&(r=this.txtMinValue.val(),r.indexOf("m²")<0&&(r=r+" m²"),u=this.txtMaxValue.val(),u.indexOf("m²")<0&&(u=u+" m²"),this.txtMinValue.val().length>0&&(i+=this.txtMaxValue.val().length>0?r:">= "+r,t=!0),this.txtMaxValue.val().length>0&&(i+=this.txtMinValue.val().length>0?" - "+u:"< "+u,t=!0)),t?(this.selectText.addClass("hasvalue"),this.selectText.parent().find(".custom-value").addClass("hasvalue")):(this.selectText.removeClass("hasvalue"),this.selectText.parent().find(".custom-value").removeClass("hasvalue")),this.displayText.html(i.replace("  - ","-").replace(" - ","-").replace("-",`<span class="arrow-icon"></span>`))))};t.prototype.SetValue=function(t){var r="",f=!1,u,i;t!==undefined&&t!=null&&this.divOptions.find("ul").children("[vl="+t+"]").length>0?r=this.divOptions.find("ul").children("[vl="+t+"]").text():(this.options.isallowfreevalue&&(u=this.selectText.children().val(),u.length>0&&(i=this.divOptions.children("ul").children("[vl="+u+"]"),i.length==0?(r=u,t=u):(i=i[0],r=i.text(),t=i.attr("vl")))),r.length==0&&(i=this.divOptions.children("ul").children("li.current:visible").length>0?n(this.divOptions.children("ul").children("li.current:visible")[0]):this.divOptions.children("ul").children("li:visible").length>0?n(this.divOptions.children("ul").children("li:visible")[0]):this.divOptions.children("ul").children(":nth-child(1)"),r=i.text(),t=i.attr("vl")));this.valueDefault==undefined&&(this.valueDefault=this.divOptions.find("li").first().attr("vl"));t==this.valueDefault?r=this.textDefault:t!=undefined&&(f=!0);f?(this.selectText.addClass("hasvalue"),this.selectText.parent().find(".custom-value").addClass("hasvalue"),this.isFilter&&this.displayText.addClass("hasvalue")):(this.selectText.removeClass("hasvalue"),this.isFilter&&this.displayText.removeClass("hasvalue"));this.Value.val(t);this.txtMaxValue!=null&&this.txtMaxValue.val("");this.txtMinValue!=null&&this.txtMinValue.val("")};CheckToCloseAll=function(){n(".select-control").removeClass("active");n(".advance-select-options:visible").length>=0&&n(".advance-select-options:visible").each(function(i,r){var u=n(r).attr("hddValue"),f;u!=undefined&&u.split(",").length>1&&(u=u.split(","));f={hddValue:u,id:n(r).attr("id"),minValue:n(r).attr("minValue"),maxValue:n(r).attr("maxValue"),maxValue:n(r).attr("maxValue"),ddlId:n(r).attr("ddlId"),unit:n(r).attr("unit"),lblMin:n(r).attr("lblMin"),lblMax:n(r).attr("lblMax"),currLevel:n(r).attr("currLevel")};new t(f).CheckToClose(!0)})};CheckToCloseFilter=function(){n(".fly-options.advance-select-options:visible").length>=0&&n(".fly-options.advance-select-options:visible").each(function(){n(this).hide()});n(".custom-dropbox-filter").hide()};AdvanceHiddenDropbox=function(i){function e(t,i){var f=i.keyCode?i.keyCode:i.which,r,u;f==13?(i.data.CheckToClose(),i.preventDefault()):(r=n(t).attr("decimal")=="true",u=numbersonly(t,i,r),u==!1&&i.preventDefault())}function o(t,r){r.data.UpdateTextValue();var u=n(t).val();n(t).attr("id")==i.minValue?r.data.minValue=parseFloat(u):r.data.maxValue=parseFloat(u);r.data.me.Value.val("");r.data.me.divOptions.find("ul").find("li").removeClass("active current");r.originalEvent&&r.originalEvent.isTrusted&&r.data._ChangeFunc!=null&&r.data._ChangeFunc(r.data._ChangeFuncScope)}var r=n(this),f,s,u;if(r.length==0)return null;i=n.extend(i,{ddlId:r.attr("id")});this.me=new t(i);i.css&&this.me.divOptions.css(i.css);f=window.navigator.userAgent;(i.autocomplete==!0||i.id=="divCityOptions"||i.id=="divDistrictOptions"||i.id=="divWardOptions"||i.id=="divStreetOptions"||i.id=="divProjectOptions"||i.id=="divCityCompareOptions"||i.id=="divDistrictCompareOptions"||i.id=="divWardCompareOptions"||i.id=="divStreetCompareOptions"||i.id=="divProjectCompareOptions")&&f.indexOf("MSIE")<0&&f.indexOf("Trident")<0&&r.attr("enable")!="false"&&(s=i.isrequired?" required":"");this.me.selectText.children(".select-text-content").off("keypress keydown keyup");this.me.labelText.on("click",this,function(t){if(r.attr("enable")!="false"){if(n(t.target).hasClass("filter-label")||(n(".fly-options").hide(),n(".select-text-content.icon-arrow-up").hide(),n(".custom-dropbox-filter").hide()),t.preventDefault(),t.stopPropagation(),t.data.me.selectText.children("input.select-text-content").length>0&&t.data.me.selectText.children("input.select-text-content").val(""),t.data.me.selectText.is(":visible")){if(n(this).parent().removeClass("active"),t.data.me.selectText.hide(),n(this).children().attr("readonly","true"),r.attr("id")!=="divBedRoom"&&r.attr("id")!=="divMedia"&&t.data.SetValue(),t.data.me.options.onClose!==undefined&&t.data.me.options.onClose!=null)t.data.me.options.onClose(2)}else n(".advance-select-options").hide(),n(".select-control").removeClass("active"),n(this).parent().addClass("active"),t.data.me.selectText.children("input.select-text-content").removeAttr("readonly"),t.data.me.selectText.show(),t.data.me.lstValue.removeClass("current"),t.data.me.lstValue.show(),t.data.me.Value.val().length>0&&(t.data.me.txtMaxValue==null||t.data.me.txtMaxValue.val().length==0)&&(t.data.me.txtMinValue==null||t.data.me.txtMinValue.val().length==0)&&t.data.me.divOptions.children("ul").children("[vl="+t.data.me.Value.val()+"]").addClass("current"),t.data.me.options.onShow!==undefined&&t.data.me.options.onShow!=null&&t.data.me.options.onShow(),n("body").bind("click",t.data,function(i){n(i.target).hasClass("advance-options")||n(i.target).parents(".advance-select-options").length>0?(i.preventDefault(),i.stopPropagation()):(t.data&&t.data.CheckToClose(),n("body").unbind("click"))}),n(window).bind("resize",function(){n("body").trigger("click")});return t.data.me.selectText.children("input.select-text-content").length>0&&t.data.me.selectText.children("input.select-text-content").focus(),n(this)}});this.me.selectText.children(".select-text-content").on("click",function(){if(i.isFilter){CheckToCloseFilter();n("#"+i.id).css("top",n(this).offset().top-n(".select-filter-dropbox").offset().top+108+"px");var t=n(window).height()-(n(this).offset().top+48);t<308?n("#"+i.id).css("max-height",t+"px"):n("#"+i.id).css("max-height","308px");n("#"+i.id).show();n("#"+i.id).find("li").css("display","block");n(this).removeAttr("readonly")}}).on("focus",function(){return n(this).data("before",n(this).val()),n(this).val(""),n(this)}).on("change",this,function(t){var i=t.data,r=UnicodeToKoDau(n(this).val()).trim().toLowerCase();r.length>0?n(i.me.lstValue).each(function(){var t=UnicodeToKoDau(n(this).text()).trim().toLowerCase();n(this).attr("vl")==""||n(this).attr("vl")=="0"||n(this).attr("vl")=="CN"||t.indexOf(r)<0?n(this).hide():n(this).show()}):n(i.me.lstValue).show()}).on("keydown",this,function(t){var r=t.keyCode?t.keyCode:t.which,s,i,f,e,c,a,l,u;if(r==13||r==9){try{i=t.data.me.divOptions.find("ul").children("li.current:visible");i.length==1?t.data._listValueItemClick(i):(s=t.data.me.divOptions.find("ul").children("li:visible"),s!==undefined&&s.length>0&&t.data._listValueItemClick(s[0]))}catch(v){}if(r==13)return t.preventDefault(),t.stopPropagation(),!1}else if(r==40||r==38)if(i=t.data.me.divOptions.find("ul").children("li:visible"),i.length>0){if(i=t.data.me.divOptions.find("ul").children("li.current:visible"),i.length>0){if(i=n(i[0]),i.removeClass("current"),r==40){for(f=i;f.hasClass("advance-options")&&f.next(":not(:visible)").length>0;)f=f.next();f.next(":visible").length>0&&(i=f.next())}else if(r==38){for(e=i;e.hasClass("advance-options")&&e.prev(":not(:visible)").length>0;)e=e.prev();e.prev(":visible").length>0&&(i=e.prev())}}else t.data.me.divOptions.find("ul").children("li").removeClass("current"),i=n(t.data.me.divOptions.find("ul").children("li:visible")[0]);if(i!==undefined&&i.length>0){i.addClass("current");n(this).val(i.text().trim());var l=t.data.me.divOptions.find("ul").children("li:first").outerHeight(),h=t.data.me.divOptions.height()-l,y=i.siblings(":visible").andSelf().index(i),o=0;for(c=1;c<i.index()+1;c++)o+=t.data.me.divOptions.find("ul").children("li:nth-child("+c+")").outerHeight();r==40?t.data.me.divOptions.scrollTop()+h<o&&(t.data.me.divOptions.scrollTop(o-h),t.data.me.divOptions.hasClass("mCustomScrollbar")&&t.data.me.divOptions.mCustomScrollbar("scrollTo",o-h)):t.data.me.divOptions.scrollTop()>o&&(t.data.me.divOptions.scrollTop(o),t.data.me.divOptions.hasClass("mCustomScrollbar")&&t.data.me.divOptions.mCustomScrollbar("scrollTo",o-h))}}else t.data.me.selectText.trigger("click");else r==35?(a=t.data.me.divOptions.children("ul").children("li").length,l=t.data.me.divOptions.children("ul").children("li:first").outerHeight(),t.data.me.divOptions.children("ul").scrollTop(a*l),u=t.data.me.divOptions.children("ul").children("li"),u.length>0&&(n(u).removeClass("current"),n(u[u.length-1]).addClass("current"))):r==36&&(t.data.me.divOptions.children("ul").scrollTop(0),u=t.data.me.divOptions.children("ul").children("li"),u.length>0&&(n(u).removeClass("current"),n(u[0]).addClass("current")));return!0}).on("keyup",function(t){var i=t.keyCode?t.keyCode:t.which;return i==13?(t.preventDefault(),t.stopPropagation()):i==9?n(this).val().length==0&&t.data._listValueItemClick(cur):i!=40&&i!=38&&n(this).data("before")!==n(this).val()&&(n(this).data("before",n(this).val()),n(this).trigger("change")),!0}).on("keypress",function(n){var r=n.keyCode?n.keyCode:n.which,t;return(r==13&&(n.preventDefault(),n.stopPropagation()),i.isnumberonly)?(t=n.which?n.which:event.keyCode,t>31&&(t<48||t>57))?!1:!0:!0}).on("blur",this,function(){}).on("paste input",function(){return n(this).data("before")!==n(this).val()&&(n(this).data("before",n(this).val()),n(this).trigger("change")),n(this)});return this.minValue=0,this.maxValue=0,this.me.txtMinValue!=null&&(this.me.txtMinValue.bind("keydown",this,function(n){e(this,n)}),this.me.txtMinValue.bind("keyup",this,function(n){o(this,n)}),this.me.txtMinValue.bind("focus",this,function(){n(this).attr("placeholder","")}),this.me.txtMinValue.bind("blur",this,function(){n(this).attr("placeholder","Từ")})),this.me.txtMaxValue!=null&&(this.me.txtMaxValue.bind("keydown",this,function(n){e(this,n)}),this.me.txtMaxValue.bind("keyup",this,function(n){o(this,n)}),this.me.txtMaxValue.bind("focus",this,function(){n(this).attr("placeholder","")}),this.me.txtMaxValue.bind("blur",this,function(){n(this).attr("placeholder","Đến")})),this.ShowOptions=function(){this.me.selectText.trigger("click")},this.CheckToClose=function(n){return n===undefined&&(n=this.me),n.CheckToClose()},this.UpdateTextValue=function(n){n===undefined&&(n=this.me);n.UpdateTextValue()},this.UpdateOptions=function(t,r){if(r!=undefined&&typeof r=="number"){for(var u=r+1;u<=this.me.maxLevel;u++)n("#"+i.hddValue[u-1]).val("");this.me.currLevel=r;this.me.Value=n("#"+i.hddValue[r-1]);this.me.divOptions.attr("currLevel",r)}r>1?(this.me.divOptions.find("ul").html(t),this.me.lstValue=this.me.divOptions.find("ul").children()):(this.me.divOptions.find("ul").html(t),this.me.lstValue=this.me.divOptions.find("ul").children());this.BindOptionEvent()},this.SetValue=function(n,t){t===undefined&&(t=this.me);t.SetValue(n)},this.GetValue=function(t){if(t===undefined)return this.me.Value.val();var i=this.me.divOptions.children("ul").children("[vl="+this.me.Value.val()+"]");if(i.length>0||(i=this.me.divOptions.children("ul").children(".current"),i.length>0))return n(i[0]).attr(t)},this.GetValueAtLevel=function(t){if(t>0&&t<=this.me.maxLevel)return n("#"+i.hddValue[t-1]).val()},this.GetCurrentLevel=function(){return this.me.currLevel},this.GetMaxValue=function(){return this.me.txtMaxValue!=null?this.me.txtMaxValue.val():""},this.GetMinValue=function(){return this.me.txtMinValue!=null?this.me.txtMinValue.val():""},this.CheckValue=function(n){return this.me.divOptions.children("ul").children("li[vl="+n+"]").length>0},this.GetOptions=function(){var t=[];return this.me.divOptions.children("ul").children("li").each(function(){t.push({value:n(this).attr("vl"),text:n(this).text()})}),t},this.GetText=function(){return this.me.options.id=="divAreaOptions"||this.me.options.id=="divPriceOptions"?this.me.displayText.html().replace(/<img[^>]*>/g,"-"):this.me.displayText.text()},this.ResetOption=function(n){this.SetValue(n);this.me.defaultText!=undefined&&this.me.defaultText.length>0?this.me.displayText.text(this.me.defaultText):this.me.displayText.text(this.me.divOptions.children("ul").children("[vl="+n+"]").text());this.me.divOptions.children("ul").children("li").removeClass("active").removeClass("current");this.me.divOptions.children("ul").children("[vl="+n+"]").addClass("current")},this.BindOptionEvent=function(){this.me.lstValue.bind("click",this,function(t){t.originalEvent&&t.originalEvent.isTrusted&&t.data._listValueItemClick(n(this))})},this._listValueItemClick=function(t){var r,o,s,e,u,f;if(this.me.divOptions.find("li").removeClass("active"),t.addClass("active"),r=t.attr("vl"),this.me.siblingId!=undefined&&(this.me.siblingId.find("li").removeClass("active"),this.me.siblingId.find("ul").children("[vl="+r+"]").addClass("active")),o=t.attr("opt")=="all",this.me.valueDefault==undefined&&(this.me.valueDefault=this.me.divOptions.find("li").first().attr("vl")),s=r!=this.me.valueDefault,this.me.Value.val(r),this.me.txtMinValue!=null&&this.me.txtMaxValue!=null&&(this.me.txtMinValue.val(""),this.me.txtMaxValue.val("")),s?(this.me.selectText.addClass("hasvalue"),this.me.selectText.parent().find(".custom-value").addClass("hasvalue")):(this.me.selectText.removeClass("hasvalue"),this.me.selectText.parent().find(".custom-value").removeClass("hasvalue")),e=i.id,e=="divAreaOptions"||e=="divPriceOptions"?(u=t.html(),r!="0"&&r!="-1"||r==="0"&&e==="divPriceOptions"||this.me.defaultText!=undefined&&this.me.defaultText.length>0&&(u=this.me.defaultText),this.me.displayText.html(u)):o?(u=this.me.selectText.children(".city-root").children("a").text(),this.me.displayText.text(u)):(u=t.text(),r=="0"||r=="-1"||r=="CN"?(this.me.defaultText!=undefined&&this.me.defaultText.length>0&&(u=this.me.defaultText),this.me.isFilter&&this.me.displayText.removeClass("hasvalue")):this.me.isFilter&&this.me.displayText.addClass("hasvalue"),this.me.displayText.text(u),this.me.isFilter&&(this.me.selectText.children("input.select-text-content").hide(),this.me.displayText.show()),this.me.siblingText!=undefined&&this.me.siblingText.text(u)),f=!0,this._ChangeFunc!=null&&(f=this._ChangeFunc(this._ChangeFuncScope)),o&&(f=!0),(f==undefined||f==!0)&&(n("body").unbind("click"),this.me.displayText.parent().parent().removeClass("active"),this.me.isFilter==!0?this.me.divOptions.hide():this.me.selectText.hide(),this.me.options.onClose!==undefined&&this.me.options.onClose!=null))this.me.options.onClose(3)},this._ChangeFunc=null,this._ChangeFuncScope=null,this.BindChangeEvent=function(n,t){this._ChangeFunc=t;this._ChangeFuncScope=n},this._GoNextEventFunc=null,this._GoNextEventScope=null,this.BindTabEvent=function(n,t){this._TabEventFunc=t;this._TabEventScope=n},this.BindOptionEvent(),this.me.txtMaxValue!=null&&this.me.txtMinValue!=null&&(this.me.txtMaxValue.val().length>0||this.me.txtMinValue.val().length>0)?this.UpdateTextValue():this.me.divOptions.children("ul").children(".current").length>0?(u=this.me.divOptions.children("ul").children(".current").attr("vl"),this.SetValue(u)):i.isallowfreevalue?(u=this.me.selectText.children().val(),this.SetValue(u)):(u=this.me.divOptions.children("ul").children(":first").attr("vl"),this.SetValue(u)),this};AdvanceHiddenDropbox.getValueById=function(){};n.fn.AdvanceHiddenDropbox=AdvanceHiddenDropbox;n.fn.AdvanceHiddenDropbox.getValueById=AdvanceHiddenDropbox.getValueById;n.CheckToCloseAllAdvanceHiddenDropbox=CheckToCloseAll}(jQuery);$(document).ready(function(){function t(){$("#product-detail-wap .h-sr-t .hidden-mobile, #product-detail-wap .seoInfo .hidden-mobile, .blockInfo .text-right .hidden-mobile").each(function(){var n=$(this),t=n.attr("raw");n.addClass("showPhone");n.html(t)})}function i(){$("#product-detail-wap #content .hidden-mobile").each(function(){var n=$(this),t=n.attr("raw");n.addClass("showPhone");n.html(t)})}function e(){var n=$("#product-detail-wap .btn-hotline .content .numberPhone"),t=n.attr("raw");n.addClass("showHotline");n.html(t)}function r(){$("#product-detail-web .tile-product .hidden-mobile, .note .hidden-mobile, .scroll-wrap .scroll-info .hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).addClass("showPhone");$(this).html(n)})}function u(){$("#product-detail-web .des-product .hidden-mobile, .box-round-grey3 .r2 .hidden-mobile").each(function(){$(this).addClass("showPhone hidden-phone");$(this).html($(this).attr("raw"))})}function f(){$(".phoneEvent").each(function(){var n=$(this).attr("raw");$(this).text(formatMobileToDisplay(n)+" · Sao chép");$(this).addClass("showHotline")})}var n;$("#product-detail-wap .btn-sms a, .product-detail-fix a.link_sms").click(function(){var i=navigator.userAgent.toLowerCase(),n=$(this).data("href"),t;/(iphone|ipod|ipad)/i.test(i)&&(t=parseFloat(String(window.navigator.userAgent.match(/[0-9]{1,3}_[0-9]/)).split("_")[0]+"."+String(window.navigator.userAgent.match(/[0-9]{1,3}_[0-9]/)).split("_")[1]),n=t>7?n.replace("/?body=","/&body="):n.replace("/?body=","/;body="));window.location.href=n});$("#list-product-area .div-list-product .item").each(function(){detectTelNumberNew($(this).find(".hh-sr"),!0,"m-on-title");$(this).find("a").attr("title",detectTelNumberNewFromHtml($(this).find("a").attr("title"),!0,"",!0))});$(".ul-list-product li").each(function(){var n=$(this).find(".p-title a");detectTelNumberNew(n,!0,"m-on-title");n.attr("title",detectTelNumberNewFromHtml(n.attr("title"),!0,"",!0))});$("#ul_for_u li").each(function(){var t,n;detectTelNumberNew($(this).find(".hh-sr"),!0,"m-on-title");t=$(this).find("a");t.attr("title",detectTelNumberNewFromHtml(t.attr("title"),!0,"",!0));n=$(this).find(".sp-contact");n.length>0&&(n.attr("mobile",n.text()),n.html('<i class="fa fa-phone"><\/i>'+reformatToHideMobileNumber(n.text())+" · Hiện số"))});$("#ul_for_u li .sp-contact").click(function(n){var t=$(this).attr("raw"),i;if($(this).hasClass("show")==!1){i=$(this).parent("div.line").parent("div.sr-info");i.siblings("h3.hh-sr").find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});i.siblings("h3.hh-sr").parent("div.padding").parent("a").attr("title",i.siblings("h3.hh-sr").text().replace(/(?:\r\n|\r|\n)/g," ").trim());$(this).addClass("show");n.preventDefault();$(this).closest(".padding").find(".hidden-mobile").each(function(){$(this).text(t)});$(this).html('<i class="fa fa-phone"><\/i>'+t);copyToClipboard(t);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",t)}catch(r){}}else{window.location.href="tel:"+t;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",t)}catch(r){}return!1}});$("#product-list-wap.s-list li, #s-list.s-list li").each(function(){var t,n;detectTelNumberNew($(this).find(".hh-sr"),!0,"m-on-title");t=$(this).find("a");t.attr("title",detectTelNumberNewFromHtml(t.attr("title"),!0,"",!0));n=$(this).find(".sp-contact");n.length>0&&(n.attr("mobile",n.text()),n.html('<i class="fa fa-phone"><\/i>'+formatMobileToDisplay(reformatToHideMobileNumber(n.text()))+" · Hiện số"))});$("#product-list-wap.s-list .sp-contact, #s-list.s-list .sp-contact").click(function(n){var t=$(this).attr("raw"),i;if($(this).hasClass("show")==!1){i=$(this).parent("div.line").parent("div.sr-info");i.siblings("h3.hh-sr").find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});i.siblings("h3.hh-sr").parent("div.padding").parent("a").attr("title",i.siblings("h3.hh-sr").text().replace(/(?:\r\n|\r|\n)/g," ").trim());$(this).addClass("show");n.preventDefault();$(this).closest(".padding").find(".hidden-mobile").each(function(){$(this).text(t)});$(this).html('<i class="fa fa-phone"><\/i>'+formatMobileToDisplay(t));copyToClipboard(t);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",t)}catch(r){}}else{window.location.href="tel:"+t;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",t)}catch(r){}return!1}});$("#product-detail-wap").length>0&&(current=$("#product-detail-wap"),detectTelNumberNew(current.find(".h-sr-t"),!0,"m-on-title"),detectTelNumberNew($("#content"),!1,"detail",!1,$("#vipOrder").val()>=5),detectTelNumberNew($(".seoInfo"),!1,"detail"),$(".blockInfo .text-right").each(function(){detectTelNumberNew($(this),!1,"detail",!1,$("#vipOrder").val()>=5)}),detectTelNumberNew($(".block-contact .col-right h3"),!1,"",!0),n=current.find(".numberPhone"),n.length>0&&(n.attr("mobile",n.text()),n.html(formatMobileToDisplay(reformatToHideMobileNumber(n.text()))+" · Hiện số")));$("#product-detail-wap .h-sr-t .hidden-mobile, #product-detail-wap .seoInfo .hidden-mobile, .blockInfo .text-right .hidden-mobile").click(function(){var n=$(this).attr("raw"),r=$(this);if(r.hasClass("showPhone")==!1){$(this).addClass("showPhone");r.html(n);t();i();e();copyToClipboard(n);showToolTip(r);try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(u){}}else{window.location.href="tel:"+n;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(u){}return!1}});$("#product-detail-wap #content .hidden-mobile").click(function(){var n=$(this).attr("raw"),r=$(this);if(r.hasClass("showPhone")==!1){$(this).addClass("showPhone");r.html(n);t();i();e();copyToClipboard(n);showToolTip(r);try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(u){}}else{window.location.href="tel:"+n;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(u){}return!1}});$("#product-detail-wap .btn-hotline").click(function(){$(this).children(".content").trigger("click")});$("#product-detail-wap .btn-hotline .content").click(function(){var r=$(this).children("span.numberPhone"),n=r.attr("raw");if($(this).hasClass("showHotline")==!1){$(this).addClass("showHotline");r.html(formatMobileToDisplay(n));t();i();copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(u){}}else{window.location.href="tel:"+n;try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(u){}return!1}});window.handleHiddenPhoneNumberInListProducts=function(n){var i=$(n).find(".product-link"),t;detectTelNumberNew(i,!0,"m-on-title");i.attr("title",detectTelNumberNewFromHtml(i.attr("title"),!0,"",!0));detectTelNumberNew($(n).find(".product-content"),!0,"des");t=$(n).find(".btn-blue-7");t.length>0&&t.text().indexOf("*")<0&&(t.attr("mobile",t.text()),t.html(formatMobileToDisplay(reformatToHideMobileNumber(t.text()))+" · Hiện số"))};$("#product-lists-web.product-lists .product-item, #broker-page.product-lists .product-item").each(function(){$(this).parent().attr("id")!=="list-marking"&&window.handleHiddenPhoneNumberInListProducts(this)});$("#product-lists-web.product-lists .btn-blue-7, #broker-page.product-lists .btn-blue-7").click(function(){var n=$(this).attr("raw"),i,t;if($(this).hasClass("show")==!1){i=$(this).parent("div.product-contact").parent("div.product-wrap");t=i.siblings("h3.product-title").children("a.product-link");t.find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});t.attr("title",t.text().replace(/(?:\r\n|\r|\n)/g," ").trim());i.siblings("div.product-content").find(".hidden-mobile").each(function(){var n=$(this).attr("raw");$(this).html(n)});$(this).text(formatMobileToDisplay(n)+" · Sao chép");$(this).addClass("show");try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(r){}}else{copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(r){}return!1}});$("#product-detail-web").length>0&&(current=$("#product-detail-web"),detectTelNumberNew(current.find(".tile-product"),!0,"m-on-title"),detectTelNumberNew($(".scroll-wrap .scroll-info"),!0,"m-on-title"),detectTelNumberNew(current.find(".des-product"),!1,"des",!1,$("#vipOrder").val()>=5),detectTelNumberNew($(".note"),!0,"des"),$(".box-round-grey3 .r2").each(function(){detectTelNumberNew($(this),!1,"des",!1,$("#vipOrder").val()>=5)}),detectTelNumberNew($(".product-detail-scroll .name"),!1,"",!0),detectTelNumberNew($(".main-right .box-contact .name"),!1,"",!0),detectTelNumberNew($(".tablet-box-contact .name"),!1,"",!0),n=$(".phoneEvent"),n.each(function(){$(this).attr("moblie",n.text());$(this).html(formatMobileToDisplay(reformatToHideMobileNumber($(this).text()))+"&nbsp;·&nbsp;Hiện số")}));$("#product-detail-web .tile-product .hidden-mobile, .note .hidden-mobile, .scroll-wrap .scroll-info .hidden-mobile").click(function(){var n=$(this).attr("raw"),t=$(this);if(t.hasClass("showPhone")==!1){r();u();f();try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(i){}}else{copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(i){}return!1}});$("#product-detail-web .des-product .hidden-mobile, .box-round-grey3 .r2 .hidden-mobile").click(function(){var n=$(this).attr("raw"),t=$(this);if(t.hasClass("showPhone")==!1){r();u();f();try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(i){}}else{copyToClipboard(n);showToolTip($(this));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(i){}return!1}});$(".phoneEvent").click(function(){var n=$(this).attr("raw");if($(this).hasClass("showHotline")==!1){r();u();f();try{ga("send","event","Xem số điện thoại","click","Xem chi tiết số điện thoại",n)}catch(t){}}else{copyToClipboard(n);showToolTip($(".phoneEvent"));try{ga("send","event","Copy điện thoại","click","Copy số điện thoại",n)}catch(t){}return!1}});$(".box-contact .phone, .product-detail-fix .phone").click(function(){$(this).children(".phoneEvent").trigger("click")});$(".home-product.product-4-you li").each(function(){detectTelNumberNew($(this).find(".textTitle a"),!0,"m-on-title");$(this).find(".textTitle a").attr("title",detectTelNumberNewFromHtml($(this).find("a").attr("title"),!0,"",!0))});$("#product-detail").length>0&&(detectTelNumberNew($(".h-sr-t"),!1,"detail"),detectTelNumberNew($(".pm-desc"),!1,"detail"),detectTelNumberNew($(".pm-bottom div"),!0,"detail"),$("#product-other-detail").find(".right").each(function(){detectTelNumberNew($(this),!0,"detail")}),$("#divCustomerInfo").find(".right").each(function(){$(this).hasClass("contact-phone")==!1&&$(this).hasClass("contact-email")==!1&&detectTelNumberNew($(this),!0,"detail")}),$(".contact-phone").each(function(){var n=$(this).text();$(this).html('<span class="hidden-phone hidden-mobile detail border-phone">'+n+"<\/span>")}));$(".product-list,.product-lists").find(".p-main-text").each(function(){detectTelNumberNew($(this),!0,"")});$(".product-list,.product-lists").find(".p-title").find("a").each(function(){$(this).attr("title",detectTelNumberNewFromHtml($(this).attr("title"),!0,"",!0));detectTelNumberNew($(this),!0,"")});$(".product-list,.product-lists").find(".p-title").find("a").each(function(){$(this).attr("title",detectTelNumberNewFromHtml($(this).attr("title"),!0,"",!0));detectTelNumberNew($(this),!0,"")});$(".product-list,.product-lists").find(".contact").find("strong").each(function(){$(this).hasClass("mobile")?($(this).removeClass("mobile"),$(this).addClass("hidden-phone hidden-mobile border-phone")):detectTelNumberNew($(this),!0)});window.hiddenMobilePhoneInTitle=function(){$(".hidden-mobile").each(function(){$(this).parent().css("overflow","visible");var n=$(this).text();n.indexOf("*")<0&&($(this).attr("raw",n),$(this).text(reformatToHideMobileNumber(n)))})};window.hiddenMobilePhoneInTitle()});var lstHeaderFone=[20,210,211,218,219,22,230,231,240,241,25,26,27,280,281,29,30,31,320,321,33,350,351,36,37,38,39,4,500,501,510,511,52,53,54,55,56,57,58,59,60,61,62,63,64,65,650,651,66,67,68,69,70,710,711,72,73,74,75,76,77,780,781,79,80,82,83,84,85,87,862,863,866,868,871,873],lstHeaderPhone=[24,28,212,213,214,215,216,219,203,204,205,206,207,208,209,211,210,218,220,221,222,225,226,227,228,229,232,233,234,235,236,237,238,239,252,255,256,257,258,259,260,261,262,263,269,251,254,270,271,272,273,274,275,276,277,290,291,292,293,294,296,297,299],lstHeaderMobile10=[99,92,90,93,89,91,94,88,96,97,98,86,52,81,82,83,84,85,87,32,33,34,35,36,37,38,39,70,76,77,78,79,56,58,59],lstHeaderMobile11=[199,188,186,120,121,122,126,128,123,124,125,127,129,162,163,164,165,166,167,168,169];window.FrontEnd||(window.FrontEnd={});FrontEnd.BoxSearch=function(n){var t=new CommonJS.Common,i=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";this.GetData=function(){function f(n,t){return Math.round(n.getTime()-t.getTime())/6e4}var u,r;return localStorage&&(u=localStorage.getItem(n.boxSearchDataCacheKey),u&&(r=JSON.parse(u),r&&r.lastAsync&&f(new Date,new Date(r.lastAsync))<=n.boxSearchDataCacheTime))?new Promise(function(n){return n(r)}):t.AjaxWrapperWithPromise({method:"GET",url:`${i}${n.getDataForBoxSearchUrl}`}).then(function(t){return t.lastAsync=new Date,localStorage?(localStorage.setItem(n.boxSearchDataCacheKey,JSON.stringify(t)),t):void 0})}};window.FrontEnd||(window.FrontEnd={});FrontEnd.SearchingHistoriesServices=function(n){function h(){var n=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(n)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(n)?"mobile":"desktop"}function e(){var n=new Date;return n.toUTCString()}function r(n){if(localStorage){var i=JSON.stringify(n);localStorage.setItem(t,i)}}function o(){var i=[],n;return localStorage&&(n=localStorage.getItem(t),n&&(i=JSON.parse(n))),i}function c(i){if(localStorage){var f=localStorage.getItem(t),u;for(u=f?JSON.parse(f):[],u=u.filter(function(n){return JSON.stringify(n.searchingInfos)!==JSON.stringify(i)}),u.push({searchingInfos:i,platform:h(),saveTime:e()});u.length>(n.maxLength||20);)u.shift();r(u)}}function s(n){if(localStorage){var u=localStorage.getItem(t),i;i=u?JSON.parse(u):[];i=i.filter(function(t,i){return i!=n});r(i)}}function l(){var n;if(localStorage&&(n=localStorage.getItem(i),n))return new Date(n)}function a(){localStorage&&localStorage.setItem(i,e())}function v(n,t){return Math.round(n.getTime()-t.getTime())/6e4}var t="SEARCHING_HISTORIES",i="SEARCHING_HISTORIES_SYNC_TIME",u=new CommonJS.Common,f=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";this.GetSearchingHistories=function(){return new Promise(function(n){n(o())})};this.SyncSearchingHistories=function(t){var i=l(),e;(i==null||i!=null&&v(new Date,i)>=n.syncTimeSearchingHistories)&&(e=o(),t.userid&&u.AjaxWrapperWithPromise({type:"POST",url:`${f}${n.syncSearchingHistoriesUrl}?userId=${t.userid}`,data:{searchingHistories:e}}).then(function(n){r(n)}),a())};this.AddSearchingHistory=function(n){return new Promise(function(t){c(n);t()})};this.RemoveSearchingHistory=function(t,i){return getCookie("userinfo")&&i?u.AjaxWrapperWithPromise({type:"POST",url:`${f}${n.removeSearchingHistoryUrl}?id=${i}`}).then(function(n){return n&&s(t),n}):new Promise(function(n){s(t);n(!0)})};this.RemoveAllSearchingHistoiesInLocal=function(){localStorage&&(localStorage.removeItem(t),localStorage.removeItem(i))}};window.FrontEnd||(window.FrontEnd={});FrontEnd.YourLocationServices=function(){function r(i,r){return new Promise(function(u,f){$.post(n,{type:"getward2",lat:i,lon:r},function(n){n?u({cityCode:n.CityCode,districtId:n.DistrictId,wardId:n.WardId,streetId:0,projectId:0}):t().then(u).catch(f(ex))})})}function t(){return new Promise(function(n,t){try{$.ajax({url:"https://api.ipify.org?format=jsonp&callback=?",dataType:"jsonp"}).done(function(r){i(r.ip).then(n,t)}).fail(function(){i("").then(n,t)})}catch(r){t(r)}})}function i(t){return new Promise(function(i,r){try{$.post(n,{type:"getward3",ip:t},function(n){i({cityCode:n.CityCode})})}catch(u){r(u)}})}var n="https://apimap.batdongsan.com.vn/api/map_sync";this.GetYourLocation=function(){return new Promise(function(n,i){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){return r(t.coords.latitude,t.coords.longitude).then(n).catch(function(n){n&&console.log(n)})},function(){i()},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):t().then(n).catch(function(n){n&&console.log(n)})})}};window.FrontEnd||(window.FrontEnd={});FrontEnd.MarkingProductsServices=function(){function r(n,t,i){var r=[{prop:t?"priceSort":"areaSort",direction:-1},{prop:"dateSort",direction:1}];return n.sort(function(n,t){for(var u=0,o=0,s=i?Number.MIN_VALUE:Number.MAX_VALUE,f=0,e=0;u<r.length&&o===0;)o=0,f=0,e=0,u==0?(f=n[r[u].prop]>0?n[r[u].prop]:s,e=t[r[u].prop]>0?t[r[u].prop]:s,o+=i?r[u].direction*(f<e?-1:f>e?1:0):r[u].direction*(f>e?-1:f<e?1:0)):u==1&&(o+=r[u].direction*(new Date(n[r[u].prop])>new Date(t[r[u].prop])?-1:new Date(n[r[u].prop])<new Date(t[r[u].prop])?1:0)),u++;return o})}function o(n,t){return Math.round(n.getTime()-t.getTime())/36e5}function n(){if(localStorage&&(listProductSaveAsString=localStorage.getItem(t),listProductSaveAsString)){var n=JSON.parse(listProductSaveAsString);return n||[]}return[]}function s(){var r,s;return localStorage?(r=localStorage.getItem(u),r&&o(new Date,new Date(r))<i.markedProductsSyncTime?new Promise(function(t){t(n())}):(s=n().map((n,t)=>`productIds[${t}]=${n.productId}`).join("&"),f.AjaxWrapperWithPromise({method:"GET",url:`${e}${i.getMarkedProductsByIdsUrl}?${s}`}).then(function(i){var r=n();return i.forEach(n=>{var t=r.filter(t=>t.productId===n.productId);t.length&&(n.oId=t[0].oId,n.url||(n.url=t[0].url),n.saveTime||(n.saveTime=t[0].saveTime))}),i.sort((n,t)=>new Date(t.saveTime).getTime()-new Date(n.saveTime).getTime()),localStorage.setItem(u,new Date),localStorage.setItem(t,JSON.stringify(i)),i}))):new Promise(function(n){n([])})}var t="MARKED_PRODUCTS",u="MARKED_PRODUCTS_SYNC_TIME",i=JSON.parse($("script[marking-product-service-params]").attr("marking-product-service-params")),f=new CommonJS.Common,e=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"";this.MarkOrUnmarkProduct=function(r){return new Promise(function(u){var o=n(),s=o.filter(n=>n.productId===r.productId);s.length>0?(o=o.filter(n=>n.productId!==r.productId),getCookie("userinfo")&&s[0].oId?f.AjaxWrapperWithPromise({type:"POST",url:`${e}${i.unmarkProductUrl}?oId=${s[0].oId}`}).then(function(i){i?(localStorage&&o&&localStorage.setItem(t,JSON.stringify(o)),u({marked:!1,markedProductsCount:o.length})):u({marked:!0,markedProductsCount:n().length})}):(localStorage&&o&&localStorage.setItem(t,JSON.stringify(o)),u({marked:!1,markedProductsCount:o.length}))):(o.length>i.listingLimit-1&&o.pop(),r.saveTime=(new Date).toUTCString(),o.unshift(r),localStorage&&o&&(o.sort((n,t)=>new Date(t.saveTime).getTime()-new Date(n.saveTime).getTime()),localStorage.setItem(t,JSON.stringify(o))),u({marked:!0,markedProductsCount:o.length}))})};this.GetMarkedProductsFromLocal=function(){return new Promise(function(t){t(n())})};this.GetMarkedProducts=function(n){return s().then(function(t){return t.length&&n&&(n==5?t=r(t,!1,!0):n==4?t=r(t,!1,!1):n==3?t=r(t,!0,!0):n==2?t=r(t,!0,!1):n==1&&(t=t.sort((n,t)=>{let i=new Date(n.dateSort),r=new Date(t.dateSort);return r-i}))),t})}};SearchingHistoriesServices=FrontEnd.SearchingHistoriesServices;YourLocationServices=FrontEnd.YourLocationServices,function(n){(function t(n){if(window.jQuery&&window.AdvanceHiddenDropbox&&$.fn.slider){var i=!!document.documentMode;n.BoxProductSearchBinnova=function(n){function it(n){var t="";ht(n);t+=n===38?`<ul>
                                    <li vl="0"><span class="active current">Tất cả nhà đất</span></li>
                                    <li vl="324"><span>Căn hộ chung cư</span></li>
                                    <li vl="362"><span>Các loại nhà bán</span>
                                        <ul>
                                            <li vl="41"><span>Nhà riêng</span></li>
                                            <li vl="325"><span>Nhà biệt thự, liền kề</span></li>
                                            <li vl="163"><span>Nhà mặt phố</span></li>
                                        </ul>
                                    </li>
                                    <li vl="361"><span>Các loại đất bán</span>
                                        <ul>
                                            <li vl="40"><span>Đất nền dự án</span></li>
                                            <li vl="283"><span>Bán đất</span></li>
                                        </ul>
                                    </li>
                                    <li vl="44"><span>Trang trại, khu nghỉ dưỡng</span></li>
                                    <li vl="45"><span>Kho, nhà xưởng</span></li>
                                    <li vl="48"><span>Bất động sản khác</span></li>
                                </ul>`:`<ul>
                                    <li vl="0"><span class="active current">Tất cả nhà đất</span></li>
                                    <li vl="326"><span>Căn hộ chung cư</span></li>
                                    <li vl="52"><span>Nhà riêng</span></li>
                                    <li vl="51"><span>Nhà mặt phố</span></li>
                                    <li vl="57"><span>Nhà trọ, phòng trọ</span></li>
                                    <li vl="50"><span>Văn phòng</span></li>
                                    <li vl="55"><span>Cửa hàng, ki ốt</span></li>
                                    <li vl="53"><span>Kho, nhà xưởng, đất</span></li>
                                    <li vl="59"><span>Bất động sản khác</span></li>
                                </ul>`;$("#divCate").html(t);$(".select-cate").find(".custom-value").text("Tất cả");$(".select-cate").find(".custom-value").removeClass("hasvalue");$("#hdCboCatagory").val(0);$(".price-control").find(".custom-value").text("Tất cả");o.SetValueExtension(-1);$(".custom-dropbox-cate").find("li").click(function(n){$(".select-cate").find(".custom-dropbox-cate").hide();$(".custom-dropbox-cate").find("li").find("span").removeClass("active current");$(this).children("span").addClass("active current");var t=parseInt($(this).attr("vl"));t>0?($(".select-cate").find(".custom-value").text($(this).children("span").text()),$(".select-cate").find(".custom-value").addClass("hasvalue"),$(".select-cate").removeClass("active")):($(".select-cate").find(".custom-value").text("Tất cả"),$(".select-cate").removeClass("active"),$(".select-cate").find(".custom-value").removeClass("hasvalue"));n.preventDefault();n.stopPropagation();$("#hdCboCatagory").val(t)});w.val(n)}function ht(t){var i=[],r;t===38?(i=n.prices[0],$("#price-slider-range").slider({range:!0,orientation:"horizontal",min:0,max:3e4,values:[0,3e4],step:100,slide:function(n,t){if(t.values[0]===t.values[1])return!1;$("#txtPriceMinValue").val(t.values[0]);$("#txtPriceMaxValue").val(t.values[1]);$("#txtPriceMinValue").trigger("keyup");$("#txtPriceMaxValue").trigger("keyup")}})):t===49&&(i=n.prices[1],$("#price-slider-range").slider({range:!0,orientation:"horizontal",min:0,max:100,values:[0,100],step:.5,slide:function(n,t){if(t.values[0]===t.values[1])return!1;$("#txtPriceMinValue").val(t.values[0]);$("#txtPriceMaxValue").val(t.values[1]);$("#txtPriceMinValue").trigger("keyup");$("#txtPriceMaxValue").trigger("keyup")}}));r=`<li vl="-1" class="advance-options">Tất cả</li>`;r+=i.map(n=>`<li vl="${n.value}" class="advance-options">${n.name.replace(` - `,`<span class="arrow-icon"></span>`)}</li>`).join("");o.UpdateOptions(r);o.SetValueExtension(-1)}function ft(){return $(this).find("li").removeClass("current"),s(),!1}function s(){var n=0;u.GetValue()>0?n+=1:$("#divBedRoomOptions ul").children("[vl=-1]").removeClass("active");r.GetValue()>0&&(n+=1);i.GetValue()>0&&(n+=1);c.GetValue()>0&&(n+=1);f.GetValue()>0?n+=1:$("#divMediaOptions ul").children("[vl=0]").removeClass("active");n>0?($(".filter-info .icon-number").text(n),$(".filter-info .icon-number").css("display","inline-block"),$(".filter-info .icon-filter").hide()):($(".filter-info .icon-number").text(""),$(".filter-info .icon-number").hide(),$(".filter-info .icon-filter").show())}function et(){$(".advance-select-options").hide();$(".select-control").removeClass("active");$(".select-text-content.icon-arrow-up").hide();$(".select-filter-dropbox").hide();$("#hdbFilter").val("0")}function ct(){var t=$("header").outerHeight()+$(".search-bar").outerHeight(),f=$(".select-filter-dropbox").outerHeight(),i=8,e=t+f+i,r=$(window).height(),u,n;e>r?(u=32,n=r-(t+i+u),$(".custom-scroll-outside").css("max-height",n-56+"px"),$(".select-filter-dropbox").css("height",n+"px")):($(".custom-scroll-outside").css("max-height","460px"),$(".select-filter-dropbox").css("height","516px"))}var w=$("#type"),t=$("#divCity").AdvanceHiddenDropbox({id:"divCityOptions",hddValue:["hdCboCity","hdCboDistrict"],defaultText:"Toàn quốc"}),r=$("#divWard").AdvanceHiddenDropbox({id:"divWardOptions",hddValue:"hdCboWard",isFilter:!0}),i=$("#divStreet").AdvanceHiddenDropbox({id:"divStreetOptions",hddValue:"hdCboStreet",isFilter:!0}),u=$("#divBedRoom").AdvanceHiddenDropbox({id:"divBedRoomOptions",hddValue:"hdCboBedRoom"}),f=$("#divMedia").AdvanceHiddenDropbox({id:"divMediaOptions",hddValue:"hdCboMedia"}),c=$("#divHomeDirection").AdvanceHiddenDropbox({id:"divHomeDirectionOptions",hddValue:"hdCboHomeDirection",isFilter:!0}),e=$("#divProjects").AdvanceHiddenDropbox({id:"divProjectsOptions",hddValue:"hdCboProjects",defaultText:"Tất cả"}),o=$("#divPrice").AdvanceHiddenDropbox({id:"divPriceOptions",minValue:"txtPriceMinValue",maxValue:"txtPriceMaxValue",unit:"money",lblMin:"lblPriceMin",lblMax:"lblPriceMax",hddValue:"hdCboPrice",defaultText:"Tất cả"}),h=$("#divArea").AdvanceHiddenDropbox({id:"divAreaOptions",minValue:"txtAreaMinValue",maxValue:"txtAreaMaxValue",unit:"area",hddValue:"hdCboArea",defaultText:"Tất cả"}),rt="Toàn quốc",d="CN",g="Tất cả",v=0,b="Tất cả phường, xã",l=0,nt="Tất cả đường, phố",y=0,tt=new SearchingHistoriesServices({maxLength:n.maxSearchingHistoriesLength,syncTimeSearchingHistories:n.syncTimeSearchingHistories,syncSearchingHistoriesUrl:n.syncSearchingHistoriesUrl,removeSearchingHistoryUrl:n.removeSearchingHistoryUrl}),p="SEARCHING_HISTORY",a,ot=new YourLocationServices,k="YOUR_LOCATION",ut="Tìm bất động sản gần bạn",st=function(){function a(){var f,w,u,vt,ct;if(ot(),t){if(t.GetCurrentLevel()===1){p();var st=t.GetValue()+"",yt=t.GetText()+"",at=`<li vl="0" opt="all" class="advance-options active level">Tất cả quận, huyện</li>`,ut=`<li vl="${v}" class="advance-options">${g}</li>`,et=`<li vl="${y}" class="advance-options">${nt}</li>`,lt=`<li vl="${l}" class="advance-options">${b}</li>`,o=[],c=[],it=[],h=[];for(f=0;f<n.cities.length;f++)if(n.cities[f].code===st){for(o=n.cities[f].districts,w=0;w<o.length;w++)o[w].order=o[w].id,st==="HN"&&(o[w].id===718?o[w].order=15:o[w].id>15&&(o[w].order=o[w].id+1));o=o.sort(function(n,t){return n.order>t.order?1:-1});break}for(f=0;f<o.length;f++){for(at+=`<li vl="${o[f].id}" class="advance-options level">${o[f].name}</li>`,it=o[f].projects,u=0;u<it.length;u++)c.push(it[u]);for(h=o[f].streets,h=h.sort(k),u=0;u<h.length;u++)et+=`<li vl="${h[u].id}" class="advance-options">${h[u].name}</li>`}for(c.sort(ft("name")),u=0;u<c.length;u++)ut+=`<li vl="${c[u].id}" class="advance-options">${c[u].name}</li>`;return(e.UpdateOptions(ut),e.SetValueExtension(v),i.UpdateOptions(et),i.SetValueExtension(y),r.UpdateOptions(lt),r.SetValueExtension(l),s(),st!=="CN")?(t.UpdateOptions(at,2),$("#divCityOptions").mCustomScrollbar("scrollTo","top"),t.children("#select-context-content").attr("placeholder","Tìm Quận/ Huyện").val(""),$(".city-root").html(`<a href='javascript:void(0)' vl="0" city="${st}" class="advance-options level">${yt}</li>`),$(".city-root").show(),$(".city-root a").click(function(){t.SetValueExtension(0);a()}),!1):(ht(),!0)}if(vt=+t.GetValue(),vt===0){for(p(),city=$(".city-root a").attr("city"),$(".city-root").hide(),t.children("#select-context-content").attr("placeholder","Tìm Tỉnh/ Thành phố").val(""),ct=`<li vl="${d}" class="advance-options">${rt}</li>`,o=[],c=[],it=[],h=[],f=0;f<n.cities.length;f++)n.cities[f].code===city?(o=n.cities[f].districts.sort(function(n,t){return n.order>t.order?1:-1}),ct+=`<li vl="${n.cities[f].code}" class="advance-options adv-arrow active current">${n.cities[f].name}</li>`):ct+=`<li vl="${n.cities[f].code}" class="advance-options adv-arrow">${n.cities[f].name}</li>`;for(t.UpdateOptions(ct,1),t.SetValueExtension(city),ut=`<li vl="${v}" class="advance-options">${g}</li>`,et=`<li vl="${y}" class="advance-options">${nt}</li>`,lt=`<li vl="${l}" class="advance-options">${b}</li>`,f=0;f<o.length;f++){for(it=o[f].projects,u=0;u<it.length;u++)c.push(it[u]);for(h=o[f].streets,h=h.sort(k),u=0;u<h.length;u++)et+=`<li vl="${h[u].id}" class="advance-options">${h[u].name}</li>`}for(c.sort(ft("name")),u=0;u<c.length;u++)ut+=`<li vl="${c[u].id}" class="advance-options">${c[u].name}</li>`;return e.UpdateOptions(ut),e.SetValueExtension(v),i.UpdateOptions(et),i.SetValueExtension(y),r.UpdateOptions(lt),r.SetValueExtension(l),s(),!1}return tt()}return!0}function tt(){var it,a,f,u,w,d,tt;if(t){for(it=t.GetValueAtLevel(1),a=+t.GetValueAtLevel(2),p(),a>0&&st(),f=0;f<n.cities.length;f++)if(n.cities[f].code===it)for(u=0;u<n.cities[f].districts.length;u++)if(n.cities[f].districts[u].id===a){var c=n.cities[f].districts[u].projects,o=n.cities[f].districts[u].wards,h=n.cities[f].districts[u].streets;break}if(c){for(w=`<li vl="${v}" class="advance-options">${g}</li>`,u=0;u<c.length;u++)w+=`<li vl="${c[u].id}" class="advance-options">${c[u].name}</li>`;e.UpdateOptions(w);e.SetValueExtension(0)}if(o){for(h=h.sort(k),d=`<li vl="${y}" class="advance-options">${nt}</li>`,u=0;u<h.length;u++)d+=`<li vl="${h[u].id}" class="advance-options">${h[u].name}</li>`;i.UpdateOptions(d);i.SetValueExtension(0)}if(h){for(o=o.sort(lt),tt=`<li vl="${l}" class="advance-options">${b}</li>`,u=0;u<o.length;u++)tt+=`<li vl="${o[u].id}" class="advance-options">${o[u].name}</li>`;r.UpdateOptions(tt);r.SetValueExtension(l,b)}s()}return!0}function ot(){$("#divWard").attr("role","tooltip");$("#divStreet").attr("role","tooltip");$(".project-control").attr("role","tooltip")}function st(){$("#divWard").attr("role","");$("#divStreet").attr("role","");$(".project-control").attr("role","")}function ht(){$("#divStreet").attr("role","tooltip");$(".project-control").attr("role","tooltip")}function p(){$("#divStreet").attr("role","");$(".project-control").attr("role","")}function it(){s()}function w(){s()}function ut(){$(".project-control").is(":visible")||s()}function ct(n,l){var v=et();return(t.UpdateOptions(v,1),t.SetValueExtension(d),u.SetValueExtension(-1),c.SetValueExtension(-1),o.SetValueExtension(-1),h.SetValueExtension(-1),f.SetValueExtension(0),!n)?(a(),new Promise(function(n){n()})):(n.cityCode&&(t.SetValueExtension(n.cityCode),a()),n.districtId&&(t.SetValueExtension(n.districtId),tt()),n.wardId&&(r.SetValueExtension(n.wardId),it()),n.streetId&&(i.SetValueExtension(n.streetId),w()),n.projectId&&(e.SetValueExtension(n.projectId),ut()),s(),l&&showFillterSearch(),new Promise(function(n){n()}))}function k(n,t){return n.id>t.id?1:-1}function lt(n,t){return n.name>t.name?1:-1}function ft(n){var t=1;return n[0]==="-"&&(t=-1,n=n.substr(1)),function(i,r){var u=i[n]<r[n]?-1:i[n]>r[n]?1:0;return u*t}}function et(){var t=`<li vl="${d}" class="advance-options adv-arrow">${rt}</li>`;return n.cities&&n.cities.length&&(t+=n.cities.map(n=>`<li vl="${n.code}" class="advance-options adv-arrow">${n.name}</li>`).join("")),t}return function(){if(t){var n=et();t.UpdateOptions(n);t.BindChangeEvent(t,a)}r&&r.BindChangeEvent(r,it);i&&i.BindChangeEvent(i,w);i&&i.BindChangeEvent(i,w);e&&e.BindChangeEvent(e,ut)}(),{ChangeLocation:ct}};(function(){$("#divWardOptions").mCustomScrollbar();$("#divStreetOptions").mCustomScrollbar();$("#divProjectsExtOptions").mCustomScrollbar(),function(){function n(n){if(n<=0)return"0 đồng";n=Math.round(n*10)/10;var i="",t=0;return n>=1e9&&(t=Math.floor(n/1e9),i+=t+" tỷ ",n=n-t*1e9),n>=1e6&&(t=Math.floor(n/1e6),i+=t+" triệu ",n=n-t*1e6),n>=1e3&&(t=Math.floor(n/1e3),i+=t+" nghìn ",n=n-t*1e3),n=Math.floor(n),n>0&&(i+=n+" đồng"),i.trim()}window.GetMoneyText2=function(t){t=Math.round(t*10)/10;var i=0;return t>=1e9?(i=t/1e9,i+" tỷ "):t>=1e6?(i=t/1e6,i+" triệu "):n(t)}}(),function(){$.fn.SetValueExtension=function(n){var t,i,r;this.SetValue(n);$(this).find("ul").length>0?(t=$(this).find(`li.advance-options[vl="${n}"]`).html(),t&&($(this).find(`li.advance-options[vl]`).removeClass("active"),$(this).find(`li.advance-options[vl="${n}"]`).addClass("active"),this.me.displayText.html(t),this.me&&this.me.displayText&&this.me.displayText.html()&&this.me.displayText.html().indexOf("Tất cả")<0&&this.me.displayText.html().indexOf("Toàn quốc")<0?this.me.displayText.addClass("hasvalue"):this.me.displayText.removeClass("hasvalue"),this.me.isFly&&this.me.alterControl&&this.me.alterControl.children().find("span").text(t))):(i=$(this).attr("id"),r=$(`[ddlid="${i}"]`).find(`li[vl="${n}"]`).html(),r&&($(`[ddlid="${i}"]`).find(`li.advance-options[vl]`).removeClass("active"),$(`[ddlid="${i}"]`).find(`li.advance-options[vl="${n}"]`).addClass("active"),$(this).find(".filter-label span").html(r)))}}();$(".custom-scroll").mCustomScrollbar();$(".custom-scroll-outside").mCustomScrollbar({scrollbarPosition:"outside"});it(+$(".search-bar-tab li.actived").attr("ptype"));$(".search-bar-tab li").click(function(){$(".search-bar-tab li").removeClass("actived");$(this).addClass("actived");var n=+$(this).attr("ptype");it(n)});$("#divCategoryRe").click(function(){});$(".select-cate .select-control-label").click(function(){$(".select-control").removeClass("active");$(".select-cate .advance-select-options").is(":visible")?($(".select-cate").removeClass("active"),$(this).parent().children(".custom-dropbox-cate").hide(),$(".advance-select-options").hide()):($(".advance-select-options").hide(),$(".select-cate").addClass("active"),$(this).parent().children(".custom-dropbox-cate").show())});$(".filter-label").click(function(){$(this).children(".filter-text").hide();$(this).parent().children(".select-text-content").show();$(this).parent().children(".select-text-content").trigger("click");$(this).parent().children(".select-text-content").trigger("focus")});$(".select-control-label").click(function(){$(this).parent().hasClass("filter-control")||$("#hdbFilter").val("0")});$(".filter-control .select-control-label").click(function(){var n=$("#hdbFilter").val();n=="0"?($(".select-filter-dropbox").show(),$("#hdbFilter").val("1"),$("#divBedRoomOptions ul").children("[vl=-1]").removeClass("current"),$("#divMediaOptions ul").children("[vl=0]").removeClass("current")):($(".select-filter-dropbox").hide(),$(".fly-options").hide(),$("#hdbFilter").val("0"))});$(".select-filter-dropbox").mousedown(function(n){$(n.target).hasClass("filter-label")||($(".fly-options").hide(),$(".select-text-content.icon-arrow-up").hide(),$(".custom-dropbox-filter").hide())});$(document).mousedown(function(n){$(n.target).hasClass("advance-select-options")||$(n.target).parents(".advance-select-options").length>0||$(n.target).hasClass("dropbox-label")||$(n.target).hasClass("custom-value")||$(n.target).hasClass("select-control-label")||$(n.target).hasClass("icon-filter")||$(n.target).hasClass("icon-number")||et()});a=new st,function(){$.ui.autocomplete.prototype._renderMenu=function(n,t){var i=this,r=[],u=[],f=[],e;$.each(t,function(t,e){if(e.type==k){n.css("width",$("#search-suggestion").outerWidth());i._renderItem(n,e);return}e.type==p||(n.css("width","inherit"),e.id?e.id.projid?r.push(e):u.push(e):f.push(e))});f.length>0&&$.each(f,function(t,r){i._renderItem(n,r)});e=t.filter(function(n){return n.type===p});e.length>0&&(n.append("<li class='ui-autocomplete-category'>Tìm kiếm gần đây<\/li>"),e.forEach(function(t){i._renderItem(n,t)}));u.length>0&&(n.append("<li class='ui-autocomplete-category'>Khu vực<\/li>"),$.each(u,function(t,r){i._renderItem(n,r)}));r.length>0&&(n.append("<li class='ui-autocomplete-category'>Dự án<\/li>"),$.each(r,function(t,r){i._renderItem(n,r)}))};$.ui.autocomplete.prototype._renderItem=function(n,t){var o,f,r,e,u;if(t.type==k)return $("<li><\/li>").data("item.autocomplete",t).append(`<a class="location ga-search-geography">${t.label}</a>`).appendTo(n);if(t.type===p)return o=$("#staticDomain").data("cssserver"),$(`<li class="searching-history"></li>`).data("item.autocomplete",t).append(`<a class="history ga-search-history" title='${t.label}'>${t.label}</a>
                                            <span class="remove-searching-history" index="${t.index}">
                                                <img class="remove-searching-history ga-search-remove-history" index="${t.index}" o-id="${t.oId||""}" src="${o}/images/icons/16x16/grey/ic_close.png" />
                                            </span>`).appendTo(n);var s=this.term.split(" "),h=t.label.split(" "),i="",c=new RegExp("(~|!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|_|\\+|\\{|\\}|\\||\"|:|\\?|>|<|,|\\.|\\/|;|'|\\|[|]|=|-)","gi");for(f=0;f<h.length;f++){for(i.length>0&&(i+=" "),r=h[f],e=0;e<s.length;e++)if(UnicodeToKoDau(s[e].replace(c,"")).toLowerCase()===UnicodeToKoDau(r.replace(c,"")).toLowerCase()){r="<b>"+r+"<\/b>";break}i+=r}return t.id&&t.id.city&&t.id.city!="CN"?(u=function(){return t.id.projid?`project ga-search-project`:`location ga-search-location`},+w.val()==38?t.id.ts>0?$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n):$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n):t.id.tr>0?$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n):$("<li><\/li>").data("item.autocomplete",t).append(`<a class="${u()}">${i}</a>`).appendTo(n)):$("<li><\/li>").data("item.autocomplete",t).append(`<a class="keyword">Tìm theo từ khóa: ${i}</a>`).appendTo(n)};$("#search-suggestion").autocomplete({source:function(n,t){var u,f,i,e,r,o,s;if(n.term){if(f=UnicodeToKoDau(n.term).trim(),i=null,JSON!==undefined&&localStorage!==undefined&&(i=JSON.parse(localStorage.getItem("suggestion-cache-2019"))),i||(i={}),e=i[f],e){r=[];r.push({id:null,label:n.term,value:n.term});r=r.concat(e);t(r);return}o="";o=+w.val()==38?$("#staticDomain").data("sug-sell")?$("#staticDomain").data("sug-sell"):"https://suggestion1.batdongsan.com.vn/":$("#staticDomain").data("sug-rent")?$("#staticDomain").data("sug-rent"):"https://suggestion2.batdongsan.com.vn/";s=function(r){i[f]=r;localStorage&&localStorage.setItem("suggestion-cache-2019",JSON.stringify(i));var u=[];u.push({id:null,label:n.term,value:n.term});u=u.concat(r);t(u)};cnt=0;$.ajax({url:o+f,success:s})}else u=[{type:k,label:ut,value:ut}],tt.GetSearchingHistories().then(function(n){n.length>0&&(u=u.concat(n.map(function(n,t){var i="";return n.searchingInfos.productType&&n.searchingInfos.productType.label&&(i+=n.searchingInfos.productType.label),i+=n.searchingInfos.category&&n.searchingInfos.category.label?` ${n.searchingInfos.category.label.toLowerCase()}`:` BĐS`,i+=n.searchingInfos.location&&n.searchingInfos.location.project&&n.searchingInfos.location.project.label?`, ${n.searchingInfos.location.project.label}`:n.searchingInfos.location&&n.searchingInfos.location.street&&n.searchingInfos.location.street.label?`, ${n.searchingInfos.location.street.label}`:n.searchingInfos.location&&n.searchingInfos.location.ward&&n.searchingInfos.location.ward.label?`, ${n.searchingInfos.location.ward.label}`:n.searchingInfos.location&&n.searchingInfos.location.district&&n.searchingInfos.location.district.label?`, ${n.searchingInfos.location.district.label}`:n.searchingInfos.location&&n.searchingInfos.location.city&&n.searchingInfos.location.city.label?`, ${n.searchingInfos.location.city.label}`:" trên toàn quốc",n.searchingInfos.keywork&&(i=n.searchingInfos.location||n.searchingInfos.category?`"${n.searchingInfos.keywork}", ${i}`:`"${n.searchingInfos.keywork}", ${n.searchingInfos.productType.label} BĐS`),n.searchingInfos.price&&n.searchingInfos.price.label&&(i+=`, ${n.searchingInfos.price.label.charAt(0).toUpperCase()+n.searchingInfos.price.label.slice(1)}`),n.searchingInfos.area&&n.searchingInfos.area.label&&(i+=`, ${n.searchingInfos.area.label.charAt(0).toUpperCase()+n.searchingInfos.area.label.slice(1)}`),n.searchingInfos.room&&n.searchingInfos.room.label&&(i+=`, ${n.searchingInfos.room.label} phòng ngủ`),n.searchingInfos.direction&&n.searchingInfos.direction.label&&(i+=`, Hướng ${n.searchingInfos.direction.label.toLowerCase()}`),n.searchingInfos.media&&n.searchingInfos.media.label&&(i+=`, Tin có ${n.searchingInfos.media.label.charAt(0).toLowerCase()+n.searchingInfos.media.label.slice(1)}`),{type:p,id:{productType:n.searchingInfos.productType&&n.searchingInfos.productType.id?n.searchingInfos.productType.id:38,categoryId:n.searchingInfos.category&&n.searchingInfos.category.id?n.searchingInfos.category.id:0,city:n.searchingInfos.location?n.searchingInfos.location.city?n.searchingInfos.location.city.code:null:null,distr:n.searchingInfos.location?n.searchingInfos.location.district?n.searchingInfos.location.district.id:null:null,wardid:n.searchingInfos.location?n.searchingInfos.location.ward?n.searchingInfos.location.ward.id:null:null,streetid:n.searchingInfos.location?n.searchingInfos.location.street?n.searchingInfos.location.street.id:null:null,projid:n.searchingInfos.location?n.searchingInfos.location.project?n.searchingInfos.location.project.id:null:null,priceid:n.searchingInfos.price&&n.searchingInfos.price.id>=0?n.searchingInfos.price.id:-1,maxprice:n.searchingInfos.price?n.searchingInfos.price.max:null,minprice:n.searchingInfos.price?n.searchingInfos.price.min:null,areaid:n.searchingInfos.area&&n.searchingInfos.area.id>=0?n.searchingInfos.area.id:-1,maxarea:n.searchingInfos.area?n.searchingInfos.area.max:null,minarea:n.searchingInfos.area?n.searchingInfos.area.min:null,roomid:n.searchingInfos.room&&n.searchingInfos.room.id>=0?n.searchingInfos.room.id:-1,directionid:n.searchingInfos.direction&&n.searchingInfos.direction.id>=0?n.searchingInfos.direction.id:-1,mediaid:n.searchingInfos.media?n.searchingInfos.media.id:null},label:i,value:i,keywork:n.searchingInfos.keywork,index:t,oId:n.oId}}).reverse().filter(function(n,t){return t<4})));t(u)})},minLength:0,position:{offset:"0 16"},select:function(n,t){var i;t.item.type===k?(n.preventDefault(),ot.GetYourLocation().then(function(n){a.ChangeLocation({cityCode:n.cityCode,districtId:n.districtId});$("#btnSearch").click()}).catch(function(){alert("Vui lòng bật chia sẻ địa điểm để sử dụng tính năng này.")})):t.item.type===p?(n.preventDefault(),t.item.keywork&&$("#search-suggestion").val(t.item.keywork),t.item&&t.item.id?(i=t.item.id,$(`li[ptype]`).removeClass("actived"),$(`li[ptype="${i.productType}"]`).addClass("actived"),it(i.productType),a.ChangeLocation({cityCode:i.city,districtId:i.distr,wardId:i.wardid,streetId:i.streetid,projectId:i.projid}).then(function(){if($("#suggestionTemp").val(t.item.value),i.categoryId){var n=$("#divCategoryRe").find(`li[vl="${i.categoryId}"]>span`).html();n&&($("#divCategoryRe").find(`li[vl] span`).removeClass("active"),$("#divCategoryRe").find(`li[vl="${i.categoryId}"]>span`).addClass("active"),$("#divCategoryRe").find("div.custom-value").html(n),$("#divCategoryRe").find("div.custom-value").addClass("hasvalue"));$("#hdCboCatagory").val(i.categoryId)}+i.priceid>=0?o.SetValueExtension(i.priceid):(i.maxprice&&($("#price-slider-range").slider("values",1,i.maxprice),$("#txtPriceMaxValue").val(i.maxprice),$("#txtPriceMaxValue").trigger("keyup")),i.minprice&&($("#price-slider-range").slider("values",0,i.minprice),$("#txtPriceMinValue").val(i.minprice),$("#txtPriceMinValue").trigger("keyup")));i.areaid?h.SetValueExtension(i.areaid||-1):(i.maxarea&&($("#area-slider-range").slider("values",1,i.maxarea),$("#txtAreaMaxValue").val(i.maxarea),$("#txtAreaMaxValue").trigger("keyup")),i.minarea&&($("#area-slider-range").slider("values",0,i.minarea),$("#txtAreaMinValue").val(i.minarea),$("#txtAreaMinValue").trigger("keyup")));f.SetValueExtension(i.mediaid);u.SetValueExtension(i.roomid);c.SetValueExtension(i.directionid);s();$("#btnSearch").click()})):$("#btnSearch").click()):t.item&&t.item.id&&(n.preventDefault(),$("#search-suggestion").val(null),i=t.item.id,a.ChangeLocation({cityCode:i.city,districtId:i.distr,wardId:i.wardid,streetId:i.streetid,projectId:i.projid}),$("#suggestionTemp").val(t.item.value),n.preventDefault(),$("#btnSearch").click())}}).on("click",function(){$(this).val()===""&&$(this).autocomplete("search","")}).keyup(function(){$(this).val().trim().length>0?$(".icon-close").show():$(".icon-close").hide()}).keypress(function(n){n.which===13&&$("#btnSearch").click()});$("#search-suggestion").attr("autocomplete","off");$(".icon-close").click(function(){$("#search-suggestion").val("");$("#Keyword").val("");$(this).hide()});$(".history-close").click(function(){var t=$(this).parent().next("li"),n=$(this).parent().prev("li");t.hasClass("ui-autocomplete-category")&&n.hasClass("ui-autocomplete-category")&&n.remove();$(this).parent().remove()});$(".ui-autocomplete").click(function(n){n.target.className.indexOf("remove-searching-history")>=0&&tt.RemoveSearchingHistory(+$(n.target).attr("index"),$(n.target).attr("o-id")).then(function(){$("#search-suggestion").click()})});$(document).mouseup(function(n){var t=$(".ui-autocomplete");t.is(n.target)||t.has(n.target).length!==0||$("#search-suggestion").autocomplete("close")})}(),function(){window.serverCss=n.serverCss;$(".price-reset").click(function(){var n=$("#price-slider-range"),t=n.slider("option");n.slider("values",[t.min,t.max]);o.SetValueExtension(-1);$(".price-control .custom-value").removeClass("hasvalue")});o.BindChangeEvent(o,function(n){var f=+w.val(),r=3e4,t,i,e,u,o;f===49&&(r=100);t=0;i=r;n.GetValue().length>0?(e=f===38?{"1":[0,500],"2":[500,800],"3":[800,1e3],"4":[1e3,2e3],"5":[2e3,3e3],"6":[3e3,5e3],"7":[5e3,7e3],"8":[7e3,1e4],"9":[1e4,2e4],"10":[2e4,3e4],"11":[3e4,3e4]}:{"1":[0,1],"2":[1,3],"3":[3,5],"4":[5,10],"5":[10,40],"6":[40,70],"7":[70,100],"8":[100,100]},u=e[n.GetValue()],u&&(t=u[0],i=u[1])):(n.GetMinValue().length>0&&(t=parseFloat(n.GetMinValue())),n.GetMaxValue().length>0&&(i=parseFloat(n.GetMaxValue())));i<t&&(o=i,i=t,t=o);t<0&&(t=0);t>r&&(t=r);i<0&&(i=0);i>r&&(i=r);$("#price-slider-range").slider("values",[t,i])})}(),function(){window.serverCss=n.serverCss;$("#area-slider-range").slider({range:!0,orientation:"horizontal",min:0,max:500,values:[0,500],step:5,slide:function(n,t){if(t.values[0]===t.values[1])return!1;$("#txtAreaMinValue").val(t.values[0]);$("#txtAreaMaxValue").val(t.values[1]);$("#txtAreaMinValue").trigger("keyup");$("#txtAreaMaxValue").trigger("keyup")}});$(".area-reset").click(function(){var n=$("#area-slider-range"),t=n.slider("option");n.slider("values",[t.min,t.max]);h.SetValueExtension(-1);$(".area-control .custom-value").removeClass("hasvalue")});h.BindChangeEvent(h,function(n){var t=0,i=500,u=n.GetText(),r,f;(n.GetValue().length>0||n.GetMaxValue().length>0||n.GetMinValue().length>0)&&(n.GetValue().length>0?parseInt(n.GetValue())>0&&(r=u.split("-"),r.length===2?(t=parseInt(r[0].replace(/[^0-9-]/ig,"")),i=parseInt(r[1].replace(/[^0-9-]/ig,""))):u.startsWith("<")?(i=parseInt(r[0].replace(/[^0-9-]/ig,"")),t=0):t=parseInt(r[0].replace(/[^0-9-]/ig,""))):(n.GetMinValue().length>0&&(t=parseFloat(n.GetMinValue().replace(/[^0-9-]/ig,""))),n.GetMaxValue().length>0&&(i=parseFloat(n.GetMaxValue().replace(/[^0-9-]/ig,"")))));i<t&&(f=i,i=t,t=f);t<0&&(t=0);t>500&&(t=500);i<0&&(i=0);i>500&&(i=500);$("#area-slider-range").slider("values",[t,i])})}(),function(){u.BindChangeEvent(u,ft);f.BindChangeEvent(f,ft);c.BindChangeEvent(c,s);$(".filter-reset").click(function(){u.ResetOption(-1);f.ResetOption(0);r.SetValueExtension(0);i.SetValueExtension(0);c.SetValueExtension(-1);s()})}(),function(){if(n.model.categoryId){var t=$("#divCategoryRe").find(`li[vl="${n.model.categoryId}"]>span`).html();t&&($("#divCategoryRe").find(`li[vl] span`).removeClass("active"),$("#divCategoryRe").find(`li[vl="${n.model.categoryId}"]>span`).addClass("active"),$("#divCategoryRe").find("div.custom-value").html(t),$("#divCategoryRe").find("div.custom-value").addClass("hasvalue"));$("#hdCboCatagory").val(n.model.categoryId)}$("#search-suggestion").val($("#Keyword").val().replace(/-/ig," "));$("#Keyword").val()&&$(".icon-close").show();a.ChangeLocation(n.model);n.model.priceId!==-1?o.SetValueExtension(n.model.priceId):(n.model.minPrice&&($("#price-slider-range").slider("values",0,n.model.minPrice),$("#txtPriceMinValue").val(n.model.minPrice),$("#txtPriceMinValue").trigger("keyup")),n.model.maxPrice&&($("#price-slider-range").slider("values",1,n.model.maxPrice),$("#txtPriceMaxValue").val(n.model.maxPrice),$("#txtPriceMaxValue").trigger("keyup")));n.model.areaId!==-1?h.SetValueExtension(n.model.areaId):(n.model.minArea&&($("#area-slider-range").slider("values",0,n.model.minArea),$("#txtAreaMinValue").val(n.model.minArea),$("#txtAreaMinValue").trigger("keyup")),n.model.maxArea&&($("#area-slider-range").slider("values",1,n.model.maxArea),$("#txtAreaMaxValue").val(n.model.maxArea),$("#txtAreaMaxValue").trigger("keyup")));n.model.roomId!==-1&&(n.model.roomId>4?u.SetValueExtension(n.model.roomId-1):u.SetValueExtension(n.model.roomId));n.model.directionId!==-1&&c.SetValueExtension(n.model.directionId);n.model.tabIndex>0&&f.SetValueExtension(n.model.tabIndex);s()}();$("#btnSearch").click(function(){function ot(n){return n.indexOf('<span class="arrow-icon"><\/span>')>=0&&(n=`từ ${n}`,n=n.replace('<span class="arrow-icon"><\/span>'," đến ").trim()),n.indexOf("&gt;=")>=0&&(n=n.replace("&gt;=","từ").trim()),n.indexOf("&lt;")>=0&&(n=n.replace("&lt;","tối đa").trim()),n}var s=$("#search-suggestion").val(),b=$("#suggestionTemp").val(),n,et,ht,k,st,d,g,nt,a,v,y,it,p,w,l,rt,ut,ft;s===b&&(s="");n={productType:{id:+$(".search-bar-tab li.actived").attr("ptype"),label:$(".search-bar-tab li.actived").html()}};!(s||$("#Keyword").val())||(et=s||$("#Keyword").val(),n.keywork=et.toLocaleLowerCase());+$("#hdCboCatagory").val()>0&&(n.category={id:+$("#hdCboCatagory").val(),label:+$("#hdCboCatagory").val()>0?$("#divCategoryRe .custom-value").html():null});t.GetValueAtLevel(1)&&t.GetValueAtLevel(1)!="CN"&&(n.location={city:{code:t.GetValueAtLevel(1),label:$(`.advance-options.level[city="${t.GetValueAtLevel(1)}"]`).html()}},+t.GetValueAtLevel(2)>0&&(n.location.district={id:+t.GetValueAtLevel(2),label:t.GetText()},+r.GetValue()>0&&(n.location.ward={id:+r.GetValue(),label:r.GetText()}),+i.GetValue()>0&&(n.location.street={id:+i.GetValue(),label:i.GetText()}),+e.GetValue()>0&&(n.location.project={id:+e.GetValue(),label:e.GetText()})));(+$("#txtAreaMaxValue").val()>0||+$("#txtAreaMinValue").val()>0||+h.GetValue()>0)&&(ht=h.GetText()+"",n.area={max:+$("#txtAreaMaxValue").val(),min:+$("#txtAreaMinValue").val(),id:+h.GetValue(),label:ot(h.GetText())});l=o.GetValue();l=l==undefined||l==null||l===""||l==NaN?-1:+l;(+$("#txtPriceMaxValue").val()>0||+$("#txtPriceMinValue").val()>0||l>=0)&&(n.price={max:+$("#txtPriceMaxValue").val(),min:+$("#txtPriceMinValue").val(),id:l,label:ot(o.GetText())});+u.GetValue()>0&&(k=+u.GetValue()||-1,n.room={id:k,label:u.find(`li[vl="${k}"]`).html()});+c.GetValue()>0&&(st=+u.GetValue()||-1,n.direction={id:st,label:`${c.GetText()}`});+f.GetValue()>0&&(n.media={id:+f.GetValue(),label:f.find(`li[vl="${+f.GetValue()}"]`).html()});tt.AddSearchingHistory(n);d=t.GetValueAtLevel(1);strInput=$("#search-suggestion").val().toLowerCase();g=+$("#hdCboCatagory").val();d!==""&&d!=="CN"||strInput.length===0||$.trim(strInput)===""||$.trim(strInput)===$("#search-suggestion").attr("placeholder")||!(!g||g<0)?(s=$("#search-suggestion").val().toLowerCase().trim(),b=$("#suggestionTemp").val().toLowerCase().trim(),s===b&&(s=""),s=s.replace(/'/ig,""),s=UnicodeToKoDauUrl(s),$("#Keyword").val(s),$("form#boxSearchForm").submit()):(strInput=$("#search-suggestion").val().toLowerCase(),strInput=strInput.replace(/'/ig,""),strInput=UnicodeToKoDauUrl(strInput),nt=window.location.origin,nt+=+$(".search-bar-tab li.actived").attr("ptype")==38?"/tags/ban/"+strInput:"/tags/cho-thue/"+strInput,a=new URL(nt),v=$("#txtAreaMinValue").val(),v&&a.searchParams.set("areaMin",v),y=$("#txtAreaMaxValue").val(),y&&a.searchParams.set("areaMax",y),it=+h.GetValue(),!v&&!y&&it>=0&&a.searchParams.set("areas",it),p=$("#txtPriceMinValue").val(),p&&a.searchParams.set("priceMin",p),w=$("#txtPriceMaxValue").val(),w&&a.searchParams.set("priceMax",w),l=+o.GetValue(),!p&&!w&&l>=0&&a.searchParams.set("price",l),rt=+c.GetValue(),rt>0&&a.searchParams.set("direction",rt),ut=+u.GetValue(),ut>0&&a.searchParams.set("room",ut),ft=+f.GetValue(),ft&&a.searchParams.set("tabIndex",ft),window.location.href=a.href)});$("#link-reset").click(function(){$("#search-suggestion").val("");$("#Keyword").val("");$(".icon-close").hide();$(".search-bar-tab li[ptype=38]").trigger("click");$(".select-control").removeClass("active");$(".custom-value").removeClass("hasvalue");a.ChangeLocation(null);o.SetValue("-1");h.SetValue("-1");u.SetValue("-1");c.SetValue("-1");f.SetValue("-1")})})();$(window).on("resize",function(){et();s();ct();var n=window.innerWidth;n<=1024?$(".search-bar-filter .search-bar-tab").length||($(".search-bar-tab").clone(!0,!0).appendTo(".search-bar-filter"),$(".search-bar-filter .search-bar-tab").show()):($(".search-bar-tab").show(),$(".search-bar-filter").html(""))});return $(window).scroll(function(){}),$(window).trigger("resize"),{}}}else setTimeout(function(){t(n)},100)})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={})),function(n){(function t(n){window.jQuery?n.Breadcrumbs=function(){function i(){var i,t;if($('.breadcrumb a[level="1"]').length>0){for(i=+$(".breadcrumb span").css("line-height").replace("px","")+2,t=1;t<n-1;t++)$(".breadcrumb").height()>i&&$(`.breadcrumb a[level="${t+1}"]`).attr("shown-title")!=="true"&&($(`.breadcrumb a[level="${t+1}"]`).attr("shown-title")||r($(`.breadcrumb a[level="${t+1}"]`)),$(`.breadcrumb a[level="${t+1}"]`).html("..."));$(".breadcrumb").height()>i&&$(`.breadcrumb a[level="${n}"]`).attr("shown-title")!=="true"&&($(`.breadcrumb a[level="${n}"]`).attr("shown-title")||r($(`.breadcrumb a[level="${n}"]`)),function u(){var t=$(`.breadcrumb a[level="${n}"]`).html();$(`.breadcrumb a[level="${n}"]`).html(t.substring(0,t.length-1));$(".breadcrumb").height()>i?u():$(`.breadcrumb a[level="${n}"]`).html(t.substring(0,t.length-5)+"...")}())}}function r(n){n.css("cursor","pointer");n.attr("hidden-html",n.html());n.attr("hidden-href",n.attr("href"));n.attr("shown-title","false");n.removeAttr("href");n.on("click",function(t){t.preventDefault();n.attr("href",n.attr("hidden-href"));n.removeAttr("hidden-href");n.html(n.attr("hidden-html"));n.removeAttr("hidden-html");n.attr("shown-title","true");n.unbind("click")})}var t=[],n=$(`.breadcrumb a[level]`).length;(function(){$(document).ready(function(){for(var r=0;r<n;r++)t.push($(`.breadcrumb a[level="${r+1}"]`).html());i()});$(window).resize(function(){for(var r=0;r<n;r++)$(`.breadcrumb a[level="${r+1}"]`).html(t[r]);i()})})()}:setTimeout(function(){t(n)},100)})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={}));cm=new CommonJS.Common;boxProductRight={},function(n){n.BoxRight=function(){function n(){$(".box-product-right-viewmore").click(function(){$(this).parent("div.box-view-more").addClass("hide");$(this).parent("div.box-view-more").siblings("ul").removeClass("height")})}return{Initialize:n}}}(boxProductRight);MarkingProductsServices=FrontEnd.MarkingProductsServices,function(n){(function t(n){window.jQuery?n.ProductListBinnova=function(n){function s(){return i?new Promise(function(n){n(i)}):t.AjaxWrapperWithPromise({method:"GET",url:`${o}${n.getTabProjectUrl}`}).then(function(n){return i=n,n+""})}function e(){return+$(".sort-control ul.advance-options li.actived").attr("vl")}function r(){return $("#hashAlias").val()}function h(){return+$(".pagination a").attr("pid")}function u(){var n=new URL(window.location.href);return+(n.searchParams.get("tabIndex")|0)}var t=new CommonJS.Common,i="",o=$("#staticDomain").data("msvrouter")!==undefined?$("#staticDomain").data("msvrouter"):"",f=new MarkingProductsServices;return function(){function i(n){if($(n).find(".contact-phone").length>0){var t=$(n).find(".contact-phone").outerHeight();(function i(){var u=$(n).outerHeight(),r;u>t&&(r=$(n).find(".contact-name").html(),r&&$(n).find(".contact-name").html(`...${r.substring(4,r.length)}`),i())})()}}if(localStorage&&n.model){var o={type:n.model.typeOfProduct,cate:n.model.categoryId,city:n.model.cityCode,distr:n.model.districtId,wardid:n.model.wardId,streetid:n.model.streetId,projid:n.model.projectId};localStorage.setItem("USER_LOCATION",JSON.stringify(o))}(function(){var n=JSON.parse(getCookie("PRODUCT_FILTER")),t=!location.href.match(/\/p[\d]*/g);t&&n&&n.CurrentUrl!==location.href&&setCookie("PRODUCT_FILTER",JSON.stringify({TabIndex:u(),SortValue:0,PageIndex:1,HashAlias:r(),CurrentUrl:location.href}),null,"/")})();$(document).ready(function(){$(".product-contact").each(function(){var n=this;$(n).attr("name",$(n).find(".contact-name").html());i(n);$(n).find(".contact-phone").click(function(){i(n)})})});$(window).resize(function(){$(".product-contact").each(function(){var n=this;$(n).find(".contact-name").html($(n).attr("name"));i(n)})});$(".sort-control .custom-control-label").click(function(){function n(){$("#divSort").hide();$(".sort-control").removeClass("actived")}function t(){$("#divSort").show();$(".sort-control").addClass("actived")}$("#divSort").is(":visible")?n():t()});$(".sort-control ul.advance-options li").click(function(n){var t,i;$(".sort-control ul.advance-options li").removeClass("actived");$(n.target).addClass("actived");setCookie("PRODUCT_FILTER",JSON.stringify({TabIndex:u(),SortValue:e(),PageIndex:1,HashAlias:r(),CurrentUrl:location.href}),null,"/");t=location.href.split("/");t[t.length-1].startsWith("p")&&(t[t.length-1]=t[t.length-1].replace(/p[\d]*/g,""),t[t.length-1]||t.pop());i=t.join("/");i=i.replace("/?","?");$("form#productListBinnova").attr("action",i);$("form#productListBinnova").submit()});$(".pagination a").click(function(){setCookie("PRODUCT_FILTER",JSON.stringify({TabIndex:u(),SortValue:e(),PageIndex:h(),HashAlias:r(),CurrentUrl:location.href}),null,"/")});$(".project-display").click(function(n){n.preventDefault();$(this).addClass("actived");$(".product-nav-bar .ul-tab").children("li").removeClass("actived");$(".product-lists").hide();s().then(function(n){$(".product-lists-project").html(n);$(".product-lists-project").show()})});$(".list-display").click(function(){$(".project-display").removeClass("actived");$(".product-nav-bar .ul-tab").children("li").removeClass("actived");$(this).addClass("actived");$(".product-lists").show();$(".product-lists-project").hide()});$(".box-view-more").click(function(){$(this).hide();$(this).siblings("ul").removeClass("height")});$(document).ready(function(){$(".product-lists .product-content").each(function(){var i=$(this).html(),n,t;$(this).append(`<span id="testLength" style="display: inline-block">${i}</span>`);n=$(this).width();t=$(this).find("#testLength").width();$(this).find("#testLength").remove();n<t&&$(this).attr("style","word-break: break-all;")})});$(document).mousedown(function(n){$(n.target).hasClass("custom-drop-control")||$(n.target).parents(".custom-drop-control").length>0||($(".custom-drop-control .custom-dropbox").hide(),$(".custom-drop-control").removeClass("actived"))});f.GetMarkedProductsFromLocal().then(function(n){$(".iconSave").each(function(){n.filter(n=>n.productId===+$(this).data("productid")).length&&t.MarkProduct($(this))})});$(".iconSave").click(function(){var n=$(this),i=$("body").width();$(window).resize(function(){i=$("body").width()});f.MarkOrUnmarkProduct(t.GetMarkedProductFromView(n)).then(function(r){r.marked?(t.MarkProduct(n,r.markedProductsCount),i<=1300&&ShowToolTipSave($(".popupMarking.save"))):(t.UnmarkProduct(n,r.markedProductsCount),i<=1300&&ShowToolTipSave($(".popupMarking.unsave")))});menu.ShowListSaveNoti()})}(),{}}:setTimeout(function(){t(n)},100)})(n.Product||(n.Product={}))}(window.FrontEnd||(window.FrontEnd={}));